{"version":3,"sources":["src/themes/light/index.ts","src/themes/light/App.ts","src/themes/light/Form.ts","src/themes/light/Game.ts","src/themes/light/Header.ts","src/themes/light/Notification.ts","src/themes/light/Rules.ts","src/themes/index.ts","src/reducers/AuthReducer.ts","src/reducers/GameReducer.ts","src/navigation/app-routes.ts","src/reducers/index.ts","src/actions/game.ts","src/actions/auth.ts","src/scenes/auth/platformSpecific/LogoutWithGoogle.tsx","src/components/form-button.component.tsx","src/scenes/auth/sign-out.component.tsx","src/assets/icons.tsx","src/components/form-input.component.tsx","src/scenes/auth/platformSpecific/LoginWithGoogle.tsx","src/scenes/auth/platformSpecific/LoginWithApple.ios.tsx","src/data/sign-in.model.ts","src/components/modal-header.component.tsx","src/scenes/auth/sign-in.component.tsx","src/data/sign-up.model.ts","src/scenes/auth/register.component.tsx","src/scenes/auth/index.ts","src/scenes/game/host.component.tsx","src/data/join-lobby.model.ts","src/scenes/game/join.component.tsx","src/components/modal-header-lobby.component.tsx","src/components/loading.component.tsx","src/components/notification-bar.component.tsx","src/components/player-single.component.tsx","src/components/player-list.component.tsx","src/components/question-list.component.tsx","src/scenes/game/game-tabs.component.tsx","src/scenes/game/lobby.component.tsx","src/components/answers.component.tsx","src/components/picked-players.component.tsx","src/data/question-input.model.ts","src/helpers/shuffle-question.helper.ts","src/components/question-input.component.tsx","src/scenes/game/game.component.tsx","src/data/edit-user.model.ts","src/scenes/game/edit.component.tsx","src/scenes/game/index.ts","src/navigation/auth.navigator.tsx","src/scenes/main/home.component.tsx","src/scenes/main/devinfo.component.tsx","src/scenes/main/rules.component.tsx","src/scenes/main/index.ts","src/navigation/main.navigator.tsx","src/navigation/game.navigator.tsx","src/navigation/app.navigator.tsx","App.tsx","web-build/register-service-worker.js","src/themes sync /^/.//.*$","assets/Extra.png","assets/Hosting.png","assets/Joining1.png","assets/ChosenorNotChosen.png","assets/Hosting1.png"],"names":["App","Form","Game","Header","Notification","Rules","StyleSheet","create","tab","flex","justifyContent","backgroundColor","rulesContainer","textAlign","container","paddingVertical","paddingHorizontal","alignItems","position","title","color","fontSize","fontWeight","titleRed","paddingBottom","subTitle","itemContainer","display","formButton","marginVertical","borderWidth","shadowColor","shadowOpacity","shadowRadius","shadowOffset","width","height","borderRadius","formButtonAlternate","signOutAndCogContainer","top","margin","flexDirection","signOutBtn","formContainer","formContainerReg","homeBtn","resetPasswordContainer","formControl","borderColor","formControlReg","submitButton","noAccountButton","haveAccountButton","thirdPartyButtonContainer","customHrTag","marginTop","marginBottom","customHrTagReg","paddingTop","gameLoadingSpinner","loadingSpinner","listContainer","listItem","playerAvatar","alignSelf","borderTopStartRadius","borderTopEndRadius","submitButtonJoined","bottom","borderBottomStartRadius","titleChosenYellow","titleChosenRed","answerLeft","left","padding","borderBottomEndRadius","answerRight","right","pleadTheFifth","pleadAlignLeft","pleadAlignRight","question","questInAnsPhase","pickedPlayerContainer","pickedPlayer","pickedPlayerCard","cardPink","cardPinkAnswer","cardPurpleAnswer","cardPurple","belowCardText","alignLeft","alignRight","titleNotChosen","inputTitle","inputContainer","borderTopLeftRadius","borderTopRightRadius","questionInputContainer","questionInput","overflow","questionInputButton","marginHorizontal","codeTitle","leaderboardTitle","button","notification","rulesImage","ruleHeading","ruleDescription","rulesBtn","styles","require","default","module","exports","fileName","initialState","name","email","password","confirm_password","isLoading","canSubmit","token","actionSuccess","error","authedWithGoogle","accessToken","AppRoute","colours","lobbyName","user","id","score","inHotseat","inLobby","inGame","isHost","players","messages","pickedPlayers","questions","roundOver","round","phase","timer","hotseatOptions","undefined","currentQuestionId","roundOptions","numOfRounds","init","canAnswer","displayAnswer","combineReducers","auth","state","action","type","payload","prop","value","toRegister","_id","game","message","result","hide","push","includes","allMessages","i","findIndex","dat","newPlayers","map","player","colour","length","playerI","hotseatPlayers","some","newQuestionId","console","getPlayers","log","newQuestions","answers","questionIndex","setGameLoading","setMessages","dispatch","setTimeout","initGameSock","GameSockClient","Constants","manifest","extra","SERVER_URL","newGameOptions","rounds","startGame","newRoundOptions","roundNum","setPhase","startRound","allQuestions","startHotseat","endGame","newPlayer","playerUpdate","playerListUpdate","onHotseatAnswer","secondsLeft","timerUpdate","msg","hostGameAction","body","Math","random","toString","substr","toUpperCase","username","then","Array","isArray","hostGame","joinGame","AsyncStorage","setItem","JSON","stringify","expiry","Date","now","lobby","catch","e","autoRejoinLobby","getItem","store","parsedStore","parse","data","find","inputQuestion","time","onNextQuestion","updateSinglePlayer","leaveGame","answerQuestion","playerIndex","baseUrl","setLoading","formUpdate","fetch","method","headers","response","json","err","getUser","login","loginWithThirdParty","provider","success","logout","credentials","signOutUrl","removeItem","WEB_GOOGLE_CLIENT_ID","LogoutWithGoogle","responseGoogle","res","setState","props","View","clientId","onSuccess","this","onFailure","buttonText","Text","Component","connect","ButtonInput","text","loading","icon","ButtonProps","accessoryRight","size","status","disabled","SafeAreaView","style","onPress","AlertTriangleIcon","EyeIcon","EyeOffIcon","FormInput","inputProps","formContext","useFormikContext","errors","fieldProps","captionIcon","caption","onChangeText","handleChange","LoginWithGoogle","tokenId","cookiePolicy","LoginWithApple","signInWithAppleMobile","a","async","AppleAuthentication","requestedScopes","FULL_NAME","EMAIL","fullName","givenName","familyName","identityToken","authorizationCode","Platform","OS","buttonType","SIGN_IN","buttonStyle","BLACK","cornerRadius","SignInSchema","SignInData","Yup","shape","min","required","ModalHeader","category","actions","React","useState","passwordVisible","setPasswordVisible","onPasswordIconPress","renderPasswordIcon","IconComponent","navigation","navigate","HOME","initialValues","validationSchema","onSubmit","values","submit","isSubmitting","setSubmitting","Fragment","placeholder","keyboardType","autoCapitalize","onKeyPress","nativeEvent","key","handleSubmit","secureTextEntry","appearance","isValid","isValidating","SIGN_UP","SignUpSchema","password_confirm","SignUpData","when","is","val","oneOf","autoCorrect","SignoutScreen","SignInScreen","RegisterScreen","HostScreen","SIGN_OUT","JoinLobbySchema","JoinLobbyData","max","gameActions","ModalHeaderLobby","lobbyCode","isLeaderboard","loadingText","LoadingComponent","filter","messageToDisplay","replace","item","editPage","editModalOpen","setEditModalOpen","renderItemIcon","getPlayerInitials","renderEditIcon","renderEditIconButton","accessoryLeft","navigateToEditPage","renderEditModal","visible","anchor","fullWidth","onBackdropPress","initials","match","shift","pop","fill","sort","b","renderItem","selectedIndex","setSelectedIndex","renderIcon","onSelect","index","playerId","pointsToPlayers","hotseatPlayer","answer","questionAnswer","tabContainer","GameTabs","topState","useTabBarState","showTabs","gameIsFinished","readyToPlay","EDIT_USER","GAME","PickedPlayers","canSelectAnswer","onSelectPlayer","renderTextTitle","isPlayer","QuestionSchema","QuestionInputData","matches","objects","verbs","shuffleQuestion","randFromAr","array","floor","renderShuffleIcon","KeyboardAvoidingView","behavior","Keyboard","dismiss","numQuestions","setValues","useEffect","onSubmitEditing","setServerHasQuestions","notEnoughQuestions","setNotEnoughQuestions","useKeepAwake","onRequestQuestions","oldBool","userIsInHotseat","gamePhaseController","EditUserSchema","EditUserData","JoinScreen","LobbyScreen","GameScreen","EditUserScreen","waitForRediect","setWaitForRedirect","goBack","Stack","createStackNavigator","AuthNavigator","Navigator","headerMode","screenOptions","animationEnabled","Screen","HOST","component","bindActionCreators","setCanRejoin","setRejoinInfo","unparsedID","parsedOldID","Accept","ok","active","bool","RULES","settingsIcon","questionIcon","settingsCog","DEVINFO","AUTH","field","version","DevInfoScreen","contentArr","imgSrc","description","Home","RulesScreen","page","level","Image","resizeMode","source","MainNavigator","mode","main","GameNavigator","INGAME","LOBBY","JOIN","AppNavigator","createStore","reducers","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","f","icons","EvaIconsPack","eva","theme","NavigationContainer","navigator","addEventListener","serviceWorker","register","scope","info","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve"],"mappings":"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QACA,UACA,kBACA,YACA,iBACA,QACA,aACA,WACA,uBACA,aACA,aACA,MACA,aACA,aACA,cACA,OACA,UACA,SACA,aACA,MACA,aACA,OACA,SACA,cACA,UACA,gBACA,OACA,eACA,OACA,aACA,aACA,WACA,OACA,SACA,aACA,eACA,UACA,QACA,aACA,eACA,aACA,YACA,SACA,UACA,WACA,oBACA,SACA,YACA,SACA,QACA,OACA,eACA,aACA,uBACA,iBACA,gBACA,MACA,WACA,WACA,gBACA,QACA,aACA,gBACA,QACA,gBACA,aACA,UACA,OACA,OACA,WACA,SACA,SACA,gBACA,aACA,OACA,SACA,eACA,YACA,QACA,MACA,YACA,gBACA,UACA,SACA,WACA,UACA,QACA,gBACA,uCACA,iBACA,kBACA,aACA,qBACA,eACA,mBACA,kBACA,oBACA,2BACA,wBACA,yBACA,mBACA,gBACA,qBACA,wBACA,QACA,QACA,QACA,iBACA,iBACA,MACA,gBACA,gBACA,UACA,QACA,cACA,gBACA,eACA,SACA,WACA,eACA,gBACA,cACA,cACA,aACA,gBACA,QACA,YACA,iBACA,SACA,QACA,MACA,SACA,QACA,OACA,oBACA,uBACA,mBACA,uBACA,cACA,OACA,cACA,cACA,aACA,aACA,WACA,cACA,SACA,YACA,QACA,cACA,QACA,cACA,YACA,QACA,UACA,QACA,iBACA,QACA,eACA,YACA,QACA,eACA,SACA,WACA,aACA,UACA,cACA,YACA,cACA,QACA,UACA,eACA,SACA,QACA,WACA,aACA,cACA,mBACA,eACA,cACA,YACA,YACA,QACA,cACA,QACA,UACA,UACA,aACA,cACA,gBACA,cACA,UACA,SACA,QACA,aACA,aACA,WACA,SACA,oBACA,SACA,aACA,aACA,aACA,YACA,QACA,UACA,YACA,cACA,UACA,YACA,OACA,SACA,mBACA,mBACA,SACA,KACA,OACA,SACA,YACA,kBACA,QACA,eACA,eACA,QACA,UACA,SACA,aACA,mBACA,eACA,cACA,SACA,aACA,QACA,UAMIC,GAAQ,CACZ,SACA,MACA,SACA,QACA,SACA,SACA,QACA,QACA,QACA,MACA,SACA,SACA,UACA,SACA,UACA,QACA,OACA,OACA,UACA,MACA,OACA,OACA,MACA,QACA,SACA,OACA,MACA,SACA,SACA,SACA,QACA,QACA,QACA,OACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,SACA,SACA,QACA,QACA,QACA,QACA,OACA,QACA,OACA,QACA,OACA,QACA,OACA,UACA,SACA,OACA,UACA,cACA,UACA,UACA,WACA,WACA,cACA,UACA,UACA,UACA,UACA,QACA,UACA,SACA,WACA,QACA,UACA,UACA,SACA,WACA,SACA,OACA,OACA,QACA,QACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,QACA,QACA,QACA,OACA,SACA,OACA,SACA,OACA,OACA,OACA,QACA,SACA,SACA,OACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,QACA,MACA,MACA,OACA,QACA,WACA,SACA,UACA,UACA,UACA,UACA,WACA,WACA,YACA,YACA,YACA,SACA,SACA,WACA,QACA,QACA,UACA,OACA,MACA,UACA,OACA,OACA,SACA,QACA,OACA,QACA,QACA,OACA,SACA,UACA,SACA,OACA,WACA,OACA,UACA,OACA,OACA,OACA,MACA,MACA,WACA,SACA,OACA,OACA,OACA,OACA,MACA,OACA,SACA,SACA,OACA,SACA,OACA,QACA,OACA,OACA,UACA,SACA,QACA,OACA,QACA,OACA,QACA,OACA,QACA,OACA,SACA,OACA,WACA,OACA,SACA,UACA,SACA,UACA,UACA,WACA,QACA,UACA,UACA,QACA,QACA,UACA,UACA,UACA,UACA,UACA,OACA,OACA,QACA,OACA,UACA,OACA,UACA,OACA,SACA,WACA,SACA,SACA,SACA,SACA,UACA,QACA,SACA,YACA,UACA,SACA,SACA,SACA,QACA,QACA,OACA,MACA,OACA,OACA,MACA,MACA,UACA,OACA,MACA,QACA,UACA,QACA,SACA,SACA,UACA,SACA,QACA,WACA,QACA,OACA,QACA,QACA,QACA,SACA,SACA,QACA,QACA,OACA,OACA,SACA,QACA,QACA,QACA,UACA,QACA,QACA,QACA,OACA,QACA,SACA,SACA,SACA,SACA,UACA,QACA,QACA,QACA,QACA,UACA,UACA,WACA,WACA,UACA,UACA,SACA,OACA,OACA,MACA,QACA,QACA,YACA,OACA,SACA,QACA,UACA,QACA,OACA,OACA,UACA,QACA,MACA,MACA,UACA,SACA,OACA,OACA,OACA,SACA,SACA,OACA,QACA,OACA,QACA,UACA,UACA,QACA,QAkBaC,GAZS,WACtB,IAAMC,EAAa,SAACC,GAAD,OACjBA,EAAM1O,KAAK2O,MAAM3O,KAAKC,SAAWyO,EAAMlR,UAOzC,MALQ,wBAAyBiR,EAAWF,IAA1C,MAAsDE,EACpDH,IADF,KCllBElV,GAASC,EAAQ,GAARA,CAAqB,QAoJrB8K,gBAlBS,SAACjI,GAAkC,IAAD,EAOpDA,EAAMQ,KAEV,MAAO,CACL3C,UAVsD,EAEtDA,UASAvB,cAXsD,EAGtDA,cASA2C,UAZsD,EAItDA,UASAV,KAbsD,EAKtDA,KASAkB,aAdsD,EAMtDA,gBAcFgP,EAFaxG,EA7HM,SAACT,GAIpB,IAYMkL,EAAoB,SAAClL,GAAD,OACxB,kBAAC,QAAD,OAAUA,EAAV,CAAiB/J,KAAK,wBAGhBI,EAAsD2J,EAAtD3J,UAAWvB,EAA2CkL,EAA3ClL,cAAemD,EAA4B+H,EAA5B/H,aAAcR,EAAcuI,EAAdvI,UAuDhD,OACE,kBAAC0T,GAAA,EAAD,CACEC,SAAyB,OAAfjI,KAASC,GAAc,UAAY,SAC7ChC,MAAO1L,GAAOhB,gBAEhB,kBAAC,KAAD,CACE2M,QAAyB,QAAhB8B,KAASC,GAAeiI,KAASC,QAAU,cAEpD,kBAAC,QAAD,CAAMlK,MAAO,CAACtR,MAAO,YAArB,eACc,kBAAC,QAAD,CAAMsR,MAAO,CAACtR,MAAO,YAArB,aADd,KACkEkQ,EAAMvI,UAAUqC,OADlF,KAC4F,IAC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","file":"static/js/app.aa42f23f.chunk.js","sourcesContent":["/*\n * File: index.ts\n * Project: frontend\n * Version: 1.0.0\n * File Created: Monday, 11th May 2020 11:36:00 am\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Theme controller for the light theme\n * Last Modified: Saturday, 16th May 2020 8:58:07 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\n/**\n * Import theme modules that are allowed to be accessed\n */\nimport App from './App';\nimport Form from './Form'\nimport Game from './Game'\nimport Header from './Header'\nimport Notification from './Notification'\nimport Rules from './Rules'\n\n/**\n * Export these modules to the rest of the application\n */\nexport default {\n  App,\n  Form,\n  Game,\n  Header,\n  Notification,\n  Rules\n};\n","import {StyleSheet} from 'react-native';\n\n/**\n * App Stylesheet for the light theme\n */\nexport default StyleSheet.create({\n  tab: {\n    // height: 192,\n    flex: 1,\n    // alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#D14688'\n  },\n  rulesContainer: {\n    flex: 1,\n    // alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: 'center',\n    backgroundColor: '#D14688'\n  },\n  container: {\n    flex: 1,\n    paddingVertical: 16,\n    paddingHorizontal: 16,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: '#161F26',\n    position: 'relative'\n  },\n\n  title: {\n    // paddingHorizontal: 16,\n    // paddingTop: '37%',\n    // paddingBottom: 82,\n    color: '#D7D98B',\n    fontSize: 45,\n    fontWeight: '400',\n    textAlign: 'center',\n  },\n\n  titleRed: {\n    // paddingHorizontal: 16,\n    paddingBottom: 8,\n    color: '#AD0D4B',\n    fontSize: 45,\n    fontWeight: '900',\n    textAlign: 'center',\n  },\n\n  subTitle: {\n    textAlign: 'center',\n  },\n\n  itemContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n\n  formButton:{\n    marginVertical: 10,\n    paddingHorizontal: 120,\n    paddingVertical: 50,\n    backgroundColor: '#AD0D4B',\n    borderWidth: 0,\n    shadowColor: 'black',\n    shadowOpacity: 0.5,\n    shadowRadius: 5,\n    shadowOffset: { width: 2, height: 2},\n    borderRadius: 5,\n    // width: '80%',\n    // marginHorizontal: 'auto'\n  },\n\n  formButtonAlternate:{\n    marginVertical: 10,\n    paddingHorizontal: 120,\n    paddingVertical: 50,\n    borderWidth: 0,\n    shadowColor: 'black',\n    shadowOpacity: 0.5,\n    shadowRadius: 5,\n    shadowOffset: { width: 2, height: 2},\n    borderRadius: 5,\n    backgroundColor:'#00B0FF'\n  },\n\n\n  signOutAndCogContainer: {\n    position: 'absolute',\n    top: 50,\n    width: '95%',\n    margin: 'auto',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n\n  signOutBtn: {\n    backgroundColor: '#AD0D4B',\n    borderWidth: 0,\n  }\n});\n","import { StyleSheet } from \"react-native\";\n\n/**\n * Form Stylesheet for the light theme\n */\nexport default StyleSheet.create({\n  formContainer: {\n    flex: 1,\n    paddingVertical: 16,\n    paddingHorizontal: 16,\n    backgroundColor: '#AD0D4B',\n    position: 'relative',\n    justifyContent: \"center\",\n  },\n\n  formContainerReg: {\n    flex: 1,\n    paddingVertical: 16,\n    paddingHorizontal: 16,\n    backgroundColor: '#D14688',\n    position: 'relative',\n    justifyContent: \"center\",\n  },\n\n  homeBtn: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n  },\n\n  resetPasswordContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n  },\n\n  formControl: {\n    marginVertical: 4,\n    backgroundColor: '#7B0D37',\n    borderColor: '#ffffff00',\n    fontSize: 16\n  },\n\n  formControlReg: {\n    marginVertical: 4,\n    backgroundColor: '#AB2364',\n    borderColor: '#ffffff00',\n    fontSize: 16,\n  },\n\n  submitButton: {\n    marginVertical: 24,\n    paddingVertical: 20,\n    backgroundColor: '#00B0FF',\n    borderWidth: 0,\n    shadowColor: 'black',\n    shadowOpacity: 0.5,\n    shadowRadius: 5,\n    shadowOffset: { width: 2, height: 2},\n    borderRadius: 5,\n  },\n\n  noAccountButton: {\n    // alignSelf: 'center',\n    marginVertical: 10,\n    paddingVertical: 20,\n    backgroundColor: '#D14688',\n    borderWidth: 0,\n    shadowColor: 'black',\n    shadowOpacity: 0.5,\n    shadowRadius: 5,\n    shadowOffset: { width: 2, height: 2},\n    borderRadius: 5,\n  },\n\n  haveAccountButton: {\n    // alignSelf: 'center',\n    marginVertical: 10,\n    paddingVertical: 20,\n    backgroundColor: '#AD0D4B',\n    borderWidth: 0,\n    shadowColor: 'black',\n    shadowOpacity: 0.5,\n    shadowRadius: 5,\n    shadowOffset: { width: 2, height: 2},\n    borderRadius: 5,\n  },\n\n  thirdPartyButtonContainer: {\n    alignItems: \"center\",\n    paddingVertical: 20,\n    borderWidth: 0,\n    shadowColor: 'black',\n    shadowOpacity: 0.5,\n    shadowRadius: 5,\n    shadowOffset: { width: 2, height: 2},\n    borderRadius: 5,\n  },\n\n  formButton:{\n    marginVertical: 12\n  },\n\n  \n  customHrTag: {\n    borderWidth: 0.5,\n    borderColor: '#D14688',\n    marginTop: 25,\n    marginBottom: 50,\n  },\n\n  customHrTagReg: {\n    borderWidth: 0.5,\n    borderColor: '#AD0D4B',\n    marginTop: 25,\n    marginBottom: 35,\n  }\n});\n","import { StyleSheet } from \"react-native\";\n\n/**\n * App Stylesheet for the light theme\n */\nexport default StyleSheet.create({\n  /**\n   * ------GLOBAL STYLING FOR GAME PAGES------ \n   */\n  container: {\n    flex: 1,\n    paddingTop: 32,\n    // paddingVertical: 16,\n    // paddingHorizontal: 16,\n    backgroundColor: \"#161F26\",\n  },\n\n  gameLoadingSpinner: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  loadingSpinner: {\n    marginVertical: 20,\n  },\n\n  /**\n   * ------LOBBY (GLOBAL)------\n   */\n  listContainer: {\n    paddingHorizontal: 16,\n    backgroundColor: \"#161F26\",\n  },\n\n  listItem: {\n    paddingVertical: 20,\n    fontSize: 30,\n    backgroundColor: \"#161F26\",\n  },\n\n  playerAvatar: {\n    paddingVertical: 8,\n    borderRadius: 1000,\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: 50,\n    height: 50,\n    textAlign: 'center',\n    color: '#fff'\n  },\n\n  /**\n   * ------LOBBY (HOST)------\n   */\n  submitButton: {\n    height: 150,\n    alignSelf: \"stretch\",\n    borderTopStartRadius: 25,\n    borderTopEndRadius: 25,\n    borderRadius: 0.01,\n    borderColor: \"#ffffff00\",\n  },\n\n  /**\n   * ------LOBBY (JOIN)------\n   */\n  submitButtonJoined: {\n    alignSelf: \"flex-end\",\n    position: \"absolute\",\n    bottom: \"10%\",\n    borderTopStartRadius: 0.001,\n    borderBottomStartRadius: 0.001,\n    borderRadius: 0.001,\n    borderColor: \"#ffffff00\",\n  },\n\n  /**\n   * ------IN-GAME (GLOBAL)------\n   */\n  title: {\n    paddingHorizontal: 16,\n    fontSize: 28,\n    fontWeight: \"300\",\n    textAlign: \"center\",\n    marginBottom: 20,\n  },\n\n  titleChosenYellow: {\n    fontSize: 36,\n    fontWeight: \"300\",\n    textAlign: \"center\",\n    marginBottom: 20,\n    color: \"#D7D98B\",\n  },\n\n  titleChosenRed: {\n    fontSize: 36,\n    fontWeight: \"300\",\n    textAlign: \"center\",\n    marginBottom: 20,\n    color: \"#AD0D4B\",\n  },\n\n  // answers: {\n  //   fontSize: 24,\n  //   fontWeight: \"300\",\n  //   position: \"relative\",\n  //   marginVertical: 30,\n  // },\n\n  // '@keyframes slideInLeft': {\n  //   from: {width: '0%'},\n  //   to: {width: '100%'}\n  // },\n\n  answerLeft: {\n    // transition: '.2s ease',\n\n    position: 'absolute',\n    left: 0,\n    top: '20%',\n\n    alignItems: \"flex-start\",\n    justifyContent: \"flex-start\",\n\n    // fontSize: 24,\n    fontSize: 18,\n    fontWeight: \"300\",\n    textAlign: \"left\",\n    marginVertical: 30,\n\n    alignSelf: \"flex-start\",\n    padding: 10,\n    borderTopEndRadius: 0.001,\n    borderBottomEndRadius: 0.001,\n    borderRadius: 0.001,\n    backgroundColor: \"#AD0D4B\",\n    borderColor: \"#ffffff00\",\n  },\n\n  answerRight: {\n    // transition: '.2s ease',\n\n    position: 'absolute',\n    right: 0,\n    bottom: '20%',\n    \n    alignItems: \"flex-end\",\n    justifyContent: \"flex-end\",\n\n    // fontSize: 24,\n    fontSize: 18,\n    fontWeight: \"300\",\n    textAlign: \"right\",\n    marginVertical: 30,\n    \n    alignSelf: \"flex-end\",\n    padding: 10,\n    borderTopStartRadius: 0.001,\n    borderBottomStartRadius: 0.001,\n    borderRadius: 0.001,\n    backgroundColor: \"#9F37DE\",\n    borderColor: \"#ffffff00\",\n  },\n\n  pleadTheFifth: {\n    fontSize: 24,\n    fontWeight: \"300\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    position: \"relative\",\n    marginVertical: 30,\n  },\n\n  pleadAlignLeft: {\n    // transition: '.2s ease',\n\n    position: 'absolute',\n    left: 0,\n    top: '0%',\n\n    alignSelf: \"flex-start\",\n    // position: \"absolute\",\n    // bottom: \"10%\",\n    padding: 10,\n    borderTopEndRadius: 0.001,\n    borderBottomEndRadius: 0.001,\n    borderRadius: 0.001,\n    backgroundColor: \"#AD0D4B\",\n    borderColor: \"#ffffff00\",\n  },\n\n  pleadAlignRight: {\n    // transition: '.2s ease',\n    \n    position: 'absolute',\n    right: 0,\n    bottom: '10%',\n\n    alignSelf: \"flex-end\",\n    // position: \"absolute\",\n    // bottom: \"10%\",\n    padding: 10,\n    textAlign: \"right\",\n    borderTopStartRadius: 0.001,\n    borderBottomStartRadius: 0.001,\n    borderRadius: 0.001,\n    backgroundColor: \"#9F37DE\",\n    borderColor: \"#ffffff00\",\n  },\n\n  question: {\n    fontSize: 28,\n    fontWeight: \"300\",\n    textAlign: \"center\",\n    marginBottom: 30,\n  },\n\n  questInAnsPhase: {\n    paddingHorizontal: 16,\n    paddingTop: 110,\n    fontSize: 28,\n    fontWeight: \"300\",\n    textAlign: \"center\",\n    marginBottom: 30,\n  },\n\n  /**\n   * ------IN-GAME (CHOSEN)------\n   */\n  pickedPlayerContainer: {\n    position: 'relative',\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    borderRadius: 0.01,\n  },\n\n  pickedPlayer: {\n    width: \"48%\",\n  },\n\n  pickedPlayerCard: {\n    height: 250,\n    display: \"flex\",\n    justifyContent: \"center\",\n    // transition: '.4s ease'\n  },\n\n  cardPink: {\n    backgroundColor: \"#AD0D4B\",\n  },\n\n  cardPinkAnswer: {\n    backgroundColor: '#ad0d4b80'\n  },\n\n  cardPurpleAnswer: {\n    backgroundColor: '#9f37de80'\n  },\n\n  cardPurple: {\n    backgroundColor: \"#9F37DE\",\n  },\n\n  belowCardText: {\n    marginVertical: 10,\n    paddingHorizontal: 16,\n  },\n\n  alignLeft: {\n    color: \"#AD0D4B\",\n  },\n\n  alignRight: {\n    color: \"#9F37DE\",\n    textAlign: \"right\",\n  },\n\n  /**\n   * ------IN-GAME (NOT CHOSEN)------\n   */\n  titleNotChosen: {\n    fontSize: 18,\n    textAlign: \"center\",\n    fontWeight: \"300\",\n    marginVertical: 30,\n    color: \"#D7D98B\"\n  },\n\n  inputTitle: {\n    marginVertical: 10,\n  },\n\n  inputContainer: {\n    padding: 10,\n    textAlign: 'center',\n    backgroundColor: '#161f26',\n    borderTopLeftRadius: 5,\n    borderTopRightRadius: 5,\n    bottom: 0,\n    left: 0,\n    width: '100%'\n  },\n\n  questionInputContainer: {\n    // flex: 1,\n    // height:48,\n    padding: 10,\n    flexDirection: 'row',\n    // backgroundColor: '#161F26',\n    backgroundColor: '#ffffff00',\n\n  },\n\n  questionInput: {\n    flex: 2,\n    height: '100%',\n    overflow: 'hidden',\n    backgroundColor: '#7B0D37',\n    borderColor: '#ffffff00',\n  },\n\n  questionInputButton: {\n    // maxHeight: '100%',\n    borderRadius: 50,\n    marginHorizontal: 10,\n    height: 50,\n    width: 50\n  },\n});\n","import {StyleSheet} from 'react-native';\n\n/**\n * App Stylesheet for the light theme\n */\nexport default StyleSheet.create({\n  container: {\n    paddingVertical: 32,\n    paddingBottom: 16,\n    // paddingHorizontal: 16,\n    flexDirection: \"column\",\n    justifyContent: 'space-between'\n  },\n\n  title: {\n    // paddingVertical: 32,\n    paddingTop: 32,\n    color: 'white',\n    fontWeight: '200',\n    textAlign: 'center',\n    fontSize: 18,\n  },\n\n  codeTitle: {\n    fontWeight: '400',\n    textAlign: 'center',\n    fontSize: 45,\n    color: '#D7D98B',\n  },\n\n  leaderboardTitle: {\n    fontSize: 36,\n    fontWeight: '200',\n    color: '#FFF',\n  },\n\n  button: {\n    paddingHorizontal: 12,\n    paddingVertical: 10,\n    // alignItems: \"flex-end\",\n    // marginLeft: 'auto'\n    // maxWidth: '30%',\n    alignSelf: 'flex-start',\n    justifyContent: 'flex-start',\n    // border: 0,\n    // marginLeft: 50,\n  }\n});\n","import { StyleSheet } from \"react-native\";\n\n/**\n * App Stylesheet for the light theme\n */\nexport default StyleSheet.create({\n  /**\n   * ------LOBBY & IN GAME NOTIFICATION BAR------ \n   */\n  container: {\n    alignSelf: \"flex-end\",\n    position: \"absolute\",\n    bottom: \"20%\",\n  },\n\n  notification: {\n    borderTopStartRadius: 0.001,\n    borderBottomStartRadius: 0.001,\n    borderRadius: 0.001,\n    marginVertical: 8,\n    borderColor: \"#ffffff00\",\n  },\n});\n","import {StyleSheet} from 'react-native';\n\n/**\n * Rules Stylesheet for the light theme\n */\nexport default StyleSheet.create({\n  tab: {\n    flex: 1,\n    alignItems: 'center',\n    textAlign: 'center',\n    justifyContent: 'space-evenly',\n    backgroundColor: '#D14688',\n    padding: 40\n  },\n  rulesImage: {\n    width: '80%',\n    height: '20%'\n  },\n  rulesContainer: {\n    flex: 1,\n    // alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: 'center',\n    backgroundColor: '#D14688'\n  },\n  ruleHeading: {\n    textAlign: 'center'\n  },\n  ruleDescription: {\n    fontSize: 20,\n    textAlign: 'center'\n  },\n  rulesBtn: {\n    width: '100%'\n  }\n});\n","/*\n * File: index.ts\n * Project: frontend\n * Version: 1.0.0\n * File Created: Monday, 11th May 2020 11:36:00 am\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Primary theme controller for the application\n * Last Modified: Saturday, 16th May 2020 8:59:09 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\n/**\n * The name of the theme (folder)\n */\nconst theme = \"light\"\n\n/**\n * Aquire the styles from that theme\n */\nconst styles = require(`./${theme}`).default;\n\n/**\n * Export the theme to the rest of the application\n */\nmodule.exports = (fileName: string | number) => styles[fileName] || {};\n","/*\n * File: AuthReducer.ts\n * Project: frontend\n * Version: 1.0.0\n * File Created: Thursday, 14th May 2020 3:12:41 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Reducer for all authentication related requests and actions\n * Last Modified: Saturday, 16th May 2020 8:56:51 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport { IAction, IAuthState } from \"./interfaces\";\n\n/**\n * Initial state for redux\n * Stores info about the\n * registering / logged in user\n */\nconst initialState: IAuthState = {\n  name: \"\",\n  email: \"test@test.ie\",\n  password: \"testtest\",\n  confirm_password: \"\",\n  isLoading: false,\n  canSubmit: false,\n  token: \"\",\n  actionSuccess: false,\n  error: \"\",\n  authedWithGoogle: false,\n  accessToken: \"\"\n};\n\n/**\n * Reducers for authentication\n *\n * @param {InitialState, IAction} initialState, action\n */\nexport default (state = initialState, action: IAction) => {\n  switch (action.type) {\n    /**\n     * Toggles the toRegister boolean\n     * Determinds whether to display the\n     * login or register component\n     */\n    case \"IS_LOADING\":\n      return {\n        ...state,\n        isLoading: !state.isLoading,\n      };\n\n    /**\n     * Handles form on change events for\n     * login & register forms\n     */\n    case \"FORM_UPDATE\":\n      return {\n        ...state,\n        [action.payload.prop]: action.payload.value,\n      };\n\n    /**\n     * When a user has\n     * successfully registered\n     */\n    case \"USER_REGISTERED\":\n      return {\n        ...state,\n        toRegister: false,\n        email: action.payload.user.email,\n        name: \"\",\n        password: \"\",\n        confirm_password: \"\",\n        actionSuccess: true,\n        error: \"\",\n        isLoading: false\n      };\n\n    /**\n     * When a API request responds with\n     * an error, store it in the state\n     */\n    case \"REQUEST_ERROR\":\n      return {\n        ...state,\n        error: action.payload.error,\n        isLoading: false\n      };\n\n    /**\n     * When a user has successfully\n     * logged in\n     */\n    case \"USER_LOGGED_IN\":\n      return {\n        ...state,\n        token: action.payload.token,\n        name: action.payload.user!.name,\n        email: action.payload.user!.email,\n        _id: action.payload.user!._id,\n        password: \"\",\n        error: \"\",\n        isLoading: false\n      };\n\n    /**\n     * When a user has successfully\n     * logged in with Google\n     */\n    case \"USER_LOGGED_IN_GOOGLE\":\n      return {\n        ...state,\n        token: action.payload.token,\n        name: action.payload.user!.name,\n        email: action.payload.user!.email,\n        _id: action.payload.user!._id,\n        password: \"\",\n        error: \"\",\n        authedWithGoogle: true,\n        isLoading: false\n      };\n\n    /**\n     * When a user has successfully\n     * logged in with Google on either iOS\n     * or android\n     */\n    case \"USER_LOGGED_IN_GOOGLE_MOBILE\":\n      return {\n        ...state,\n        token: action.payload.token,\n        name: action.payload.user!.name,\n        email: action.payload.user!.email,\n        _id: action.payload.user!._id,\n        accessToken: action.payload.user!.accessToken,\n        password: \"\",\n        error: \"\",\n        authedWithGoogle: true,\n        isLoading: false\n      };\n\n    /**\n     * When a user has logged out\n     */\n    case \"USER_LOGGED_OUT\":\n      return {\n        ...state,\n        token: \"\",\n        _id: \"\",\n        name: \"\",\n        email: \"\",\n        accessToken: \"\",\n        isLoading: false\n      };\n\n    /**\n     * The default state reducer\n     */\n    default:\n      return state;\n  }\n};\n","/*\n * File: GameReducer.ts\n * Project: frontend\n * Version: 1.0.0\n * File Created: Thursday, 4th June 2020 3:56:51 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description:\n * Last Modified: Thursday, 4th June 2020 3:57:44 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport { IGameState, IPlayer, IMessage } from \"./interfaces\";\nimport { RoundOptions, Question } from \"@rossmacd/gamesock-client\";\nimport { getPlayers } from '@rossmacd/gamesock-client';\nimport { onNextQuestion } from \"../actions/game\";\nimport { stat } from \"fs\";\n\ninterface IGameAction {\n  type: string;\n  payload: any;\n}\n\nconst colours = [\n  \"#972852\", \"#96251C\", \"#497BB6\", \"#AF39B2\", \"#A45EDC\", \"#D49D6D\"\n]\n\n/**\n * Initial state for redux\n * Stores info about the\n * lobby name and current user\n */\nconst initialState: IGameState = {\n  lobbyName: \"\",\n  user: {\n    id: \"\",\n    name: \"\",\n    score: 0,\n    inHotseat: false,\n  },\n  inLobby: false,\n  inGame: false,\n  isHost: false,\n  players: [],\n  isLoading: false,\n  error: \"\",\n  messages: [],\n  pickedPlayers: [],\n  questionInput: \"Who's more likely to\",\n  questions: [],\n  roundOver: false,\n  round: 0,\n  phase: \"\",\n  timer: 0,\n  hotseatOptions: undefined,\n  currentQuestionId: 0,\n  roundOptions: undefined,\n  numOfRounds: 3,\n  init: false,\n  canAnswer: false,\n  displayAnswer: false,\n};\n\n/**\n * Reducers for authentication\n *\n * @param {InitialState, IAction} initialState, action\n */\nexport default (state = initialState, action: IGameAction) => {\n  switch (action.type) {\n    case \"INITIALISE_GAMESOCK\":\n      return {\n        ...state,\n        init: true,\n      };\n    /**\n     * Toggles the toRegister boolean\n     * Determinds whether to display the\n     * login or register component\n     */\n    case \"IS_LOADING_GAME\":\n      return {\n        ...state,\n        isLoading: !state.isLoading,\n      };\n\n    /**\n     * Update the messages array\n     * with messages from the gamesock\n     * server\n     */\n    case \"SET_MESSAGES\":\n      const messages = state.messages;\n      const message = action.payload as string\n\n      let result: IMessage = {\n        hide: false,\n        message: message\n      }\n\n      /**\n       * Push the new message to the array\n       */\n      messages.push(result);\n      \n      /**\n       * Grab loading and error from the state\n       */\n      let isLoading = state.isLoading\n      let error = state.error\n      \n      /**\n       * If the message is a lobby does not exist error\n       * add the error too\n       */\n      if(isLoading && action.payload.includes('does not exist')) {\n        isLoading = false\n        error = action.payload\n      } else error = ''\n\n      return {\n        ...state,\n        messages: [...messages],\n        isLoading: isLoading,\n        error: error\n      };\n\n    case \"HIDE_MESSAGE\":\n      let allMessages = state.messages;\n      const i = allMessages.findIndex((dat => dat.message === action.payload))\n      allMessages[i].hide = true\n\n      return {\n        ...state,\n        messages: [...allMessages],\n      };\n\n    /**\n     * Update the list of players\n     */\n    case \"PLAYER_LIST_UPDATE\":\n      const newPlayers = action.payload as IPlayer[]\n      newPlayers.map((player, i) => {\n        if(i > colours.length - 1) {\n          return player.colour = colours[i - colours.length]  \n        }\n        return player.colour = colours[i]\n      })\n      return {\n        ...state,\n        players: [...newPlayers],\n      };\n    /**\n     * Update a single player\n     */\n    case \"PLAYER_SINGLE_UPDATE\":\n      let players = state.players;\n      const playerI = state.players.findIndex(\n        (player: IPlayer) => player.id === action.payload.id\n      );\n      \n      players[playerI] = {score: players[playerI].score, colour: players[playerI].colour, ...action.payload}\n\n      return {\n        ...state,\n        players: [...players],\n        isLoading: false\n      };\n    /**\n     * When a API request responds with\n     * an error, store it in the state\n     */\n    // case \"REQUEST_ERROR\":\n    //   return {\n    //     ...state,\n    //     error: action.payload.error,\n    //     isLoading: false\n    //   };\n\n    case \"HOST_GAME\":\n      return {\n        ...state,\n        lobbyName: action.payload.lobbyName,\n        user: action.payload.user,\n        inLobby: true,\n        isHost: true,\n        isLoading: false,\n        error: ''\n      };\n\n    case \"JOIN_GAME\":\n      return {\n        ...state,\n        lobbyName: action.payload.lobbyName,\n        user: action.payload.user,\n        players: [...(action.payload.players||state.players)],\n        inLobby: true,\n        isLoading: false,\n        roundOver: false,\n        error: ''\n      };\n\n    case \"LEAVE_GAME\":\n      return {\n        ...state,\n        lobbyName: \"\",\n        inGame: false,\n        inLobby: false,\n        isHost: false,\n        isLoading: false,\n        error: ''\n      };\n    case \"START_GAME\":\n      return {\n        ...state,\n        numOfRounds: action.payload,\n      };\n\n    case \"START_ROUND\":\n      const roundOptions = action.payload as RoundOptions;\n      let user = state.user;\n      if (\n        roundOptions.hotseatPlayers.some(\n          (player: IPlayer) => player.id === user.id\n        )\n      ) {\n        user.inHotseat = true;\n      } else user.inHotseat = false;\n\n      return {\n        ...state,\n        inGame: true,\n        isLoading: false,\n        questions: [],\n        currentQuestionId: 0,\n        user: user,\n        roundOptions: roundOptions,\n      };\n\n    case \"INPUT_QUESTION\":\n      const questions = state.questions;\n\n      questions.push(action.payload as Question);\n\n      return {\n        ...state,\n        questionInput: \"Who's more likely to\",\n        questions: questions,\n        isLoading: false,\n      };\n\n    case \"TIMER_UPDATE\":\n      /* \n         WARNING  READ ME  \n        This case is confusing and important to get right to stay in sync - hence this massive detailed comment.\n\n        When the timer gets an update 3 things can happen-\n          1. The new timer (action.payload) can increase - meaning a new timer has started (usually will be from 0 to a new value)\n\n          2. The timer can hit 0 - the timer is done\n\n          3. The timer can decrease by one - In this case the timer is running (nothing needs to be done, the state is just updated)\n        \n        Currently only the 1st is important - the timer is purely for display for any **other** purpose\n        When the timer is in \"hotseat ready\" or \"display answer\" phase and a new timer starts we know that we should ask the next question\n\n        Below is the cycle of the frontend when the hotseat has been started\n\n        00--> [START_HOTSEAT]\n        ----> PHASE: \"Hotseat Ready\"\n\n        02--> [TIMER_UPDATE]-> (timer > oldTimerValue) -> We know a new timer has started\n        ---->  PHASE: \"Hotseat\"\n\n        03--> [TIMER_UPDATE]-> timer-- -> update display timer\n\n        04--> [ON_HOTSEAT_ANSWER] -> if phase !==\"Hotseat\" we are out of sync!\n        ----> PHASE: \"DisplayAnswer\" \n        ----> if all questions have been proccessed end round\n        ---> else [TIMER_UPDATE] loop to step 02\n        \n\n      */\n     if(action.payload>state.timer){\n      // If the phase is display answer we need to increase the question ID, hotseat ready only happens for the first question of the round\n      if( state.phase===\"Display Answer\"){\n        const newQuestionId = state.currentQuestionId+=1 \n        return {\n          ...state,\n          timer: action.payload,\n          currentQuestionId: newQuestionId,\n          phase: 'Hotseat',\n          canAnswer: true,\n          displayAnswer: false,\n        }\n      }else if(state.phase===\"Hotseat ready\") {\n        return {\n          ...state,\n          timer: action.payload,\n          currentQuestionId: 0,\n          phase: 'Hotseat',\n          canAnswer: true,\n          displayAnswer: false,\n        }\n      }else if(state.phase===\"Hotseat\"){\n        console.error(\"Hotseat probably out of sync\")\n      }\n    } \n    // else if (action.payload===0){\n    //   // Timer is done - new phase\n    // }else {\n    //     // If the value decreases by one should be safe to return\n    //     return {\n    //       ...state,\n    //       timer: action.payload,\n    //     }\n    //   }\n\n    //   if (\n    //     action.payload === 0 &&\n    //     state.phase === \"Hotseat\" &&\n    //     state.timer !== 0\n    //   ) {\n    //     // console.log(\"shifting questions\", state.questions);\n    //     // const shiftedQuestions = state.questions.shift()\n    //     // console.log('done', shiftedQuestions)\n    //     // state.questions.shift();\n    //     const newQuestionId = state.currentQuestionId+=1 \n    //     console.log(\"affetare questions\", state.questions);\n    //     return {\n    //       ...state,\n    //       timer: action.payload,\n    //       // questions: [...state.questions],\n    //       currentQuestionId: newQuestionId,\n    //       phase: 'Display answer',\n    //       canAnswer: true,\n    //       displayAnswer: false,\n    //     };\n    //   }\n      return {\n        ...state,\n        timer: action.payload,\n      };\n    case \"SET_PHASE\":\n      if (action.payload === \"Round Ended\") {\n        \n        if(state.isHost) {\n          getPlayers(state.lobbyName)\n          console.log('Updating players for score')\n        }\n        return {\n          ...state,\n          phase: action.payload,\n          roundOver: true,\n          inGame: false,\n        };\n      }\n\n      return {\n        ...state,\n        phase: action.payload,\n      };\n\n    case \"START_HOTSEAT\":\n      // const allQuestions =  as Question[]\n      // const hotseatOptions =  as HotseatOptions\n      console.log(\"start hotseat reducer\", action.payload);\n      return {\n        ...state,\n        phase:\"Hotseat ready\",\n        questions: [...action.payload.questions],\n        hotseatOptions: action.payload.hotseatOptions,\n        canAnswer: true,\n      };\n    case \"ON_HOTSEAT_ANSWER\":\n      let newQuestions = state.questions;\n      const answers =\n        action.payload.answers.length > 0\n          ? action.payload.answers\n          : [null, null];\n      console.log(\n        \"finding question and inserting answers!\",\n        newQuestions,\n        action.payload.questionIndex,\n        answers\n      );\n      newQuestions[action.payload.questionIndex].answers = [...answers];\n\n      return {\n        ...state,\n        questions: [...newQuestions],\n        displayAnswer: true,\n        canAnswer: false,\n        phase: \"Display Answer\"\n      };\n    case \"ON_NEXT_QUESTION\":\n      return {\n        ...state,\n        displayAnswer: false,\n      };\n    // case \"SET_CURRENT_QUESTION\":\n    //   return {\n    //     ...state,\n    //     currentQuestionId: state.currentQuestionId += 1,\n    //     displayAnswer: false,\n    //     canAnswer: true,\n    //   };\n\n    case \"ANSWER_QUESTION\":\n      return {\n        ...state,\n        canAnswer: false,\n      };\n\n    case \"END_GAME\":\n      // if(state.isHost) {\n      //   getPlayers(state.lobbyName)\n      //   console.log('Updating players for score')\n      // }\n      return {\n        ...state,\n        roundOver: true,\n        inGame: false,\n      };\n    /**\n     * The default state reducer\n     */\n    default:\n      return state;\n  }\n};\n","export enum AppRoute {\n    AUTH = 'Auth',\n    SIGN_IN = 'Sign In',\n    SIGN_UP = 'Sign Up',\n    SIGN_OUT = 'Sign Out',\n    HOME = 'Home',\n    RULES = 'Rules',\n    GAME = 'Game',\n    HOST = 'Host',\n    JOIN = 'Join',\n    LOBBY = 'Lobby',\n    EDIT_USER = 'Edit User',\n    INGAME = 'In Game',\n    END_GAME = 'End Game',\n    SETTINGS = 'Settings',\n    DEVINFO = \"Dev info\"\n}","/**\n * Import modules which can be accessed\n */\nimport AuthReducer from './AuthReducer'\nimport GameReducer from './GameReducer'\nimport { combineReducers } from 'redux'\n\n /**\n * Combine and Export these modules to the rest of the application\n */\nexport default combineReducers({auth: AuthReducer, game: GameReducer })","/*\n * File: game.ts\n * Project: frontend\n * Version: 1.0.0\n * File Created: Thursday, 4th June 2020 4:11:43 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Game related actions in the redux state\n * Last Modified: Thursday, 4th June 2020 6:14:09 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport { IPlayer } from '../reducers/interfaces';\nimport * as GameSockClient from '@rossmacd/gamesock-client';\n\nimport Constants from 'expo-constants';\nimport { Dispatch } from 'redux';\nimport { log } from 'console';\n// import { AsyncStorage } from 'react-native';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { useNavigation } from '@react-navigation/native';\nimport { AppRoute } from '../navigation/app-routes';\n// import { NavigationActions } from 'react-navigation'\nimport App from '../../App';\nimport { StackNavigationProp } from '@react-navigation/stack';\n/**\n * Interface for hosting a game\n */\nexport interface IHostGame {\n  username: string;\n  token: string;\n}\nexport interface IRejoinGame {\n  lobbyName: string;\n  id: string;\n}\n\n/**\n * Interface for joining a game\n */\nexport interface IJoinGame {\n  username: string;\n  lobbyName: string;\n}\n\n/**\n * Determinds whether to set\n * loading or not\n */\nexport const setGameLoading = () => {\n  return {\n    type: 'IS_LOADING_GAME',\n  };\n};\n\n/**\n * Messages sent from the gamesock library\n */\nexport const setMessages = (message: string, dispatch: Dispatch) => {\n  console.log('Socket message: ', message);\n  dispatch({\n    type: 'SET_MESSAGES',\n    payload: message,\n  });\n\n  setTimeout(() => {\n    dispatch({\n      type: 'HIDE_MESSAGE',\n      payload: message,\n    });\n  }, 8000);\n};\n\nexport const initGameSock = () => {\n  return (dispatch: Dispatch) => {\n    GameSockClient.setup(Constants.manifest.extra.SERVER_URL, `${Constants.manifest.extra.SERVER_URL}/timesync`);\n\n    GameSockClient.onStartGame((newGameOptions: GameSockClient.GameOptions) => {\n      console.log('starting game', newGameOptions.rounds);\n      startGame(newGameOptions.rounds, dispatch);\n    });\n\n    GameSockClient.onStartRound((newRoundOptions) => {\n      if (newRoundOptions.roundNum === 1) {\n        setPhase('Starting Game', dispatch);\n      } else {\n        setPhase('Starting Round', dispatch);\n      }\n      console.log('starting round');\n\n      startRound(newRoundOptions, dispatch);\n\n      setTimeout(() => {\n        setPhase('Question Gathering', dispatch);\n      }, 2 * 1000);\n    });\n\n    GameSockClient.onStartHotseat((allQuestions, hotseatOptions) => {\n      console.log('starting hotseat');\n\n      setPhase('Hotseat', dispatch);\n      startHotseat(allQuestions, hotseatOptions, dispatch);\n    });\n\n    GameSockClient.onRoundEnd(() => {\n      console.log('ending round');\n\n      setPhase('Round Ended', dispatch);\n      endGame();\n    });\n\n    GameSockClient.onSinglePlayerUpdate((newPlayer) => {\n      console.log('single player update', newPlayer);\n\n      playerUpdate(newPlayer, dispatch);\n    });\n\n    GameSockClient.onPlayerListUpdate((players) => {\n      console.log('player list update', players);\n      playerListUpdate(players, dispatch);\n    });\n\n    //   GameSockClient.onRequestQuestions(()=>{\n    //       return props.questions.map(question => question.question);\n    //   })\n\n    GameSockClient.onHotseatAnswer((questionIndex, answers) => {\n      onHotseatAnswer(questionIndex, answers, dispatch);\n    });\n\n    GameSockClient.onTimerUpdate((secondsLeft) => {\n      timerUpdate(secondsLeft, dispatch);\n    });\n\n    GameSockClient.onMessage((message) => {\n      setMessages(message.msg, dispatch);\n    });\n\n    /**\n     * @todo add error handling here and hook up to state\n     */\n    GameSockClient.onError((error) => {\n      console.log('error check my structure!!', error)\n      // setMessages(message.msg, dispatch);\n    })\n\n    dispatch({\n      type: 'INITIALISE_GAMESOCK',\n    });\n  };\n};\n\n/**\n * Initilise a lobby as a host from the home page\n *\n * @param {IHostGame} body\n */\nexport const hostGameAction = (body: IHostGame) => {\n  return (dispatch: Dispatch) => {\n    const lobbyName = Math.random().toString(36).substr(2, 4).toUpperCase();\n\n    GameSockClient.createLobby(lobbyName, body.username, body.token).then((players) => {\n      let user = Array.isArray(players) ? players[0] : players;\n\n      dispatch({\n        type: 'HOST_GAME',\n        payload: { lobbyName: lobbyName, user: user },\n      });\n    });\n  };\n};\n\n/**\n * Initilise a lobby as a host from the login function\n *\n * @param {IHostGame} body\n */\nexport const hostGame = (body: IHostGame, dispatch: any) => {\n  // GameSocketConfigExport();\n  const lobbyName = Math.random().toString(36).substr(2, 4).toUpperCase();\n\n  GameSockClient.createLobby(lobbyName, body.username, body.token).then((players) => {\n    let user = Array.isArray(players) ? players[0] : players;\n\n    dispatch({\n      type: 'HOST_GAME',\n      payload: { lobbyName: lobbyName, user: user },\n    });\n  });\n};\n\n// interface ID{\n//   id:string\n//   expiry:number;\n//   lobby:string;\n// }\n/**\n * Initilise a lobby as a join\n *\n * @param {IJoinGame} body\n */\nexport const joinGame = (body: IJoinGame) => {\n  return (dispatch: Dispatch) => {\n    return GameSockClient.joinLobby(body.lobbyName, body.username).then((players) => {\n      let user = Array.isArray(players) ? players[players.length - 1] : players;\n      AsyncStorage.setItem(\n        'myId',\n        JSON.stringify({\n          id: user.id,\n          expiry: Date.now() + 30 * 60 * 1000,\n          lobby: body.lobbyName,\n        })\n      ).catch((e: any) => console.log(e));\n\n      dispatch({\n        type: 'JOIN_GAME',\n        payload: { lobbyName: body.lobbyName, user: user },\n      });\n    });\n  };\n};\n\nexport const autoRejoinLobby = (body: IRejoinGame) => {\n  return (dispatch: Dispatch) => {\n    return AsyncStorage.getItem('myId')\n      .then((store) => {\n        if (store) {\n          const parsedStore = JSON.parse(store);\n          console.log('Attempting to claim with token' + parsedStore.toString(), parsedStore.expiry > Date.now());\n          return GameSockClient.claimSocket(parsedStore.lobby, parsedStore.id)\n            .then((data) => {\n              const players = data.players;\n              console.log('CLAIMED!!', players);\n              const user = Array.isArray(players) ? players.find((player) => player.id === data.id) : players;\n              if (!user) {\n                throw 'Could not find user!';\n              }\n              AsyncStorage.setItem(\n                'myId',\n                JSON.stringify({\n                  id: user.id,\n                  expiry: Date.now() + 30 * 60 * 1000,\n                  lobby: body.lobbyName,\n                })\n              ).catch((e) => console.error(e));\n              console.log('TIME to dispatch');\n              dispatch({\n                type: 'JOIN_GAME',\n                payload: { lobbyName: body.lobbyName, user: { ...user }, players: players },\n              });\n            })\n            .catch((e) => console.error(e));\n        }\n      })\n      .catch((e) => console.error(e));\n\n    // return GameSockClient.claimSocket()\n  };\n};\n\n// export const claimSocket = ()=>{\n\n// }\n/**\n * Start a new game as a host\n *\n */\n// export const startHostGame = (lobbyName: string) => {\n//     // console.log('running host game be')\n//     // return (dispatch: Dispatch) => {\n//     //     console.log('starting game')\n//         GameSockClient.startGame(lobbyName)\n//         // ((gameOptions: GameOptions) => {\n//         //     console.log('game starting!', gameOptions)\n//         //     dispatch({\n//         //         type: 'START_GAME',\n//         //         payload: gameOptions.rounds\n//         //     })\n//         // })\n//     // }\n// }\n\n/**\n * Start a new game\n *\n */\nexport const startGame = (rounds: number, dispatch: Dispatch) => {\n  dispatch({\n    type: 'START_GAME',\n    payload: rounds,\n  });\n};\n\n/**\n * Start a new round\n *\n */\nexport const startRound = (roundOptions: GameSockClient.RoundOptions, dispatch: Dispatch) => {\n  console.log('starting round!');\n  dispatch({\n    type: 'START_ROUND',\n    payload: roundOptions,\n  });\n};\n\n/**\n * Start a new game\n *\n */\nexport const inputQuestion = (question: GameSockClient.Question) => {\n  return {\n    type: 'INPUT_QUESTION',\n    payload: question,\n  };\n};\n\n/**\n * Updates the seconds left on a timer\n *\n * @param {number} time\n */\nexport const timerUpdate = (time: number, dispatch: Dispatch) => {\n  dispatch({\n    type: 'TIMER_UPDATE',\n    payload: time,\n  });\n};\n\n/**\n * Starting a hot seat during a round\n *\n * @param {Question[]} questions\n * @param {HotseatOptions} hotseatOptions\n */\nexport const startHotseat = (questions: GameSockClient.Question[], hotseatOptions: GameSockClient.HotseatOptions, dispatch: Dispatch) => {\n  console.log('starting hotseat and setting questions!', questions);\n  dispatch({\n    type: 'START_HOTSEAT',\n    payload: { questions, hotseatOptions },\n  });\n};\n\n/**\n * When both hotseat players answer a question\n *\n * @param {number} questionIndex\n * @param {number[]} answers\n * @param {Dispatch} dispatch\n */\nexport const onHotseatAnswer = (questionIndex: number, answers: number[], dispatch: Dispatch) => {\n  console.log('receiving answers!', answers, questionIndex);\n  dispatch({\n    type: 'ON_HOTSEAT_ANSWER',\n    payload: { questionIndex, answers },\n  });\n\n  // setTimeout(() => {\n  //       dispatch({\n  //           type: \"ON_NEXT_QUESTION\"\n  //       })\n  // }, 2000);\n};\n\nexport const onNextQuestion = (time: number) => {\n  return (dispatch: Dispatch) => {\n    console.log('next question in ', time, 'seconds');\n    setTimeout(() => {\n      dispatch({\n        type: 'ON_NEXT_QUESTION',\n      });\n    }, time);\n  };\n};\n\n/**\n * Update the list of players\n *\n * @param {IPlayer[]} players\n */\nexport const playerListUpdate = (players: IPlayer[], dispatch: Dispatch) => {\n  dispatch({\n    type: 'PLAYER_LIST_UPDATE',\n    payload: players,\n  });\n};\n\n/**\n * Update a single player\n *\n * @param {IPlayer} players\n */\nexport const playerUpdate = (player: IPlayer, dispatch: Dispatch) => {\n  dispatch({\n    type: 'PLAYER_SINGLE_UPDATE',\n    payload: player,\n  });\n};\n\n/**\n * Update a player by ID\n * \n * @param {string} lobbyName\n * @param {IPlayer} user\n */\nexport const updateSinglePlayer = (lobbyName: string, user: IPlayer) => {\n  return (dispatch: Dispatch) => {\n    GameSockClient.updateSelf(lobbyName, user)\n  }\n}\n\n/**\n * Leave a lobby / game\n *\n */\nexport const leaveGame = () => {\n  return (dispatch: Dispatch) => {\n    dispatch({\n      type: 'LEAVE_GAME',\n    });\n  };\n};\n\n/**\n * Ends a game / round depending\n * on the number of rounds\n */\nexport const endGame = () => {\n  return {\n    type: 'END_GAME',\n  };\n};\n\n/**\n * Set the phase within a game\n */\nexport const setPhase = (phase: string, dispatch: Dispatch) => {\n  dispatch({\n    type: 'SET_PHASE',\n    payload: phase,\n  });\n};\n\n/**\n * Answer a question within a game\n */\nexport const answerQuestion = (lobbyName: string, questionIndex: number, playerIndex: number, roundNum: number) => {\n  return (dispatch: Dispatch) => {\n    console.log('new answer!', questionIndex, playerIndex);\n    GameSockClient.sendAnswer(lobbyName, questionIndex, playerIndex, roundNum);\n    dispatch({\n      type: 'ANSWER_QUESTION',\n    });\n  };\n};\n","/*\n * File: index.ts\n * Project: frontend\n * Version: 1.0.0\n * File Created: Thursday, 14th May 2020 3:16:19 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Authentication related actions in the redux state\n * Last Modified: Saturday, 16th May 2020 8:55:16 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport { ICreate, IForm, ILogin, IThirdPartyToken } from \"./interfaces\"\nimport Constants from \"expo-constants\";\nimport { hostGame } from \"./game\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { Dispatch } from \"redux\";\n\n/**\n * Prefixes for api endpoints\n */\nconst userPrefix = \"/api/user\"\nconst authPrefix = \"/api/auth\"\n\n/**\n * Get the baseURL for the server either from the .env file\n * or use a static IP\n */\nconsole.log('server url!!' , Constants.manifest.extra.SERVER_URL)\nconst baseUrl = Constants.manifest.extra.SERVER_URL || 'http://192.168.0.164:3000'\n\n/**\n * Determinds whether to display the login\n * or register view\n */\nexport const setLoading = () => {\n    return {\n        type: 'IS_LOADING'\n    }\n}\n\n/**\n * Updates an item in the redux store\n * \n * @param {IForm} {prop, value}\n */\nexport const formUpdate = ({prop, value}: IForm) => {\n    return {\n        type: 'FORM_UPDATE',\n        payload: { prop, value }\n    }\n}\n\n/**\n * Register a user\n * \n * @param {ICreate} body\n */\nexport const create  = (body: ICreate) => {\n    return (dispatch: any) => {\n        fetch(`${baseUrl}${userPrefix}`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body)\n        })\n        .then(response => response.json())\n        .then((data) => {\n            if(data.error) {\n                return dispatch({ type: 'REQUEST_ERROR', payload: data })\n            }\n            \n            dispatch({ type: 'USER_REGISTERED', payload: {user: data.data} })\n        })\n        .catch((err) => {\n            console.log(err)\n            return dispatch({ type: 'REQUEST_ERROR', payload: {error: 'Error: Could not connect to the server'} })\n        })\n    }\n}\n\nexport const getUser = (token: string) => {\n    return (dispatch: any) => {\n        fetch(`${baseUrl}${authPrefix}/user`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n            }\n        })\n        .then(response => response.json())\n        .then((data) => {\n            if(data.error) {\n                return dispatch({ type: 'REQUEST_ERROR', payload: data })\n            }\n            const payload = {\n                token: token,\n                ...data.data\n            }\n            // AsyncStorage.setItem('token', data.data.token)\n            dispatch({ type: 'USER_LOGGED_IN', payload })\n        })\n    }\n}\n\n/**\n * Login\n * \n * @param {ILogin} body \n */\nexport const login  = (body: ILogin) => {\n    return (dispatch: any) => {\n        fetch(`${baseUrl}${authPrefix}/signin`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body)\n        })\n        .then(response => response.json())\n        .then((data) => {\n            if(data.error) {\n                return dispatch({ type: 'REQUEST_ERROR', payload: data })\n            }\n\n            AsyncStorage.setItem('token', data.data.token).catch(e=>console.log(e))\n            dispatch({ type: 'USER_LOGGED_IN', payload: data.data })\n            // dispatch(hostGame({username: data.data.user.name, token: data.data.token}))\n            hostGame({username: data.data.user.name, token: data.data.token},dispatch)\n            // dispatch({ type: 'HOST_GAME', payload: {username: data.data.user.name, token: data.data.token} })\n        })\n        .catch((err) => {\n            console.log(err)\n            return dispatch({ type: 'REQUEST_ERROR', payload: {error: 'Error: Could not connect to the server'} })\n        })\n    }\n}\n\n/**\n * Login with a third party system\n * \n * -Google\n * -Apple (iOS only)\n * \n * @param {IToken} token \n */\nexport const loginWithThirdParty  = (token: IThirdPartyToken) => {\n    return (dispatch: any) => {\n        fetch(`${baseUrl}${authPrefix}/signin/${token.provider}/${token.type}`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(token)\n        })\n        .then(response => response.json())\n        .then((data) => {\n            console.log('response!', data)\n            if(data.error || data.success !== true) {\n                return dispatch({ type: 'REQUEST_ERROR', payload: data })\n            }\n\n            AsyncStorage.setItem('token', data.data.token).catch(e=>console.log(e))\n\n            if(data.data.user.accessToken) dispatch({ type: 'USER_LOGGED_IN_GOOGLE_MOBILE', payload: data.data })\n            else dispatch({ type: 'USER_LOGGED_IN_GOOGLE', payload: data.data })\n\n            hostGame({username: data.data.user.name, token: data.data.token}, dispatch)\n        })\n        .catch((err) => {\n            console.log(err)\n            return dispatch({ type: 'REQUEST_ERROR', payload: {error: 'Error: Could not connect to the server'} })\n        })\n    }\n}\n\n\n\n/**\n * Logout a user\n * \n * @param {IToken} credentials\n */\nexport const logout  = (credentials: IThirdPartyToken) => {\n    /**\n     * If an access token exists, add it to the request url\n     */\n    const signOutUrl = credentials.accessToken\n    ? `signout/${credentials.accessToken}`\n    : 'signout'\n\n    return (dispatch: any) => {\n        fetch(`${baseUrl}${authPrefix}/${signOutUrl}`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + credentials.token\n            },\n        })\n        .then(() => {\n            AsyncStorage.removeItem('token').catch(e=>console.log(e))\n            dispatch({ type: 'USER_LOGGED_OUT' })\n        })\n        .catch((err) => {\n            console.log('Logout Error', err)\n        })\n    }\n}\n","/*\n * File: LogoutWithGoogle.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Tuesday, 19th May 2020 5:18:52 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Logout With Google Web only\n * Last Modified: Tuesday, 19th May 2020 5:19:18 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React, { Component } from \"react\";\nimport GoogleLogout from 'react-google-login';\nimport { Text, View } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport {logout} from \"../../../actions/auth\";\n\n/**\n * Get Google Client ID from environment variables\n */\nimport Constants from \"expo-constants\";\nimport { IInitialState } from \"../../../reducers/interfaces\";\nconst WEB_GOOGLE_CLIENT_ID = Constants.manifest.extra.WEB_GOOGLE_CLIENT_ID\n\n/**\n * Interface actions \n * for the component\n */\ninterface ILogoutWithGoogleActions {\n    logout: (body: object) => void;\n}\n\ninterface ILogoutWithGoogleState {\n    error: string;\n}\n\n/**\n * Interface Props\n * for the component\n */\ntype IProps = {\n    token: string;\n};\n\nclass LogoutWithGoogle extends Component <IProps & ILogoutWithGoogleActions, ILogoutWithGoogleState> {\n    state = {\n        error: ''\n    }\n\n    /**\n     * Handles a response from Google\n     */\n    responseGoogle = (res: any) => {\n        if(res.error) {\n            this.setState({ error: res.error });\n        } else {\n            const {token} = this.props\n\n            this.props.logout({ token });\n        }\n    }\n\n    render() {\n        return (\n            <View>\n                <GoogleLogout\n                    clientId={WEB_GOOGLE_CLIENT_ID}\n                    onSuccess={this.responseGoogle}\n                    onFailure={this.responseGoogle}\n                    buttonText=\"Logout\"\n                />\n    \n                {this.state.error !== ''\n                    && <Text>Error: {this.state.error}</Text>\n                }\n            </View>\n        )\n    }\n}\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState) => {\n  const { token } = state.auth;\n\n  return {\n    token,\n  };\n};\n\nexport default connect<IProps, ILogoutWithGoogleActions>(mapStateToProps,{logout})(LogoutWithGoogle)","import React from 'react';\nimport { Button, Spinner, ButtonElement, ButtonProps, IconProps, Icon } from '@ui-kitten/components';\nimport { View } from 'react-native';\n\n\ninterface ButtonInputProps extends ButtonProps {\n  text: string;\n  loading: boolean;\n  disabled: boolean;\n  icon?: string;\n}\n\nexport const ButtonInput = ({ text, loading, icon = \"\", ...ButtonProps }: ButtonInputProps): ButtonElement => {\n\n  const LoadingIndicator = (props: any) => (\n    <View>\n      <Spinner size=\"small\" status=\"danger\" />\n    </View>\n  );\n\n  const renderIcon = (props: IconProps): React.ReactElement => (\n    <Icon {...props} name={icon} />\n  )  \n\n  if(loading) return (\n    <Button\n    {...ButtonProps}\n    accessoryRight={LoadingIndicator}\n    disabled={true}\n    >{text}</Button>\n  )\n  if(icon && icon !== \"\") return (\n    <Button\n      {...ButtonProps}\n      accessoryRight={renderIcon}\n    >{text}</Button>\n  )\n\n  return (\n    <Button\n      {...ButtonProps}\n    >{text}</Button>\n  );\n};\n\n","/*\n * File: Signout.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Saturday, 16th May 2020 8:19:18 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Handles user signout\n * Last Modified: Saturday, 16th May 2020 8:56:18 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\nimport { Text, SafeAreaView } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport { logout, setLoading } from \"../../actions/auth\";\nimport LogoutWithGoogle from \"./platformSpecific/LogoutWithGoogle\";\nimport { IInitialState } from \"../../reducers/interfaces\";\nimport { SignoutScreenScreenProps } from \"../../navigation/auth.navigator\";\nimport { ButtonInput } from \"../../components/form-button.component\";\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../../themes\")(\"App\");\n\n/**\n * Interface Props\n * for the component\n */\ntype IProps = {\n  name: string;\n  token: string;\n  authedWithGoogle: boolean;\n  isLoading: boolean;\n  isHost: boolean;\n};\n\n/**\n * Interface actions\n * for the component\n */\ninterface IActions extends SignoutScreenScreenProps {\n  logout: (body: object) => void;\n  setLoading: () => void;\n}\n\nconst SignoutScreen = (props: IProps & IActions) => {\n  /**\n   * Logs out the user from their current\n   * session\n   */\n  const submit = () => {\n    props.setLoading();\n    const { token } = props;\n\n    props.logout({ token });\n  };\n\n  const { authedWithGoogle, isLoading } = props;\n  \n  return (\n    <SafeAreaView>\n      {authedWithGoogle ? (\n        <LogoutWithGoogle />\n      ) : (\n        <ButtonInput\n          style={styles.signOutBtn}\n          onPress={submit}\n          disabled={false}\n          loading={isLoading}\n          icon=\"log-out-outline\"\n          text=\"\"\n        />\n      )}\n    </SafeAreaView>\n  );\n};\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): IProps => {\n  const { name, token, authedWithGoogle, isLoading } = state.auth;\n  const {isHost} = state.game\n\n  return {\n    name,\n    token,\n    authedWithGoogle,\n    isLoading,\n    isHost\n  };\n};\n\nexport default connect<IProps, IActions>(mapStateToProps, {\n  logout,\n  setLoading,\n})(SignoutScreen);\n","import React from 'react';\nimport { Icon, IconElement } from '@ui-kitten/components';\n\nexport const BackIcon = (props): IconElement => (\n  <Icon {...props} name='arrow-back'/>\n);\n\nexport const LayoutIcon = (props): IconElement => (\n  <Icon {...props} name='layout-outline'/>\n);\n\nexport const PersonIcon = (props): IconElement => (\n  <Icon {...props} name='person-outline'/>\n);\n\nexport const MoreVerticalIcon = (props): IconElement => (\n  <Icon {...props} name='more-vertical'/>\n);\n\nexport const LogoutIcon = (props): IconElement => (\n  <Icon {...props} name='log-out-outline'/>\n);\n\nexport const InfoIcon = (props): IconElement => (\n  <Icon {...props} name='info-outline'/>\n);\n\nexport const AlertTriangleIcon = (props): IconElement => (\n  <Icon {...props} name='alert-triangle-outline'/>\n);\n\nexport const EyeIcon = (props): IconElement => (\n  <Icon {...props} name='eye-outline'/>\n);\n\nexport const EyeOffIcon = (props): IconElement => (\n  <Icon {...props} name='eye-off-outline'/>\n);\n\nexport const MenuIcon = (props): IconElement => (\n  <Icon {...props} name='menu-outline'/>\n);\n\nexport const HomeIcon = (props): IconElement => (\n  <Icon {...props} name='home-outline'/>\n);\n\nexport const DoneAllIcon = (props): IconElement => (\n  <Icon {...props} name='done-all-outline'/>\n);\n\nexport const GridIcon = (props): IconElement => (\n  <Icon {...props} name='grid-outline'/>\n);\n\nexport const SearchIcon = (props): IconElement => (\n  <Icon {...props} name='search-outline'/>\n);\n\n\n\n\n\n\n","import React from 'react';\nimport { Input, InputElement, InputProps } from '@ui-kitten/components';\nimport { useFormikContext } from 'formik';\nimport { AlertTriangleIcon } from '../assets/icons';\n\ninterface FormInputProps extends InputProps {\n  id: string;\n}\n\nexport const FormInput = ({ id, ...inputProps }: FormInputProps): InputElement => {\n\n  const formContext = useFormikContext();\n\n  // @ts-ignore\n  const { [id]: error } = formContext.errors;\n\n  const fieldProps: Partial<InputProps> = {\n    status: error && 'danger',\n    captionIcon: error && AlertTriangleIcon,\n  };\n\n  return (\n    <Input\n      {...inputProps}\n      {...fieldProps}\n      caption={error}\n      onChangeText={formContext.handleChange(id)}\n    />\n  );\n};\n\n","/*\n * File: LoginWithGoogle.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Tuesday, 19th May 2020 5:18:52 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Login With Google Web only\n * Last Modified: Tuesday, 19th May 2020 5:19:18 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\n\n\n\nimport React, { Component } from \"react\";\nimport GoogleLogin from 'react-google-login';\nimport { Text, View } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport {loginWithThirdParty} from \"../../../actions/auth\";\n\nconst styles = require(\"../../../themes\")(\"Form\");\n\n/**\n * Get Google Client ID from environment variables\n */\nimport Constants from \"expo-constants\";\nconst WEB_GOOGLE_CLIENT_ID = Constants.manifest.extra.WEB_GOOGLE_CLIENT_ID\n\n\n/**\n * Interface actions \n * for the component\n */\ninterface ILoginWithGoogleActions {\n    loginWithThirdParty: (token: object) => void;\n}\n\ninterface ILoginWithGoogleState {\n    error: string;\n}\n\nclass LoginWithGoogle extends Component <ILoginWithGoogleActions, ILoginWithGoogleState> {\n    state = {\n        error: ''\n    }\n\n    /**\n     * Handles a response from Google\n     */\n    responseGoogle = (res: any) => {\n        if(res.error) {\n            this.setState({ error: res.error });\n        } else {\n            this.props.loginWithThirdParty({ token: res.tokenId, provider: 'google' });    \n        }\n    }\n\n    render() {\n        return (\n            <View>\n                <GoogleLogin\n                    style={styles.thirdPartyButtonContainer}\n                    clientId={WEB_GOOGLE_CLIENT_ID}\n                    onSuccess={this.responseGoogle}\n                    onFailure={this.responseGoogle}\n                    cookiePolicy={'single_host_origin'}\n                />\n                {this.state.error !== ''\n                    && <Text>Error: {this.state.error}</Text>\n                }\n            </View>\n        )\n    }\n}\n\nexport default connect<ILoginWithGoogleActions>(null, {loginWithThirdParty})(LoginWithGoogle)","import React, { Component } from \"react\";\nimport { View, Text, Platform } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport { loginWithThirdParty } from \"../../../actions/auth\";\nimport * as AppleAuthentication from 'expo-apple-authentication';\n\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../../../themes\")(\"Form\");\n\n/**\n * Interface actions \n * for the component\n */\ninterface ILoginWithAppleActions {\n  loginWithThirdParty: (token: object) => void;\n}\n\n/**\n * Interface for the component\n * state\n */\ninterface ILoginWithAppleState {\n  error: string;\n}\n\nclass LoginWithApple extends Component <ILoginWithAppleActions, ILoginWithAppleState> {\n    state = {\n      error: ''\n    }\n\n    /**\n     * Login with Apple function\n     * Asynconously logs the user in on an \n     * iOS device\n     */\n    signInWithAppleMobile = async() => {\n\n      try {\n          const result: any = await AppleAuthentication.signInAsync({\n            requestedScopes: [\n              AppleAuthentication.AppleAuthenticationScope.FULL_NAME,\n              AppleAuthentication.AppleAuthenticationScope.EMAIL,\n            ],\n          })\n          \n          const fullName = result.fullName.givenName + \" \" + result.fullName.familyName\n          \n          const user = {\n            email: result.email,\n            name: fullName,\n            identityToken: result.identityToken\n          }\n       \n          this.props.loginWithThirdParty({ token: result.authorizationCode, type: Platform.OS, provider: 'apple', user });    \n        } catch(err) {\n          console.log('error!', err)\n        \n          this.setState({ error: err.message });\n        }\n      }\n\n      render() {\n          return (\n            <View style={styles.thirdPartyButtonContainer}>\n              <AppleAuthentication.AppleAuthenticationButton\n                buttonType={AppleAuthentication.AppleAuthenticationButtonType.SIGN_IN}\n                buttonStyle={AppleAuthentication.AppleAuthenticationButtonStyle.BLACK}\n                cornerRadius={5}\n                style={{ width: 200, height: 44 }}\n                onPress={this.signInWithAppleMobile}\n              />\n\n                {this.state.error !== ''\n                    && <Text style={{textAlign: 'center'}}>Error: {this.state.error}</Text>\n                }\n            </View>\n          )\n      }\n}\n\nexport default connect<ILoginWithAppleActions>(null, {loginWithThirdParty})(LoginWithApple)\n\n","import * as Yup from 'yup';\n\nexport class SignInData {\n\n  constructor(\n    readonly email: string,\n    readonly password: string) {\n\n  }\n\n  static empty(): SignInData {\n    return new SignInData(\n      '',\n      '',\n    );\n  }\n}\n\nexport const SignInSchema = Yup.object().shape({\n  email: Yup.string().min(1, \"Email cannot be blank\").email('Invalid email').required('Email is required'),\n  password: Yup.string().min(8, 'Password must be at least 8 characters').required('Password is required'),\n});\n\n","/*\n * File: modal-header.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Saturday, 6th June 2020 9:19:42 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Component to handle the header of components with close buttons\n * Last Modified: Saturday, 6th June 2020 9:41:26 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\n\n\nimport React from \"react\";\nimport {\n  Button,\n  ButtonElement,\n  ButtonProps,\n  IconProps,\n  Icon,\n  Text,\n  Spinner,\n} from \"@ui-kitten/components\";\nimport { View } from \"react-native\";\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../themes\")(\"Header\");\n\ninterface ModalHeaderProps extends ButtonProps {\n  text: string;\n  icon: string;\n  buttonText?: string;\n  loading?: boolean;\n  isLeaderboard?: boolean;\n}\n\nexport const ModalHeader = ({\n  text,\n  icon,\n  buttonText,\n  loading = false,\n  ...ButtonProps\n}: ModalHeaderProps): ButtonElement => {\n\n  \n  const buttonIcon = (props: IconProps) => {\n    if(!loading) return <Icon {...props} name={icon} size=\"large\" />\n\n    return (\n      <View>\n          <Spinner size=\"small\" status=\"danger\" />\n      </View>\n    )\n  }\n\n  return (\n    <View style={styles.container}>\n      <Button\n        {...ButtonProps}\n        accessoryRight={buttonIcon}\n        style={styles.button}\n      >{buttonText}</Button>\n      \n      <Text style={styles.title} category=\"h1\">\n        {text}\n      </Text>\n    </View>\n  );\n};\n","/*\n * File: Login.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Thursday, 14th May 2020 4:22:47 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Handles user login input & validation\n * Last Modified: Saturday, 16th May 2020 8:55:33 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\nimport { View, Platform } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport { Formik, FormikProps } from \"formik\";\nimport { Button, Layout, Text, Icon, IconProps } from \"@ui-kitten/components\";\nimport { TouchableWithoutFeedback } from \"react-native-gesture-handler\";\nimport * as actions from \"../../actions/auth\";\nimport { FormInput } from \"../../components/form-input.component\";\nimport { IInitialState } from \"../../reducers/interfaces\";\nimport LoginWithGoogle from \"./platformSpecific/LoginWithGoogle\";\nimport LoginWithApple from \"./platformSpecific/LoginWithApple.ios\";\nimport { SignInData, SignInSchema } from \"../../data/sign-in.model\";\nimport { EyeIcon, EyeOffIcon } from \"../../assets/icons\";\nimport { AppRoute } from \"../../navigation/app-routes\";\nimport { SignInScreenProps } from \"../../navigation/auth.navigator\";\nimport { ButtonInput } from \"../../components/form-button.component\";\nimport { ModalHeader } from \"../../components/modal-header.component\";\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../../themes\")(\"Form\");\n\n/**\n * Interface actions\n * for the component\n */\ninterface ILoginActions extends SignInScreenProps {\n  setLoading: () => void;\n  formUpdate: ({ prop, value }: any) => void;\n  login: (body: object) => void;\n  loginWithThirdParty: (token: object) => void;\n}\n\n/**\n * Interface Props\n * for the component\n */\ninterface ILoginProps {\n  email: string;\n  password: string;\n  error: string;\n  isLoading: boolean;\n  token: string;\n}\n\nconst LoginScreen = (props: ILoginProps & ILoginActions) => {\n  const [passwordVisible, setPasswordVisible] = React.useState<boolean>(false);\n\n  const onPasswordIconPress = (): void => {\n    setPasswordVisible(!passwordVisible);\n  };\n\n  /**\n   * If the inputs pass validation,\n   * submit the request to the server\n   */\n  const submit = (values: any) => {\n    props.setLoading();\n    const { email, password } = values;\n\n    props.login({ email, password });\n  };\n\n  const renderPasswordIcon = (props: any): React.ReactElement => {\n    const IconComponent = passwordVisible ? EyeIcon : EyeOffIcon;\n\n    return (\n      <TouchableWithoutFeedback onPress={onPasswordIconPress}>\n        <IconComponent {...props} />\n      </TouchableWithoutFeedback>\n    );\n  };\n\n\n  const { email, password, error, isLoading } = props;\n\n  const renderForm = (props: FormikProps<SignInData>): React.ReactFragment => {\n    const loading = isLoading || props.isSubmitting;\n\n    if(isLoading === false && props.isSubmitting === true) props.setSubmitting(false)\n    return (\n      <React.Fragment>\n        <FormInput\n          id=\"email\"\n          style={styles.formControl}\n          size='large'\n          placeholder=\"Email\"\n          keyboardType=\"email-address\"\n          autoCapitalize=\"none\"\n          value={props.values.email}\n          onKeyPress={({nativeEvent}) => {\n            if(nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n        <FormInput\n          id=\"password\"\n          style={styles.formControl}\n          size='large'\n          placeholder=\"Password\"\n          secureTextEntry={!passwordVisible}\n          accessoryRight={renderPasswordIcon}\n          autoCapitalize=\"none\"\n          value={props.values.password}\n          onKeyPress={({nativeEvent}) => {\n            if(nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n\n        {error !== \"\" && <Text>{error}</Text>}\n\n        <View style={styles.resetPasswordContainer}>\n          <Button appearance=\"ghost\" status='danger'>\n            Forgot password?\n          </Button>\n        </View>\n\n        <ButtonInput\n          style={styles.submitButton}\n          disabled={!props.isValid && !props.isValidating}\n          status=\"danger\"\n          onPress={() => props.handleSubmit()}\n          loading={loading}\n          text=\"SIGN IN\"\n        />\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <Layout style={styles.formContainer}>\n      <ModalHeader\n        style={styles.homeBtn}\n        text=\"\"\n        icon=\"close-outline\"\n        status=\"primary\"\n        onPress={() => props.navigation.navigate(AppRoute.HOME)}\n      />\n\n      <View style={styles.formContainer}>\n        <Formik\n          initialValues={{ email, password }}\n          validationSchema={SignInSchema}\n          onSubmit={(values) => submit(values)}\n        >\n          {renderForm}\n        </Formik>\n        \n        {Platform.OS === \"ios\" && <LoginWithApple />}\n\n        <View style = {styles.customHrTag} />\n\n        <LoginWithGoogle />\n\n        <Button\n          style={styles.noAccountButton}\n          onPress={() => props.navigation.navigate(AppRoute.SIGN_UP)}\n        >\n          SIGN UP\n        </Button>\n      </View>\n    </Layout>\n  );\n};\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): ILoginProps => {\n  const { email, password, error, isLoading, token } = state.auth;\n\n  return {\n    email,\n    password,\n    error,\n    isLoading,\n    token,\n  };\n};\n\nexport default connect<ILoginProps, ILoginActions, {}>(\n  mapStateToProps,\n  actions\n)(LoginScreen);\n","import * as Yup from 'yup';\n\nexport class SignUpData {\n\n  constructor(\n    readonly name: string,\n    readonly email: string,\n    readonly password: string,\n    readonly password_confirm: string\n    ) {\n  }\n\n  static empty(): SignUpData {\n    return new SignUpData(\n      '',\n      '',\n      '',\n      ''\n    );\n  }\n}\n\nexport const SignUpSchema = Yup.object().shape({\n  name: Yup.string().min(4, \"Name must be at least 4 characters\").required(),\n  email: Yup.string().min(1, \"Email cannot be blank\").email('Invalid email').required('Email is required'),\n  password: Yup.string().min(8, 'Password must be at least 8 characters').required('Password is required'),\n  password_confirm: Yup.string().when(\"password\", {\n    is: val => (val && val.length > 0 ? true : false),\n    then: Yup.string().oneOf(\n      [Yup.ref(\"password\")],\n      \"Confirm Password must equal password\"\n    )\n  }).required('Confirm Password is required'),\n});\n\n","/*\n * File: Register.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Thursday, 14th May 2020 3:08:31 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Handles user registration input & validation\n * Last Modified: Saturday, 16th May 2020 8:56:06 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\nimport { View } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../actions/auth\";\nimport { Button, Layout } from \"@ui-kitten/components\";\nimport { Formik, FormikProps } from \"formik\";\nimport { SignUpSchema, SignUpData } from \"../../data/sign-up.model\";\nimport { FormInput } from \"../../components/form-input.component\";\nimport { EyeIcon, EyeOffIcon } from \"../../assets/icons\";\nimport { TouchableWithoutFeedback } from \"react-native-gesture-handler\";\nimport { AppRoute } from \"../../navigation/app-routes\";\nimport { RegisterScreenProps } from \"../../navigation/auth.navigator\";\nimport { ButtonInput } from \"../../components/form-button.component\";\nimport { Text } from \"react-native\";\nimport { ModalHeader } from \"../../components/modal-header.component\";\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../../themes\")(\"Form\");\n\n/**\n * Interface Props\n * for the component\n */\ntype IProps = {\n  actionSuccess: boolean;\n  canSubmit: boolean;\n  name: string;\n  email: string;\n  password: string;\n  confirm_password: string;\n  error: string;\n  isLoading: boolean;\n};\n\n/**\n * Interface actions\n * for the component\n */\ninterface IActions extends RegisterScreenProps {\n  setLoading: () => void;\n  formUpdate: ({ prop, value }: any) => void;\n  create: (body: object) => void;\n}\n\nconst RegisterScreen = (props: IProps & IActions) => {\n  const [passwordVisible, setPasswordVisible] = React.useState<boolean>(false);\n\n  const onPasswordIconPress = (): void => {\n    setPasswordVisible(!passwordVisible);\n  };\n\n  const navigateSignIn = (): void => {\n    props.navigation.navigate(AppRoute.SIGN_IN);\n  };\n\n  /**\n   * If the inputs pass validation,\n   * submit the request to the server\n   */\n  const submit = (values: any) => {\n    props.setLoading();\n    const { name, email, password } = values;\n\n    props.create({ name, email, password });\n  };\n\n  const renderPasswordIcon = (props: any): React.ReactElement => {\n    const IconComponent = passwordVisible ? EyeIcon : EyeOffIcon;\n\n    return (\n      <TouchableWithoutFeedback onPress={onPasswordIconPress}>\n        <IconComponent {...props} />\n      </TouchableWithoutFeedback>\n    );\n  };\n\n  const { name, email, password, confirm_password, error, isLoading } = props;\n\n  const renderForm = (props: FormikProps<SignUpData>): React.ReactFragment => {\n    const loading = isLoading || props.isSubmitting;\n    \n    if(isLoading === false && props.isSubmitting === true) props.setSubmitting(false)\n    return (\n      <React.Fragment>\n        <FormInput\n          id=\"name\"\n          style={styles.formControlReg}\n          size=\"large\"\n          placeholder=\"Username\"\n          autoCorrect={false}\n          autoCapitalize=\"none\"\n          value={props.values.name}\n          onKeyPress={({nativeEvent}) => {\n            if(nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n        <FormInput\n          id=\"email\"\n          style={styles.formControlReg}\n          size=\"large\"\n          placeholder=\"Email\"\n          keyboardType=\"email-address\"\n          autoCapitalize=\"none\"\n          value={props.values.email}\n          onKeyPress={({nativeEvent}) => {\n            if(nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n        <FormInput\n          id=\"password\"\n          style={styles.formControlReg}\n          size=\"large\"\n          placeholder=\"Password\"\n          secureTextEntry={!passwordVisible}\n          accessoryRight={renderPasswordIcon}\n          value={props.values.password}\n          onKeyPress={({nativeEvent}) => {\n            if(nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n        <FormInput\n          id=\"password_confirm\"\n          style={styles.formControlReg}\n          size=\"large\"\n          placeholder=\"Confirm Password\"\n          secureTextEntry={!passwordVisible}\n          accessoryRight={renderPasswordIcon}\n          onKeyPress={({nativeEvent}) => {\n            if(nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n        {error !== \"\" && <Text>{error}</Text>}\n\n        <ButtonInput\n          style={styles.submitButton}\n          disabled={!props.isValid && !props.isValidating}\n          onPress={() => props.handleSubmit()}\n          loading={loading}\n          text=\"SIGN UP\"\n        />\n      </React.Fragment>\n    );\n  };\n\n  if (props.actionSuccess) navigateSignIn();\n  return (\n    <Layout style={styles.formContainerReg}>\n      <ModalHeader\n        text=\"\"\n        icon=\"close-outline\"\n        status=\"info\"\n        onPress={() => props.navigation.navigate(AppRoute.HOME)}\n      />\n\n      <View style={styles.formContainerReg}>\n        <Formik\n          initialValues={{ name, email, password, password_confirm: '' }}\n          validationSchema={SignUpSchema}\n          onSubmit={(values) => submit(values)}\n        >\n          {renderForm}\n        </Formik>\n\n        <View style = {styles.customHrTagReg} />\n\n        <Button\n          style={styles.haveAccountButton}\n          onPress={() => props.navigation.navigate(AppRoute.SIGN_IN)}\n        >\n          Already have an account?\n        </Button>\n      </View>\n    </Layout>\n  );\n};\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: any) => {\n  const { name, email, password, confirm_password, error, isLoading, actionSuccess } = state.auth;\n\n  return {\n    name,\n    email,\n    password,\n    confirm_password,\n    error,\n    isLoading,\n    actionSuccess\n  };\n};\n\nexport default connect<IProps & IActions, {}>(mapStateToProps, actions)(RegisterScreen);\n","/**\n * Import modules which can be accessed\n */\nimport SignoutScreen from './sign-out.component'\nimport SignInScreen from './sign-in.component'\nimport RegisterScreen from './register.component'\n\n/**\n * Export these modules to the rest of the application\n */\nexport default {\n    SignoutScreen,\n    SignInScreen,\n    RegisterScreen\n}\n","/*\n * File: host.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Wednesday, 3rd June 2020 2:52:35 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Hosting a game\n * Last Modified: Wednesday, 3rd June 2020 2:53:50 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\nimport { HostGameScreenProps } from \"../../navigation/game.navigator\";\nimport { Layout, Button } from \"@ui-kitten/components\";\nimport { Text } from \"react-native\";\nimport { AppRoute } from \"../../navigation/app-routes\";\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../../themes\")(\"Game\");\n\nconst HostScreen = (props: HostGameScreenProps) => {\n    return (\n        <Layout style={styles.container}>\n            <Text style={styles.title}>Host</Text>\n            <Button style={styles.submitButton} onPress={() => props.navigation.navigate(AppRoute.HOME)}>Home</Button>\n            <Button style={styles.submitButton} onPress={() => props.navigation.navigate(AppRoute.SIGN_OUT)}>Sign out page</Button>\n        </Layout>\n    )\n}\n\nexport default HostScreen","import * as Yup from 'yup';\n\nexport class JoinLobbyData {\n\n  constructor(\n    readonly lobbyName: string,\n    readonly username: string) {\n\n  }\n\n  static empty(): JoinLobbyData {\n    return new JoinLobbyData(\n      '',\n      '',\n    );\n  }\n}\n\nexport const JoinLobbySchema = Yup.object().shape({\n  lobbyName: Yup.string().min(4, \"Lobby code must be 4 characters\").max(5, 'Lobby code cannot be over 5 characters').required('Lobby Code is required'),\n  username: Yup.string().min(4, 'Username must be at least 4 characters').required('Username is required'),\n});\n\n","/*\n * File: join.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Wednesday, 3rd June 2020 2:52:35 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Joining a game\n * Last Modified: Wednesday, 3rd June 2020 3:14:57 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\nimport { View } from \"react-native\";\nimport { JoinGameScreenProps } from \"../../navigation/game.navigator\";\nimport { Layout, Text } from \"@ui-kitten/components\";\nimport { AppRoute } from \"../../navigation/app-routes\";\nimport {gameActions} from \"../../actions\";\nimport { FormikProps, Formik } from \"formik\";\nimport { JoinLobbyData, JoinLobbySchema } from \"../../data/join-lobby.model\";\nimport { IInitialState } from \"../../reducers/interfaces\";\nimport { connect } from \"react-redux\";\nimport { FormInput } from \"../../components/form-input.component\";\nimport { ButtonInput } from \"../../components/form-button.component\";\nimport { IJoinGame } from \"../../actions/game\";\nimport { ModalHeader } from \"../../components/modal-header.component\";\n\n\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../../themes\")(\"Form\");\n\n\n/**\n * Interface actions\n * for the component\n */\ninterface IJoinActions extends JoinGameScreenProps {\n    setGameLoading: () => void;\n    formUpdate: ({ prop, value }: any) => void;\n    joinGame:(body: IJoinGame) => void;\n  }\ninterface IJoinProps{\n    name:string;\n    lobbyName:string;\n    error: string;\n    isLoading: boolean;\n}\n\nconst JoinScreen = (props: IJoinActions & IJoinProps) => {\n    const {lobbyName,error,isLoading}=props;\n    /**\n   * If the inputs pass validation,\n   * submit the request to the server\n   */\n  const submit = (values: any) => {\n    props.setGameLoading();\n    const { lobbyName,username } = values;\n    \n    props.joinGame({lobbyName: lobbyName.toUpperCase(), username})\n};\nconst renderForm = (props: FormikProps<JoinLobbyData>): React.ReactFragment => {\n    const loading = isLoading || props.isSubmitting;\n\n    if(isLoading === false && props.isSubmitting === true) props.setSubmitting(false)\n    return (\n      <React.Fragment>\n        <FormInput\n          id=\"lobbyName\"\n          style={styles.formControl}\n          size='large'\n          value={props.values.lobbyName}\n          placeholder=\"Enter Join Code\"\n          autoCapitalize=\"characters\"\n          onKeyPress={({nativeEvent}) => {\n            if(nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n\n        <FormInput\n          id=\"username\"\n          style={styles.formControl}\n          size='large'\n          value={props.values.username}\n          placeholder=\"Create a Username\"\n          onKeyPress={({nativeEvent}) => {\n            if(nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n        \n        {error !== \"\" && <Text>{error}</Text>}\n\n        <ButtonInput\n          style={styles.submitButton}\n          disabled={!props.isValid && !props.isValidating}\n          onPress={() => props.handleSubmit()}\n          loading={loading}\n          text=\"JOIN\"\n        />\n      </React.Fragment>\n    );\n  };\n\n    return (\n        <Layout style={styles.formContainer}>\n          <ModalHeader\n              text=\"\"\n              icon=\"close-outline\"\n              status=\"primary\"\n              onPress={() => props.navigation.navigate(AppRoute.HOME)}\n            />\n\n            <View style={styles.formContainer}>\n              <Formik\n                  initialValues={{lobbyName, username: props.name}}\n                  validationSchema={JoinLobbySchema}\n                  onSubmit={(values)=>submit(values)}\n              >\n\n                  {renderForm}\n              </Formik>\n            </View>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = (state: IInitialState): IJoinProps => {\n    const { lobbyName,error,isLoading } = state.game;\n    const {name} = state.auth\n\n    return {\n      lobbyName,\n      error,\n      isLoading,\n      name\n    };\n  };\n  \n  export default connect<IJoinProps, IJoinActions, {}>(\n    mapStateToProps,\n    gameActions\n  )(JoinScreen);","/*\n * File: modal-header.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Saturday, 6th June 2020 9:19:42 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Component to handle the header of components with close buttons\n * Last Modified: Saturday, 6th June 2020 9:41:26 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\nimport {\n  Button,\n  ButtonElement,\n  ButtonProps,\n  IconProps,\n  Icon,\n  Text,\n  Spinner,\n} from \"@ui-kitten/components\";\nimport { View } from \"react-native\";\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../themes\")(\"Header\");\n\ninterface ModalHeaderProps extends ButtonProps {\n  text: string;\n  icon: string;\n  buttonText?: string;\n  loading?: boolean;\n  isLeaderboard?: boolean;\n  lobbyCode: string;\n  loadingText?: string;\n}\n\nexport const ModalHeaderLobby = ({\n  text,\n  icon,\n  buttonText,\n  loading = false,\n  lobbyCode,\n  isLeaderboard = false,\n  loadingText = \"\",\n  ...ButtonProps\n}: ModalHeaderProps): ButtonElement => {\n  const spinnerIcon = () => (\n    <View>\n      <Spinner size=\"small\" status=\"danger\" />\n    </View>\n  );\n\n  const buttonIcon = (props: IconProps) => {\n    if (!loading) return <Icon {...props} name={icon} size=\"large\" />;\n\n    return spinnerIcon();\n  };\n\n  const renderTitleAndCode = () => {\n    /**\n     * If it is a leaderboard screen, render only the title\n     */\n    if (isLeaderboard)\n      return (\n        <Text style={[styles.title, styles.leaderboardTitle]} category=\"h1\">\n          {text}\n        </Text>\n      );\n\n    /**\n     * If not, render the title and the lobby code\n     */\n    return (\n      <React.Fragment>\n        <Text style={styles.title} category=\"h1\">\n          {lobbyCode !== \"\" ? text : loadingText !== \"\" ? loadingText : \"Loading lobby...\"}\n        </Text>\n        <Text style={styles.codeTitle}>{lobbyCode}</Text>\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <Button\n        {...ButtonProps}\n        accessoryRight={buttonIcon}\n        style={styles.button}\n        size=\"tiny\"\n      >\n        {buttonText}\n      </Button>\n      {renderTitleAndCode()}\n    </View>\n  );\n};\n","/*\n * File: loading.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Wednesday, 10th June 2020 5:35:40 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Component which displays loading spinner\n * Last Modified: Wednesday, 10th June 2020 5:36:37 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\nimport { Spinner, Text, Layout } from \"@ui-kitten/components\";\nimport { View } from \"react-native\";\n\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../themes\")(\"Game\");\n\ninterface IProps {\n    text?: string;\n}\n\nconst LoadingComponent = ({text = \"\"}: IProps) => (\n    <Layout style={styles.gameLoadingSpinner}>\n        <View style={styles.loadingSpinner} >\n            <Spinner size=\"giant\" status=\"info\" />\n        </View>\n        <Text style={styles.title}>{text}</Text>\n    </Layout>\n)\n\nexport default LoadingComponent","/*\n * File: notification-bar.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Friday, 19th June 2020 2:55:51 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Handles notifcations and messages from the game sock client\n * Last Modified: Friday, 19th June 2020 2:55:59 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React, { useEffect } from \"react\";\nimport { ButtonInput } from \"./form-button.component\";\nimport { connect } from \"react-redux\";\nimport { Text, Layout } from '@ui-kitten/components'\nimport { IInitialState, IMessage, IPlayer } from \"../reducers/interfaces\";\nimport { View } from \"react-native\";\n\n/**\n * Importing styles\n * @param theme path\n * @param Game Module name\n */\nconst styles = require(\"../themes\")(\"Notification\");\n\n\ninterface IProps {\n    messages: IMessage[];\n    players: IPlayer[]\n}\n\nconst NotificationBar = ({messages, players}: IProps) => {\n\n    if(messages.some(dat => !dat.hide)) {\n      return (\n            <View style={styles.container}>\n                {messages.filter(message => !message.hide).map((message, i) => {\n                    let messageToDisplay = message.message\n                    let colour = '#972852'\n                    \n                    const playerI = players.findIndex(player => messageToDisplay.includes(player.id))\n                   \n                    /**\n                     * If a player ID is mentioned in the message\n                     * replace it with the players name, and their colour\n                     */\n                    if(playerI >= 0) {\n                        messageToDisplay = messageToDisplay.replace(players[playerI].id, players[playerI].name)\n                        colour = players[playerI].colour ? players[playerI].colour as string : 'red'\n                    }\n                    \n                    return (\n                        <ButtonInput\n                            key={i}\n                            style={[styles.notification, {backgroundColor: colour}]}\n                            status='success'\n                            size='small'\n                            disabled={false}\n                            loading={false}\n                            text={messageToDisplay}\n                        />\n                    )\n                })\n            }\n            </View>\n        )\n    }\n\n    return <></>\n}\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): IProps => {\n    const { messages, players } = state.game;\n\n    return {\n        messages,\n        players\n    };\n};\n\nexport default connect<IProps>(mapStateToProps)(NotificationBar)\n\n// export default NotificationBar","import React from 'react'\nimport { ListItem, Icon, Text, IconProps, Popover, Button } from '@ui-kitten/components'\nimport { View } from 'react-native'\nimport { IPlayer, IInitialState } from '../reducers/interfaces'\nimport { connect } from 'react-redux';\nimport { AppRoute } from '../navigation/app-routes';\n\n/**\n * Importing styles\n * @param theme path\n * @param Game Module name\n */\nconst styles = require(\"../themes\")(\"Game\");\n\n/**\n * Interface for props being\n * passed to to the single player component\n */\ninterface IProps {\n  item: IPlayer;\n  roundOver: boolean;\n  editPage: () => void;\n}\n\n/**\n * Interface for props\n * being passed from the redux store\n */\ninterface IReduxProps {\n  user: IPlayer\n}\n\nconst PlayerSingle = ({ item, roundOver, user, editPage }: IProps & IReduxProps) => {\n  const [editModalOpen, setEditModalOpen] = React.useState<boolean>(false)\n\n  const renderItemIcon = (props: IconProps, item: any) => {\n    return (<View style={[styles.playerAvatar, { backgroundColor: item.colour }]} >\n      {\n        item.icon\n          ? <Icon {...props} name={item.icon} />\n          : <Text category='h4'>{getPlayerInitials(item.name)}</Text>\n      }\n    </View>)\n  }\n\n  const renderEditIcon = (props: IconProps) => (\n    <Icon {...props} name={\"edit-outline\"} />\n  )\n\n  const renderEditIconButton = () => (\n    <Button accessoryLeft={renderEditIcon} onPress={() => setEditModalOpen(true)}></Button>\n  )\n\n  const navigateToEditPage = () => {\n    setEditModalOpen(false)\n    editPage()\n  }\n\n  const renderEditModal = () => {\n    if (user.id === item.id) {\n      return <Popover\n        visible={editModalOpen}\n        anchor={renderEditIconButton}\n        fullWidth={true}\n        onBackdropPress={() => setEditModalOpen(false)}\n      >\n        <Button onPress={navigateToEditPage}>Edit name</Button>\n\n      </Popover>\n    }\n    return <></>\n  }\n\n  const getPlayerInitials = (name: string) => {\n    const initials = name.match(/\\b\\w/g) || [];\n    return ((initials.shift() || '') + (initials.pop() || '')).toUpperCase();\n  }\n\n  const renderListItemPoints = (score: number) => {\n    return (\n      <React.Fragment>\n        {renderEditModal()}\n        <Text>{score} points</Text>\n      </React.Fragment>\n    )\n  }\n\n  if (roundOver) return <ListItem style={styles.listItem} title={item.name} accessoryLeft={(props) => renderItemIcon(props, item)} accessoryRight={() => renderListItemPoints(item.score)} />\n\n  return <ListItem style={[styles.listItem, { color: 'red' }]} title={item.name} accessoryLeft={(props) => renderItemIcon(props, item)} accessoryRight={() => renderEditModal()} />\n}\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): IReduxProps => {\n  const { user } = state.game;\n\n  return {\n    user\n  };\n};\n\nexport default connect<IReduxProps>(\n  mapStateToProps\n)(PlayerSingle);\n","import React from 'react'\nimport { List } from '@ui-kitten/components'\nimport { IPlayer, IInitialState } from '../reducers/interfaces'\nimport { connect } from 'react-redux'\nimport PlayerSingle from './player-single.component'\n\n/**\n * Importing styles\n * @param theme path\n * @param Game Module name\n */\nconst styles = require(\"../themes\")(\"Game\");\n\n/**\n * Interface for props being\n * passed to to the player list component\n */\ninterface IProps {\n  editPage: () => void\n}\n\n/**\n * Interface for props\n * being passed from the redux store\n */\ninterface IReduxProps {\n  players: IPlayer[];\n  roundOver: boolean;\n}\n\nconst PlayerList = (props: IProps & IReduxProps) => {\n\n  const renderItem = ({ item }: any) => (\n    <PlayerSingle item={item} roundOver={props.roundOver} editPage={() => props.editPage()} />\n  )\n\n  let players: IPlayer[] = props.players;\n  if (players.length < 4) {\n    const length = 4 - players.length\n    players = [\n      ...players,\n      ...new Array(length).fill({ name: \"Waiting for player...\", colour: '#161f26', icon: 'question-mark-outline' }),\n    ];\n  }\n  if (props.roundOver) {\n    players.sort((a, b) => b.score - a.score)\n  }\n\n\n  return (\n    <List\n      style={styles.listContainer}\n      data={players}\n      renderItem={renderItem}\n    />\n  )\n}\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): IReduxProps => {\n  const { players, roundOver } = state.game;\n\n  return {\n    players,\n    roundOver\n  };\n};\n\nexport default connect<IReduxProps>(\n  mapStateToProps\n)(PlayerList);\n\n","import React from 'react'\nimport { Icon, Text, IconProps, DrawerGroup, DrawerItem, Drawer } from '@ui-kitten/components'\nimport { View } from 'react-native'\nimport { IPlayer, IInitialState } from '../reducers/interfaces'\nimport { connect } from 'react-redux'\nimport { Question, RoundOptions } from '@rossmacd/gamesock-client'\nimport { ScrollView } from 'react-native-gesture-handler'\n\n/**\n * Importing styles\n * @param theme path\n * @param Game Module name\n */\nconst styles = require(\"../themes\")(\"Game\");\n\n/**\n * Interface for props being\n * passed to to the player list component\n */\ninterface IProps {\n  players: IPlayer[];\n  questions: Question[];\n  roundOptions: RoundOptions | undefined;\n}\n\nconst QuestionList = (props: IProps) => {\n\n  const [selectedIndex, setSelectedIndex] = React.useState<any>(null);\n\n  const renderItemIcon = (props: IconProps, item: any) => {\n    if (item) {\n      return (\n        <View style={[styles.playerAvatar, { backgroundColor: item.colour }]} >\n          <Text category='h4'>{getPlayerInitials(item.name)}</Text>\n        </View>\n      )\n    }\n    return (\n      <View style={[styles.playerAvatar, { backgroundColor: '#d14688' }]} >\n        <Icon {...props} name=\"shuffle-2-outline\" />\n      </View>\n    )\n  }\n\n  const renderIcon = (props: IconProps, name: string) => (\n    <Icon {...props} name={name} />\n  )\n\n  const getPlayerInitials = (name: string) => {\n    const initials = name.match(/\\b\\w/g) || [];\n    return ((initials.shift() || '') + (initials.pop() || '')).toUpperCase();\n  }\n\n  if (props.questions.length > 0) {\n    return (\n      <ScrollView>\n        <Drawer\n          selectedIndex={selectedIndex}\n          onSelect={index => setSelectedIndex(index)}\n          style={styles.listContainer}\n        >\n          {props.questions.map((item, i) => {\n            const player = props.players.find(player => player.id === item.playerId)\n            const pointsToPlayers = item.answers?.length === 2 && (item.answers[0] === item.answers[1])\n\n            return (\n              <DrawerGroup\n                title={item.question}\n                style={[styles.listItem]}\n                key={i}\n                accessoryLeft={(props) => renderItemIcon(props, player)}\n              >\n\n\n                <DrawerItem onPress={() => { }} title={player ? `Asked by: ${player.name}` : 'Shuffled Question'} accessoryLeft={(props) => renderIcon(props, 'question-mark-outline')} />\n                {\n                  props.roundOptions?.hotseatPlayers.map((hotseatPlayer, i) => {\n                    const answer = item.answers![i]\n                    const questionAnswer = `${answer ? `answered ${answer === i ? 'themself' : props.roundOptions?.hotseatPlayers[i === 0 ? 1 : 0].name}` : 'Didn\\'t answer'}`\n\n                    return (\n                      <DrawerItem key={hotseatPlayer.name} onPress={() => { }} title={`${hotseatPlayer.name} ${questionAnswer}`} accessoryLeft={(props) => renderIcon(props, 'edit-2-outline')} />\n                    )\n                  })\n                }\n\n                <DrawerItem\n                  onPress={() => { }}\n                  title={pointsToPlayers\n                    ? 'Both players got points!'\n                    : `${player\n                      ? `${player.name} got points!`\n                      : 'Nobody got points!'}`}\n                  accessoryLeft={(props) => renderIcon(props, 'star-outline')}\n                />\n\n              </DrawerGroup>\n            )\n          })}\n\n        </Drawer>\n      </ScrollView>\n    )\n  }\n\n  return <Text>No Questions Found</Text>\n}\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): IProps => {\n  const { players, questions, roundOptions } = state.game;\n\n  return {\n    players,\n    questions,\n    roundOptions\n  };\n};\n\nexport default connect<IProps>(\n  mapStateToProps\n)(QuestionList);\n\n","\nimport React from 'react'\nimport { TabBar, Tab, Icon, IconProps, Layout } from '@ui-kitten/components'\nimport PlayerList from '../../components/player-list.component';\nimport QuestionList from '../../components/question-list.component';\nimport { StyleSheet, View } from \"react-native\";\n\ninterface IProps {\n    showTabs: boolean;\n    editPage: () => void;\n}\n\nconst useTabBarState = (initialState = 0) => {\n    const [selectedIndex, setSelectedIndex] = React.useState(initialState);\n    return { selectedIndex, onSelect: setSelectedIndex };\n};\n\nconst GameTabs = (props: IProps) => {\n\n    const topState = useTabBarState()\n\n    const renderIcon = (props: IconProps, name: string) => (\n        <Icon {...props} name={name} />\n    )\n\n    if (props.showTabs) {\n        return (\n            <React.Fragment>\n                <TabBar {...topState} >\n                    <Tab title=\"Score\" icon={(props) => renderIcon(props, \"person-outline\")}\n                    />\n                    <Tab title=\"Questions\" icon={(props) => renderIcon(props, \"question-mark-outline\")}\n\n                    />\n                </TabBar>\n                <View style={styles.tabContainer}>\n                    {\n                        topState.selectedIndex === 0\n                            ? <PlayerList editPage={() => props.editPage()} />\n                            : <QuestionList />\n                    }\n\n                </View>\n            </React.Fragment>\n        )\n    }\n\n    return (\n        <PlayerList editPage={() => props.editPage()} />\n    )\n}\n\nconst styles = StyleSheet.create({\n    tabContainer: {\n        flex: 1\n    },\n});\n\nexport default GameTabs","/*\n * File: lobby.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Wednesday, 3rd June 2020 2:52:35 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: In game lobby for both host and players\n * Last Modified: Wednesday, 3rd June 2020 3:00:55 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from 'react';\nimport { IPlayer, IInitialState } from '../../reducers/interfaces';\nimport { connect } from 'react-redux';\nimport { gameActions } from '../../actions';\nimport { LobbyScreenProps } from '../../navigation/game.navigator';\nimport { ButtonInput } from '../../components/form-button.component';\nimport { AppRoute } from '../../navigation/app-routes';\nimport * as GameSockClient from '@rossmacd/gamesock-client';\nimport { ModalHeaderLobby } from '../../components/modal-header-lobby.component';\nimport LoadingComponent from '../../components/loading.component';\nimport NotificationBar from '../../components/notification-bar.component';\nimport { Layout, Text } from '@ui-kitten/components';\nimport GameTabs from './game-tabs.component';\n\n/**\n * Importing styles\n * @param theme path\n * @param Game Module name\n */\nconst styles = require('../../themes')('Game');\n\ninterface IActions extends LobbyScreenProps {\n  setGameLoading: () => void;\n  leaveGame: () => void;\n  startHostGame: (lobbyName: string) => void;\n}\n\n/**\n * Interface for props being\n * passed to to the lobby component\n */\ninterface IProps {\n  players: IPlayer[];\n  isLoading: boolean;\n  isHost: boolean;\n  lobbyName: string;\n  roundOver: boolean;\n  roundOptions: GameSockClient.RoundOptions | undefined;\n  numOfRounds: number;\n  timer: number;\n}\n\nconst LobbyScreen = (props: IProps & IActions) => {\n  const endGame = () => {\n    props.setGameLoading();\n    props.leaveGame();\n    props.navigation.navigate(AppRoute.HOME);\n  };\n\n  const startGame = () => {\n    props.setGameLoading();\n    if (!gameIsFinished && props.roundOver) {\n      GameSockClient.continueWithGame(props.lobbyName);\n      console.log(\"Continuing\")\n    } else {\n      console.log(\"Strarting\")\n      GameSockClient.startGame(props.lobbyName);\n    }\n    props.navigation.navigate(AppRoute.GAME);\n  };\n\n  const gameIsFinished = props.roundOptions ? props.roundOptions.roundNum === props.numOfRounds : false;\n\n  const renderModalTitle = () => {\n    if (!gameIsFinished && props.roundOver) {\n      if (props.timer <= 0) return 'Starting next round...';\n      return 'Next round starts in';\n    }\n    if (gameIsFinished) return 'LEADERBOARD';\n    return 'Send this code to your friends:';\n  };\n\n  const renderModalCode = () => {\n    if (!gameIsFinished && props.roundOver) {\n      return props.timer <= 0 ? '0' : `${props.timer}`;\n    }\n    return props.lobbyName;\n  };\n\n  const showEditPage = () => {\n    props.navigation.navigate(AppRoute.EDIT_USER)\n  }\n\n  const readyToPlay = props.players.length > 3;\n\n  if (props.lobbyName === '') return <LoadingComponent text=\"Loading Lobby...\" />;\n  return (\n    <Layout style={styles.container}>\n      <ModalHeaderLobby text={renderModalTitle()} lobbyCode={renderModalCode()} buttonText={props.isHost ? 'End Game' : 'Leave Lobby'} loading={false} disabled={props.isLoading} isLeaderboard={props.roundOver} icon=\"close-outline\" status=\"info\" onPress={() => endGame()} />\n\n      <GameTabs editPage={() => showEditPage()} showTabs={props.roundOver} />\n\n      {props.isHost ? (\n        <ButtonInput\n          style={styles.submitButton}\n          status=\"success\"\n          onPress={startGame}\n          disabled={props.isLoading || !readyToPlay || (!props.roundOver ? gameIsFinished : false)}\n          loading={props.isLoading}\n          text={readyToPlay ? (props.roundOver ? `${gameIsFinished ? 'START NEW GAME' : `BUT WAIT, THERE'S MORE! (${props.numOfRounds} ROUNDS)`}\\nSTART NEXT ROUND` : 'PLAY TIME!') : `WAITING FOR ${4 - props.players.length} PLAYER${4 - props.players.length > 1 ? 'S' : ''}`}\n        />\n      ) : (\n        <ButtonInput\n          style={styles.submitButtonJoined}\n          status=\"success\"\n          size=\"small\"\n          disabled={props.isLoading || !readyToPlay || (!props.roundOver ? gameIsFinished : false)}\n          loading={props.isLoading}\n          text={readyToPlay ? (props.roundOver ? `${gameIsFinished ? 'WAITING FOR HOST...' : `HOLD UP! WAIT A MINUTE! (${props.numOfRounds} ROUNDS)`}` : 'WAITING FOR HOST...') : `WAITING FOR ${4 - props.players.length} PLAYER${4 - props.players.length > 1 ? 'S' : ''}`}\n        />\n      )}\n\n      <NotificationBar />\n    </Layout>\n  );\n};\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): IProps => {\n  const { players, isLoading, isHost, lobbyName, roundOver, roundOptions, numOfRounds, timer } = state.game;\n\n  return {\n    players,\n    isLoading,\n    isHost,\n    lobbyName,\n    roundOver,\n    roundOptions,\n    numOfRounds,\n    timer,\n  };\n};\n\nexport default connect<IProps, IActions>(mapStateToProps, gameActions)(LobbyScreen);\n","import React from \"react\";\nimport { Text } from \"@ui-kitten/components\";\nimport { IInitialState } from \"../reducers/interfaces\";\nimport { RoundOptions, Question } from \"@rossmacd/gamesock-client\";\nimport { connect } from \"react-redux\";\n\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../themes\")(\"Game\");\n\n\n/**\n * Interface for props being\n * passed to to the answers component\n */\ninterface IProps {\n    questions: Question[];\n    currentQuestionId: number;\n    roundOptions: RoundOptions | undefined;\n}\n\nconst Answers = (props: any) => {\n    return (\n        <React.Fragment>\n            {props.questions[props.currentQuestionId].answers!.map(\n                (answer: number, i: number) => {\n                    if (answer !== null)\n                        return (\n                            <Text key={i} style={[i === 0 ? styles.answerLeft : styles.answerRight]}>\n                                {`SELECTED ${answer === i ? \"THEMSELVES!\" : props.roundOptions?.hotseatPlayers[i === 0 ? 1 : 0].name}`}\n                            </Text>\n                        );\n\n                    return (\n                        // Text for when chosen players didn't choose a player:\n                        <Text key={i} style={[styles.pleadTheFifth, i === 0 ? styles.pleadAlignLeft : styles.pleadAlignRight]}>\n                            {`pleaded the 5th`}\n                        </Text>\n                    );\n                }\n            )}\n        </React.Fragment>\n    );\n}\n\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): IProps => {\n    const {\n        questions,\n        roundOptions,\n        currentQuestionId\n    } = state.game\n\n    return {\n        questions,\n        roundOptions,\n        currentQuestionId\n    }\n}\n\nexport default connect<IProps>(\n    mapStateToProps\n)(Answers);","/*\n * File: picked-players.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Friday, 5th June 2020 11:13:02 am\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Component for picked players during a game\n * Last Modified: Friday, 5th June 2020 11:13:07 am\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport { Layout, Card, Text, Button } from \"@ui-kitten/components\";\nimport React from \"react\";\nimport { View } from \"react-native\";\nimport { Player, Question } from \"@rossmacd/gamesock-client\";\nimport Answers from './answers.component'\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../themes\")(\"Game\");\n\n/**\n * Interface actions\n * for the component\n */\ninterface IActions {\n  answerQuestion?: (questionIndex: number, playerId: number) => void;\n}\n\n/**\n * Interface for props being\n * passed to to the picked players component\n */\ninterface IProps {\n  players: [Player, Player] | undefined;\n  question?: Question;\n  questionIndex?: number;\n  user: Player;\n  canAnswer?: boolean;\n  displayAnswer?: boolean;\n}\n\nconst PickedPlayers = (props: IProps & IActions) => {\n  const canSelectAnswer = props.players?.some(\n    (player) => player.id === props.user.id\n  );\n\n  /**\n   * When a player selects an answer\n   *\n   * @param {number} i\n   */\n  const onSelectPlayer = (i: number) => {\n    if (canSelectAnswer && props.canAnswer && props.answerQuestion) {\n      props.answerQuestion(props.questionIndex!, i);\n    }\n  };\n\n  /**\n   * Render the question answer\n   */\n  const displayQuestionAnswer = () => {\n    if (props.displayAnswer) {\n      return <Answers />\n    }\n\n    return <></>\n  }\n\n  /**\n   * Renders the text title for ingame picked players\n   */\n  const renderTextTitle = () => {\n    if (props.question?.question)\n      return (\n        <React.Fragment>\n          <Text style={styles.titleNotChosen}>\n            {canSelectAnswer\n              ? props.canAnswer\n                ? \"\"\n                : \"Waiting for next question...\"\n              : \"Waiting for players to answer...\"}\n          </Text>\n\n          <Text style={styles.question}>{props.question.question}</Text>\n        </React.Fragment>\n      );\n\n    return (\n      // <Text style={styles.title}>Picked Players</Text>\n      <Text style={styles.titleChosenYellow}>CHOSEN <Text style={styles.titleChosenRed}>VICTIMS</Text></Text>\n    );\n  };\n\n  return (\n    <Layout style={styles.container}>\n      {renderTextTitle()}\n\n      <View style={styles.pickedPlayerContainer}>\n        {props.players?.map((player, i) => {\n          const isPlayer = player.id === props.user.id;\n\n          if (canSelectAnswer)\n            return (\n              <View style={styles.pickedPlayer} key={i}>\n\n                <Button\n                  disabled={!props.canAnswer}\n                  style={[\n                    styles.pickedPlayerCard,\n                    i === 0 \n                      ? (!props.displayAnswer ? styles.cardPink : styles.cardPinkAnswer) \n                      : (!props.displayAnswer ? styles.cardPurple : styles.cardPurpleAnswer),\n                  ]}\n                  size=\"giant\"\n                  onPress={() => onSelectPlayer(i)}\n                >\n                  {player.name}\n                </Button>\n\n                <Text\n                  style={[\n                    styles.belowCardText,\n                    i === 0 ? styles.alignLeft : styles.alignRight,\n                  ]}\n                  appearance=\"hint\"\n                >\n                  {player.name} {isPlayer ? \"(You)\" : \"\"}\n                </Text>\n              </View>\n            );\n\n          return (\n            <View style={styles.pickedPlayer} key={i}>\n\n              <Card\n                style={[\n                  styles.pickedPlayerCard,\n                  i === 0 \n                  ? (!props.displayAnswer ? styles.cardPink : styles.cardPinkAnswer) \n                  : (!props.displayAnswer ? styles.cardPurple : styles.cardPurpleAnswer),\n                ]}\n                onPress={() => onSelectPlayer(i)}\n              >\n                <Text style={styles.title}>{player.name}</Text>\n              </Card>\n\n              <Text\n                style={[\n                  styles.belowCardText,\n                  i === 0 ? styles.alignLeft : styles.alignRight,\n                ]}\n                appearance=\"hint\"\n              >\n                {player.name} {isPlayer ? \"(You)\" : \"\"}\n              </Text>\n            </View>\n          );\n        })}\n        {displayQuestionAnswer()}\n      </View>\n    </Layout>\n  );\n};\n\nexport default PickedPlayers;\n","import * as Yup from 'yup';\n\nexport class QuestionInputData {\n\n  constructor(\n    readonly questionInput: string) {\n\n  }\n\n  static empty(): QuestionInputData {\n    return new QuestionInputData(\n      'Who\\'s more likely to',\n    );\n  }\n}\n\nexport const QuestionSchema = Yup.object().shape({\n    questionInput: Yup.string().matches(/^Who's more likely.*$/, { message: 'Question must start with \\\"Whos\\'s more likely\\\"' }).required('Question is required')\n});\n","/*\n * File: shuffle-question.helper.ts\n * Project: frontend\n * Version: 1.0.0\n * File Created: Wednesday, 10th June 2020 4:10:12 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Shuffles a question with a random verb and noun\n * Last Modified: Wednesday, 10th June 2020 4:10:22 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\n/**\n * Array of Nouns\n */\nconst objects = [\n  \"Christmas ornament\",\n  \"bag of popcorn\",\n  \"bag of rubber bands\",\n  \"balloon\",\n  \"banana\",\n  \"bangle bracelet\",\n  \"bar of soap\",\n  \"beaded necklace\",\n  \"bed\",\n  \"bell\",\n  \"blowdryer\",\n  \"book of jokes\",\n  \"book of matches\",\n  \"bottle\",\n  \"bottle cap\",\n  \"bottle of glue\",\n  \"bottle of honey\",\n  \"bottle of nail polish\",\n  \"bottle of oil\",\n  \"bottle of paint\",\n  \"bottle of pills\",\n  \"bottle of soda\",\n  \"bottle of sunscreen\",\n  \"bottle of water\",\n  \"bouquet of flowers\",\n  \"bowl\",\n  \"box\",\n  \"box of baking soda\",\n  \"box of chalk\",\n  \"box of crayons\",\n  \"box of tissues\",\n  \"bread\",\n  \"broccoli\",\n  \"brush\",\n  \"butter knife\",\n  \"camera\",\n  \"can of beans\",\n  \"can of chili\",\n  \"can of peas\",\n  \"can of whipped cream\",\n  \"candle\",\n  \"candlestick\",\n  \"car\",\n  \"cars\",\n  \"carton of ice cream\",\n  \"cat\",\n  \"chain\",\n  \"chicken\",\n  \"children's book\",\n  \"chocolate\",\n  \"year tutor hat\",\n  \"clock\",\n  \"coffee pot\",\n  \"computer\",\n  \"container of pudding\",\n  \"cookie jar\",\n  \"cookie tin\",\n  \"cow\",\n  \"cowboy hat\",\n  \"craft book\",\n  \"credit card\",\n  \"crow\",\n  \"crowbar\",\n  \"dagger\",\n  \"dictionary\",\n  \"dog\",\n  \"domino set\",\n  \"door\",\n  \"drawer\",\n  \"drill press\",\n  \"feather\",\n  \"few batteries\",\n  \"fish\",\n  \"fishing hook\",\n  \"flag\",\n  \"flashlight\",\n  \"flyswatter\",\n  \"football\",\n  \"fork\",\n  \"fridge\",\n  \"frying pan\",\n  \"garden spade\",\n  \"giraffe\",\n  \"glass\",\n  \"glow stick\",\n  \"grocery list\",\n  \"hair brush\",\n  \"hair clip\",\n  \"hammer\",\n  \"hamster\",\n  \"hand bag\",\n  \"handful of change\",\n  \"hanger\",\n  \"harmonica\",\n  \"helmet\",\n  \"house\",\n  \"ipod\",\n  \"ipod charger\",\n  \"jar of jam\",\n  \"jar of peanut butter\",\n  \"jar of pickles\",\n  \"jigsaw puzzle\",\n  \"key\",\n  \"keyboard\",\n  \"keychain\",\n  \"kitchen knife\",\n  \"knife\",\n  \"lamp shade\",\n  \"laser pointer\",\n  \"lemon\",\n  \"letter opener\",\n  \"light bulb\",\n  \"lighter\",\n  \"lime\",\n  \"lion\",\n  \"magazine\",\n  \"magnet\",\n  \"marble\",\n  \"martini glass\",\n  \"microphone\",\n  \"milk\",\n  \"mirror\",\n  \"mobile phone\",\n  \"model car\",\n  \"money\",\n  \"mop\",\n  \"mouse pad\",\n  \"nail clippers\",\n  \"necktie\",\n  \"needle\",\n  \"notebook\",\n  \"notepad\",\n  \"novel\",\n  \"pack of cards\",\n  \"package of crisp and crunchy edibles\",\n  \"bag of spuddys\",\n  \"packet of seeds\",\n  \"paintbrush\",\n  \"pair of binoculars\",\n  \"pair of dice\",\n  \"pair of earrings\",\n  \"pair of glasses\",\n  \"pair of handcuffs\",\n  \"pair of knitting needles\",\n  \"pair of rubber gloves\",\n  \"pair of safety goggles\",\n  \"pair of scissors\",\n  \"pair of socks\",\n  \"pair of sunglasses\",\n  \"pair of water goggles\",\n  \"panda\",\n  \"pants\",\n  \"paper\",\n  \"pasta strainer\",\n  \"pearl necklace\",\n  \"pen\",\n  \"pencil holder\",\n  \"pepper shaker\",\n  \"perfume\",\n  \"phone\",\n  \"photo album\",\n  \"picture frame\",\n  \"piece of gum\",\n  \"pillow\",\n  \"pinecone\",\n  \"plastic fork\",\n  \"plush octopus\",\n  \"pocketknife\",\n  \"pocketwatch\",\n  \"pool stick\",\n  \"postage stamp\",\n  \"purse\",\n  \"purse/bag\",\n  \"quartz crystal\",\n  \"rabbit\",\n  \"radio\",\n  \"rat\",\n  \"remote\",\n  \"rhino\",\n  \"rock\",\n  \"roll of duct tape\",\n  \"roll of masking tape\",\n  \"roll of stickers\",\n  \"roll of toilet paper\",\n  \"rolling pin\",\n  \"rope\",\n  \"rubber band\",\n  \"rubber duck\",\n  \"rusty nail\",\n  \"safety pin\",\n  \"sailboat\",\n  \"salt shaker\",\n  \"sandal\",\n  \"sandglass\",\n  \"scarf\",\n  \"scotch tape\",\n  \"screw\",\n  \"screwdriver\",\n  \"seat belt\",\n  \"shark\",\n  \"sharpie\",\n  \"sheep\",\n  \"sheet of paper\",\n  \"shirt\",\n  \"shirt button\",\n  \"shoe lace\",\n  \"shoes\",\n  \"shopping bag\",\n  \"shovel\",\n  \"sidewalk\",\n  \"sketch pad\",\n  \"slipper\",\n  \"snail shell\",\n  \"snowglobe\",\n  \"soccer ball\",\n  \"socks\",\n  \"spatula\",\n  \"spice bottle\",\n  \"sponge\",\n  \"spoon\",\n  \"squirrel\",\n  \"squirt gun\",\n  \"steak knife\",\n  \"stick of incense\",\n  \"sticker book\",\n  \"sticky note\",\n  \"stockings\",\n  \"stop sign\",\n  \"straw\",\n  \"sun glasses\",\n  \"sword\",\n  \"tea cup\",\n  \"tea pot\",\n  \"television\",\n  \"tennis ball\",\n  \"tennis racket\",\n  \"thermometer\",\n  \"thimble\",\n  \"thread\",\n  \"tiger\",\n  \"tire swing\",\n  \"tissue box\",\n  \"toe ring\",\n  \"toilet\",\n  \"toilet paper tube\",\n  \"tomato\",\n  \"tooth pick\",\n  \"toothbrush\",\n  \"toothpaste\",\n  \"toothpick\",\n  \"towel\",\n  \"toy car\",\n  \"toy plane\",\n  \"toy soldier\",\n  \"toy top\",\n  \"trash bag\",\n  \"tree\",\n  \"trucks\",\n  \"tube of lip balm\",\n  \"tube of lipstick\",\n  \"turtle\",\n  \"tv\",\n  \"vase\",\n  \"wallet\",\n  \"washcloth\",\n  \"washing machine\",\n  \"watch\",\n  \"water bottle\",\n  \"wedding ring\",\n  \"whale\",\n  \"whistle\",\n  \"window\",\n  \"wine glass\",\n  \"wireless control\",\n  \"wooden spoon\",\n  \"word search\",\n  \"wrench\",\n  \"wristwatch\",\n  \"zebra\",\n  \"zipper\",\n];\n\n/**\n * Array of Verbs\n */\nconst verbs = [\n  \"accept\",\n  \"add\",\n  \"admire\",\n  \"admit\",\n  \"advise\",\n  \"afford\",\n  \"agree\",\n  \"alert\",\n  \"allow\",\n  \"ask\",\n  \"attach\",\n  \"attack\",\n  \"attempt\",\n  \"attend\",\n  \"attract\",\n  \"avoid\",\n  \"back\",\n  \"bake\",\n  \"balance\",\n  \"ban\",\n  \"bang\",\n  \"bare\",\n  \"bat\",\n  \"bathe\",\n  \"battle\",\n  \"beam\",\n  \"beg\",\n  \"behave\",\n  \"belong\",\n  \"bleach\",\n  \"bless\",\n  \"blind\",\n  \"blink\",\n  \"blot\",\n  \"blush\",\n  \"boast\",\n  \"boil\",\n  \"bolt\",\n  \"bomb\",\n  \"book\",\n  \"bore\",\n  \"change\",\n  \"charge\",\n  \"chase\",\n  \"cheat\",\n  \"check\",\n  \"cheer\",\n  \"chew\",\n  \"choke\",\n  \"chop\",\n  \"claim\",\n  \"clap\",\n  \"clean\",\n  \"coil\",\n  \"collect\",\n  \"colour\",\n  \"comb\",\n  \"command\",\n  \"communicate\",\n  \"compare\",\n  \"compete\",\n  \"complain\",\n  \"complete\",\n  \"concentrate\",\n  \"concern\",\n  \"confess\",\n  \"confuse\",\n  \"connect\",\n  \"decay\",\n  \"deceive\",\n  \"decide\",\n  \"decorate\",\n  \"delay\",\n  \"delight\",\n  \"deliver\",\n  \"depend\",\n  \"describe\",\n  \"desert\",\n  \"dust\",\n  \"fear\",\n  \"fence\",\n  \"fetch\",\n  \"file\",\n  \"fill\",\n  \"film\",\n  \"fire\",\n  \"fit\",\n  \"fix\",\n  \"flap\",\n  \"flash\",\n  \"float\",\n  \"flood\",\n  \"flow\",\n  \"flower\",\n  \"fold\",\n  \"follow\",\n  \"fool\",\n  \"glue\",\n  \"grab\",\n  \"grate\",\n  \"grease\",\n  \"harass\",\n  \"harm\",\n  \"hate\",\n  \"haunt\",\n  \"head\",\n  \"heal\",\n  \"heap\",\n  \"heat\",\n  \"help\",\n  \"hook\",\n  \"hop\",\n  \"hope\",\n  \"hover\",\n  \"hug\",\n  \"hum\",\n  \"hunt\",\n  \"hurry\",\n  \"identify\",\n  \"ignore\",\n  \"imagine\",\n  \"impress\",\n  \"improve\",\n  \"include\",\n  \"increase\",\n  \"interest\",\n  \"interfere\",\n  \"interrupt\",\n  \"introduce\",\n  \"invent\",\n  \"invite\",\n  \"irritate\",\n  \"learn\",\n  \"level\",\n  \"license\",\n  \"lick\",\n  \"lie\",\n  \"lighten\",\n  \"like\",\n  \"list\",\n  \"manage\",\n  \"march\",\n  \"mark\",\n  \"marry\",\n  \"match\",\n  \"mate\",\n  \"matter\",\n  \"measure\",\n  \"meddle\",\n  \"melt\",\n  \"memorise\",\n  \"mend\",\n  \"mess up\",\n  \"milk\",\n  \"mine\",\n  \"miss\",\n  \"mix\",\n  \"mug\",\n  \"multiply\",\n  \"murder\",\n  \"nail\",\n  \"name\",\n  \"need\",\n  \"nest\",\n  \"nod\",\n  \"note\",\n  \"notice\",\n  \"number\",\n  \"obey\",\n  \"object\",\n  \"peck\",\n  \"pedal\",\n  \"peel\",\n  \"peep\",\n  \"perform\",\n  \"permit\",\n  \"phone\",\n  \"pick\",\n  \"pinch\",\n  \"pine\",\n  \"place\",\n  \"plan\",\n  \"plant\",\n  \"play\",\n  \"please\",\n  \"pour\",\n  \"practise\",\n  \"pray\",\n  \"preach\",\n  \"precede\",\n  \"prefer\",\n  \"prepare\",\n  \"present\",\n  \"preserve\",\n  \"press\",\n  \"pretend\",\n  \"prevent\",\n  \"prick\",\n  \"print\",\n  \"produce\",\n  \"program\",\n  \"promise\",\n  \"protect\",\n  \"provide\",\n  \"pull\",\n  \"pump\",\n  \"punch\",\n  \"race\",\n  \"radiate\",\n  \"rain\",\n  \"release\",\n  \"rely\",\n  \"remain\",\n  \"remember\",\n  \"remind\",\n  \"remove\",\n  \"repair\",\n  \"repeat\",\n  \"replace\",\n  \"reply\",\n  \"report\",\n  \"reproduce\",\n  \"request\",\n  \"rescue\",\n  \"retire\",\n  \"return\",\n  \"rhyme\",\n  \"rinse\",\n  \"risk\",\n  \"rob\",\n  \"rock\",\n  \"roll\",\n  \"rot\",\n  \"rub\",\n  \"satisfy\",\n  \"save\",\n  \"saw\",\n  \"scare\",\n  \"scatter\",\n  \"scold\",\n  \"scorch\",\n  \"scrape\",\n  \"scratch\",\n  \"scream\",\n  \"screw\",\n  \"scribble\",\n  \"scrub\",\n  \"seal\",\n  \"smell\",\n  \"smile\",\n  \"smoke\",\n  \"snatch\",\n  \"sneeze\",\n  \"sniff\",\n  \"snore\",\n  \"snow\",\n  \"soak\",\n  \"soothe\",\n  \"sound\",\n  \"spare\",\n  \"spark\",\n  \"sparkle\",\n  \"spell\",\n  \"spill\",\n  \"spoil\",\n  \"spot\",\n  \"spray\",\n  \"sprout\",\n  \"squash\",\n  \"squeak\",\n  \"squeal\",\n  \"squeeze\",\n  \"stain\",\n  \"stamp\",\n  \"stare\",\n  \"start\",\n  \"support\",\n  \"suppose\",\n  \"surprise\",\n  \"surround\",\n  \"suspect\",\n  \"suspend\",\n  \"switch\",\n  \"talk\",\n  \"tame\",\n  \"tap\",\n  \"taste\",\n  \"tease\",\n  \"transport\",\n  \"trap\",\n  \"travel\",\n  \"treat\",\n  \"tremble\",\n  \"trick\",\n  \"trip\",\n  \"trot\",\n  \"trouble\",\n  \"trust\",\n  \"try\",\n  \"tug\",\n  \"whistle\",\n  \"wack'm\",\n  \"wink\",\n  \"wipe\",\n  \"wish\",\n  \"wobble\",\n  \"wonder\",\n  \"work\",\n  \"worry\",\n  \"wrap\",\n  \"wreck\",\n  \"wrestle\",\n  \"wriggle\",\n  \"x-ray\",\n  \"zoom\",\n];\n\n/**\n * Generate a random question using the array of verbs and nouns\n */\nconst shuffleQuestion = () => {\n  const randFromAr = (array: any[]) =>\n    array[Math.floor(Math.random() * array.length)];\n  const randomQuestion = () => {\n    return `Who's more likely to ${randFromAr(verbs)} a ${randFromAr(\n      objects\n    )}?`;\n  };\n\n  return randomQuestion();\n};\n\nexport default shuffleQuestion\n","/*\n * File: question-input.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Friday, 5th June 2020 11:13:02 am\n * Author: Ross MacDonald\n * ---------------\n * File Description: Component filling out questions in game\n * Last Modified: Friday, 5th June 2020 11:13:07 am\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport { Layout, Button, IconProps, Icon, Text } from \"@ui-kitten/components\";\nimport React, { useEffect } from \"react\";\nimport { Formik, FormikProps } from \"formik\";\nimport { QuestionSchema, QuestionInputData } from \"../data/question-input.model\";\nimport { FormInput } from \"./form-input.component\";\nimport { IInitialState, IPlayer } from \"../reducers/interfaces\";\nimport { gameActions } from \"../actions\";\nimport { connect } from \"react-redux\";\nimport { ButtonInput } from \"./form-button.component\";\nimport { View, KeyboardAvoidingView, Platform, Keyboard } from \"react-native\";\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\nimport { Question, RoundOptions } from \"@rossmacd/gamesock-client\";\nimport shuffleQuestion from \"../helpers/shuffle-question.helper\";\nimport { TouchableWithoutFeedback } from \"react-native-gesture-handler\";\n\n/**\n * Importing styles\n * @param theme path\n * @param Form Module name\n */\nconst styles = require(\"../themes\")(\"Game\");\n\n/**\n * Interface actions\n * for the component\n */\ninterface IActions {\n  setGameLoading: () => void;\n  inputQuestion: ({ question }: Question) => void;\n}\n\n/**\n * Interface Props\n * for the component\n */\ninterface IProps {\n  isLoading: boolean;\n  questionInput: string;\n  questions: Question[];\n  user: IPlayer;\n  roundOptions: RoundOptions;\n}\n\nconst QuesionInput = (props: IProps & IActions) => {\n\n  \n\n  const submit = (values: { questionInput: string }) => {\n    console.log(\"submitting!!!\");\n    props.setGameLoading();\n\n    const question: Question = {\n      playerId: props.user.id,\n      question: values.questionInput,\n    };\n\n    props.inputQuestion(question);\n  };\n\n  const renderShuffleIcon = (props: IconProps): React.ReactElement => (\n    <Icon {...props} name=\"shuffle-2-outline\" />\n  );\n\n  const { isLoading, questionInput, roundOptions, questions } = props;\n\n  const renderForm = (\n    props: FormikProps<QuestionInputData>\n  ): React.ReactFragment => {\n    \n    useEffect(() => {\n      if(!props.values.questionInput.match(/^Who's more likely.*$/)){\n        props.setValues({ questionInput: \"Who's more likely\" })\n      }\n    }, [props.values.questionInput]);\n\n    const loading = isLoading || props.isSubmitting;\n\n    if (isLoading === false && props.isSubmitting === true)\n      props.setSubmitting(false);\n    if (roundOptions.numQuestions <= questions.length)\n      return (\n        <Text style={styles.inputTitle}>Waiting for other players...</Text>\n      );\n    return (\n      <View style={styles.questionInputContainer}>\n        <Button\n          accessoryLeft={renderShuffleIcon}\n          onPress={() => {\n            props.setValues({ questionInput: shuffleQuestion() });\n          }}\n          status=\"info\"\n          disabled={loading}\n          style={styles.questionInputButton}\n        />\n        <FormInput\n          id=\"questionInput\"\n          style={styles.questionInput}\n          size=\"large\"\n          placeholder=\"Insert your question\"\n          value={props.values.questionInput}\n          onSubmitEditing={() => Platform.OS !== 'web' ? props.handleSubmit() : () => {}}\n          onKeyPress={({nativeEvent}) => {\n            if(nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n        <ButtonInput\n          icon=\"checkmark-outline\"\n          disabled={loading}\n          loading={loading}\n          text=\"\"\n          onPress={() => props.handleSubmit()}\n          status=\"success\"\n          style={styles.questionInputButton}\n        />\n      </View>\n    );\n  };\n\n  return (\n    <KeyboardAvoidingView \n      behavior={Platform.OS == \"ios\" ? \"padding\" : \"height\"}\n      style={styles.inputContainer}\n    >\n    <TouchableWithoutFeedback \n      onPress={Platform.OS !== 'web' ? Keyboard.dismiss : () => {}}\n    >\n      <Text style={{color: \"#D7D98B\"}}>\n        No. of your <Text style={{color: '#AD0D4B'}}>Questions</Text>: {props.questions.length} /{\" \"}\n        {props.roundOptions.numQuestions}\n      </Text>\n      <Formik\n        initialValues={{ questionInput: questionInput }}\n        validationSchema={QuestionSchema}\n        onSubmit={(values, actions) => {\n          submit(values);\n          actions.setValues({ questionInput: questionInput });\n        }}\n      >\n        {renderForm}\n      </Formik>\n      </TouchableWithoutFeedback>\n    </KeyboardAvoidingView>\n  );\n};\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): IProps => {\n  const {\n    isLoading,\n    questionInput,\n    questions,\n    user,\n    roundOptions\n  } = state.game;\n\n  return {\n    isLoading,\n    questionInput,\n    questions,\n    user,\n    roundOptions,\n  };\n};\n\nexport default connect<IProps, IActions, {}>(\n  mapStateToProps,\n  gameActions\n)(QuesionInput);\n","/*\n * File: game.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Friday, 5th June 2020 11:54:27 am\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: In game controller during a game\n * Last Modified: Friday, 5th June 2020 11:54:36 am\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React, { useEffect, useState } from \"react\";\nimport { Layout, Text } from \"@ui-kitten/components\";\nimport PickedPlayers from \"../../components/picked-players.component\";\nimport { IPlayer, IInitialState } from \"../../reducers/interfaces\";\nimport { connect } from \"react-redux\";\nimport QuestionInput from \"../../components/question-input.component\";\nimport { gameActions } from \"../../actions\";\nimport { GameScreenProps } from \"../../navigation/game.navigator\";\nimport { AppRoute } from \"../../navigation/app-routes\";\nimport {\n  onRequestQuestions,\n  Question,\n  RoundOptions,\n  HotseatOptions,\n} from \"@rossmacd/gamesock-client\";\nimport NotificationBar from '../../components/notification-bar.component';\nimport LoadingComponent from \"../../components/loading.component\";\nimport { ModalHeaderLobby } from \"../../components/modal-header-lobby.component\";\nimport {useKeepAwake} from 'expo-keep-awake';\nimport { ScrollView } from \"react-native-gesture-handler\";\n\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../../themes\")(\"Game\");\n\n/**\n * Interface for Actions being\n * passed to the game screen component\n */\ninterface IActions extends GameScreenProps {\n  setGameLoading: () => void;\n  leaveGame: () => void;\n  onNextQuestion: (time: number) => void;\n  answerQuestion: (\n    lobbyName: string,\n    questionIndex: number,\n    playerId: number,\n    roundNum: number\n  ) => void;\n  setPhase: (phase: string) => void;\n  endGame: () => void;\n}\n\n/**\n * Interface for props being\n * passed to to the game screen component\n */\ninterface IProps {\n  lobbyName: string;\n  phase: string;\n  currentQuestionId: number;\n  questions: Question[];\n  roundOptions: RoundOptions | undefined;\n  user: IPlayer;\n  canAnswer: boolean;\n  displayAnswer: boolean;\n  timer: number;\n  hotseatOptions: HotseatOptions | undefined;\n}\n\nconst GameScreen = (props: IProps & IActions) => {\n  const [serverHasQuestions, setServerHasQuestions] = useState<boolean>(false);\n  const [notEnoughQuestions, setNotEnoughQuestions] = useState<boolean>(false);\n  useKeepAwake();\n\n  useEffect(() => {\n    setNotEnoughQuestions((val) => false);\n\n    onRequestQuestions(() => {\n      console.log(\"requesting questions\");\n      setServerHasQuestions((oldBool) => {\n        return true;\n      });\n\n      const { questions } = props;\n\n      // if (questions.length < props.roundOptions!.numQuestions) {\n      //   setNotEnoughQuestions((val) => true);\n      //   for (\n      //     let i = props.roundOptions!.numQuestions - questions.length;\n      //     i--;\n\n      //   ) {\n      //     questions.push({\n      //       playerId: props.user.id,\n      //       question: shuffleQuestion(),\n      //     });\n      //   }\n      // }\n      return questions.map((question) => question.question);\n    });\n  });\n\n  // useEffect(() => {\n  //   console.log(\"use effect siadgnewi\", props.hotseatOptions);\n  //   if (props.questions && props.questions.length > 0) {\n  //     //@ts-ignore\n  //     props.onNextQuestion(props.hotseatOptions?.delayBetween);\n  //   }\n  // }, [props.canAnswer]);\n\n  const endGame = () => {\n    props.setGameLoading();\n    props.leaveGame();\n    props.navigation.navigate(AppRoute.HOME);\n  };\n\n  const answerQuestion = (questionIndex: number, playerId: number) => {\n    props.answerQuestion(\n      props.lobbyName,\n      questionIndex,\n      playerId,\n      props.roundOptions?.roundNum as number\n    );\n  };\n\n  const gamePhaseController = () => {\n    const userIsInHotseat = props.roundOptions?.hotseatPlayers.some(\n      (player) => player.id === props.user.id\n    );\n\n    switch (props.phase) {\n      case \"Question Gathering\":\n        return (\n          <React.Fragment>\n          <ScrollView style={{flex: 1}}>\n            {/* <Timer serverHasQuestions={serverHasQuestions} /> */}\n            <PickedPlayers\n              user={props.user}\n              players={props.roundOptions?.hotseatPlayers}\n            />\n          </ScrollView>\n            {notEnoughQuestions ? (\n              <Text style={styles.title}>\n                Can't think of questions? That's okay, we'll help you out!\n              </Text>\n            ) : (\n              <></>\n            )}\n\n            {!userIsInHotseat ? (\n              <QuestionInput />\n            ) : (\n              // Text for chosen players for when they're waiting for questions:\n              <Text style={styles.titleNotChosen}>\n                Waiting to \"destroy\" your friendship...\n              </Text>\n            )}\n          </React.Fragment>\n        );\n\n      case \"Display Answer\":\n        // return (\n        //   <React.Fragment>\n        //     <Text style={styles.questInAnsPhase}>{props.questions[props.currentQuestionId].question}</Text>\n\n        //     {props.questions[props.currentQuestionId].answers!.map(\n        //       (answer: number, i: number) => {\n        //         if (answer !== null)\n        //           return (\n        //             <Text key={i} style={[i === 0 ? styles.answerLeft : styles.answerRight]}>\n        //               {`${props.roundOptions?.hotseatPlayers[i].name} SELECTED ${answer === i ? \"THEMSELVES!\" : props.roundOptions?.hotseatPlayers[i === 0 ? 1 : 0].name}`}\n        //             </Text>\n        //           );\n\n        //         return (\n        //           // Text for when chosen players didn't choose a player:\n        //           <Text key={i} style={[styles.pleadTheFifth, i === 0 ? styles.pleadAlignLeft : styles.pleadAlignRight]}>\n        //             {`${props.roundOptions?.hotseatPlayers[i].name} pleaded the 5th`}\n        //           </Text>\n        //         );\n        //       }\n        //     )}\n        //   </React.Fragment>\n        // );\n      case \"Hotseat\":\n        return (\n          <PickedPlayers\n            user={props.user}\n            players={props.roundOptions?.hotseatPlayers}\n            question={props.questions[props.currentQuestionId]}\n            questionIndex={props.currentQuestionId}\n            answerQuestion={answerQuestion}\n            canAnswer={props.canAnswer}\n            displayAnswer={props.phase === \"Display Answer\"}\n          />\n        );\n\n      case \"Disconnected\":\n        return <Text>Disconnected </Text>;\n\n      default:\n        return <LoadingComponent />;\n    }\n  };\n\n  return (\n    <Layout style={styles.container}>\n      <ModalHeaderLobby\n        text={props.phase}\n        loadingText={props.phase}\n        lobbyCode={props.timer !== 0 ? `${props.timer}` : \"\"}\n        icon=\"close-outline\"\n        status=\"info\"\n        onPress={() => endGame()}\n      />\n      {gamePhaseController()}\n      <NotificationBar />\n    </Layout>\n  );\n};\n\n/**\n * Return a list of people from our redux state\n *\n * @param {*} state\n */\nconst mapStateToProps = (state: IInitialState): IProps => {\n  const {\n    timer,\n    user,\n    phase,\n    currentQuestionId,\n    questions,\n    roundOptions,\n    lobbyName,\n    canAnswer,\n    displayAnswer,\n    hotseatOptions,\n  } = state.game;\n\n  return {\n    timer,\n    user,\n    phase,\n    currentQuestionId,\n    questions,\n    roundOptions,\n    lobbyName,\n    canAnswer,\n    displayAnswer,\n    hotseatOptions,\n  };\n};\n\nexport default connect<IProps, IActions>(\n  mapStateToProps,\n  gameActions\n)(GameScreen);\n","import * as Yup from 'yup';\n\nexport class EditUserData {\n\n  constructor(\n    readonly username: string) {\n\n  }\n\n  static empty(): EditUserData {\n    return new EditUserData(\n      '',\n    );\n  }\n}\n\nexport const EditUserSchema = Yup.object().shape({\n  username: Yup.string().min(4, 'Username must be at least 4 characters').required('Username is required'),\n});\n\n","/*\n * File: join.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Wednesday, 3rd June 2020 2:52:35 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Joining a game\n * Last Modified: Wednesday, 3rd June 2020 3:14:57 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\nimport { View } from \"react-native\";\nimport { EditUserScreenProps } from \"../../navigation/game.navigator\";\nimport { Layout, Text } from \"@ui-kitten/components\";\nimport { gameActions } from \"../../actions\";\nimport { FormikProps, Formik } from \"formik\";\nimport { EditUserData, EditUserSchema } from \"../../data/edit-user.model\";\nimport { IInitialState, IPlayer } from \"../../reducers/interfaces\";\nimport { connect } from \"react-redux\";\nimport { FormInput } from \"../../components/form-input.component\";\nimport { ButtonInput } from \"../../components/form-button.component\";\nimport { ModalHeader } from \"../../components/modal-header.component\";\n\n\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../../themes\")(\"Form\");\n\n/**\n * Interface actions\n * for the component\n */\ninterface IEditActions extends EditUserScreenProps {\n  setGameLoading: () => void;\n  formUpdate: ({ prop, value }: any) => void;\n  updateSinglePlayer: (lobbyName: string, user: IPlayer) => void;\n}\ninterface IEditProps {\n  user: IPlayer;\n  error: string;\n  isLoading: boolean;\n  lobbyName: string;\n}\n\nconst EditUserScreen = (props: IEditActions & IEditProps) => {\n  const [waitForRediect, setWaitForRedirect] = React.useState<boolean>(false)\n  const { error, isLoading } = props;\n  /**\n * If the inputs pass validation,\n * submit the request to the server\n */\n  const submit = (values: any) => {\n    props.setGameLoading();\n    // setWaitForRedirect(true)\n\n    const { lobbyName } = props\n    let { user } = props\n    const { username } = values;\n\n    user.name = username\n\n    console.log('sending update!', {lobbyName, user})\n\n    props.updateSinglePlayer(lobbyName, user)\n    setWaitForRedirect(true)\n  };\n\n  const renderForm = (props: FormikProps<EditUserData>): React.ReactFragment => {\n    const loading = isLoading || props.isSubmitting;\n\n    // if (isLoading === false && props.isSubmitting === true) props.setSubmitting(false)\n    return (\n      <React.Fragment>\n        <FormInput\n          id=\"username\"\n          style={styles.formControl}\n          size='large'\n          value={props.values.username}\n          placeholder=\"Enter a Username\"\n          onKeyPress={({ nativeEvent }) => {\n            if (nativeEvent.key === 'Enter') props.handleSubmit()\n          }}\n        />\n\n        {error !== \"\" && <Text>{error}</Text>}\n\n        <ButtonInput\n          style={styles.submitButton}\n          disabled={!props.isValid && !props.isValidating}\n          onPress={() => {\n            props.handleSubmit()}\n          }\n          loading={loading}\n          text=\"SAVE\"\n        />\n      </React.Fragment>\n    );\n  };\n\n  if (!props.isLoading && waitForRediect) props.navigation.goBack()\n  return (\n    <Layout style={styles.formContainer}>\n      <ModalHeader\n        text=\"\"\n        icon=\"close-outline\"\n        status=\"primary\"\n        onPress={() => props.navigation.goBack()}\n      />\n\n      <View style={styles.formContainer}>\n        <Formik\n          initialValues={{ username: props.user.name }}\n          validationSchema={EditUserSchema}\n          onSubmit={(values) => submit(values)}\n        >\n\n          {renderForm}\n        </Formik>\n      </View>\n    </Layout>\n  )\n}\n\nconst mapStateToProps = (state: IInitialState): IEditProps => {\n  const { error, isLoading, user, lobbyName } = state.game;\n\n  return {\n    error,\n    isLoading,\n    user,\n    lobbyName\n  };\n};\n\nexport default connect<IEditProps, IEditActions, {}>(\n  mapStateToProps,\n  gameActions\n)(EditUserScreen);","/**\n * Import modules which can be accessed\n */\nimport HostScreen from './host.component'\nimport JoinScreen from './join.component'\nimport LobbyScreen from './lobby.component'\nimport GameScreen from './game.component'\nimport EditUserScreen from './edit.component'\n\n/**\n * Export these modules to the rest of the application\n */\nexport default {\n    HostScreen,\n    JoinScreen,\n    LobbyScreen,\n    GameScreen,\n    EditUserScreen\n}\n","import React from \"react\";\nimport { RouteProp } from \"@react-navigation/core\";\nimport {\n  createStackNavigator,\n  StackNavigationProp,\n} from \"@react-navigation/stack\";\nimport { AppRoute } from \"./app-routes\";\nimport { AppNavigatorParams } from \"./app.navigator\";\nimport auth from \"../scenes/auth\";\nimport { connect } from \"react-redux\";\nimport { IInitialState } from \"../reducers/interfaces\";\nimport game from \"../scenes/game\";\nimport * as actions from \"../actions/game\";\n\ntype AuthNavigatorParams = AppNavigatorParams & {\n  [AppRoute.SIGN_IN]: undefined;\n  [AppRoute.SIGN_UP]: undefined;\n  [AppRoute.SIGN_OUT]: undefined;\n  [AppRoute.HOST]: undefined;\n};\n\nexport interface SignInScreenProps {\n  navigation: StackNavigationProp<AuthNavigatorParams, AppRoute.SIGN_IN>;\n  route: RouteProp<AuthNavigatorParams, AppRoute.SIGN_IN>;\n}\n\nexport interface RegisterScreenProps {\n  navigation: StackNavigationProp<AuthNavigatorParams, AppRoute.SIGN_UP>;\n  route: RouteProp<AuthNavigatorParams, AppRoute.SIGN_UP>;\n}\n\nexport interface SignoutScreenScreenProps {\n  navigation: StackNavigationProp<AuthNavigatorParams, AppRoute.SIGN_OUT>;\n  route: RouteProp<AuthNavigatorParams, AppRoute.SIGN_OUT>;\n}\n\ninterface IGameActions {\n  initGameSock: () => void;\n}\n\nexport interface IAuthProps {\n  token: string;\n  init: boolean;\n}\n\nconst Stack = createStackNavigator<AuthNavigatorParams>();\n\nconst Auth = (props: IAuthProps & IGameActions): React.ReactElement => {\n  if (!props.init) props.initGameSock();\n  return (\n    <Stack.Navigator\n      headerMode=\"none\"\n      screenOptions={{ animationEnabled: true }}\n    >\n      {!props.token || props.token == \"\" ? (\n        <>\n          <Stack.Screen name={AppRoute.SIGN_IN} component={auth.SignInScreen} />\n          <Stack.Screen\n            name={AppRoute.SIGN_UP}\n            component={auth.RegisterScreen}\n          />\n        </>\n      ) : (\n        <>\n          <Stack.Screen name={AppRoute.HOST} component={game.LobbyScreen} />\n        </>\n      )}\n    </Stack.Navigator>\n  );\n};\n\nconst mapStateToProps = (state: IInitialState): IAuthProps => {\n  const { token } = state.auth;\n  const { init } = state.game;\n\n  return { token, init };\n};\n\nconst AuthNavigator = connect(mapStateToProps, actions)(Auth);\n\nexport { AuthNavigator };\n","/*\n * File: Home.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Monday, 11th May 2020 11:36:00 am\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: A simple static page to demonstrate some features of react native\n * Last Modified: Saturday, 16th May 2020 8:57:16 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React, { useEffect, useState, Dispatch } from 'react';\nimport { View } from 'react-native';\nimport { Button, Layout, Text, Icon, IconProps } from '@ui-kitten/components';\nimport { AppRoute } from '../../navigation/app-routes';\nimport { IInitialState } from '../../reducers/interfaces';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport { HomeScreenProps } from '../../navigation/main.navigator';\nimport { IHostGame, IRejoinGame } from '../../actions/game';\nimport SignoutScreen from '../auth/sign-out.component';\nimport Constants from 'expo-constants';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { Player } from '@rossmacd/gamesock-client';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { bindActionCreators } from 'redux';\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require('../../themes')('App');\n\nconst baseUrl = Constants.manifest.extra.SERVER_URL || 'http://192.168.0.164:3000';\n\ninterface IActions extends HomeScreenProps {\n  hostGameAction: (body: IHostGame) => void;\n  autoRejoinLobby:(body:IRejoinGame)=>Promise<Player[]>;\n  getUser: (token: string) => void;\n}\n\ninterface IProps {\n  name: string;\n  token: string;\n  isHost: boolean;\n}\n\n/**\n * Rendering the view\n */\nconst Home = (props: IProps & IActions) => {\n  const [canRejoin, setCanRejoin] = useState<boolean>(false);\n  const [rejoinInfo,setRejoinInfo]=useState<IRejoinGame>({id:'',lobbyName:''})\n  \n  useEffect(() => {\n    // Check if a previous game is in localstorage\n    AsyncStorage.getItem('myId')\n    .then(unparsedID=>{\n      if (unparsedID) {\n        // Parse the object\n        const parsedOldID = JSON.parse(unparsedID)\n        if (parsedOldID && parsedOldID.expiry && parsedOldID.expiry > Date.now()) {\n          fetch(`${baseUrl}/api/gameActive`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              Accept: 'application/json',\n            },\n            body: JSON.stringify({\n              id: parsedOldID.id,\n              lobbyName: parsedOldID.lobby,\n            }),\n          }).then((res) => {\n            console.log('FETCH:RES', res);\n            if (res.ok) {\n              res.json().then((data) => {\n                if (data && data.active) {\n                  console.log('Shes sound let her go', data.active);\n                  setRejoinInfo({id:parsedOldID,lobbyName:parsedOldID.lobby})\n                  setCanRejoin(true);\n                }\n              });\n            }\n          });\n        }\n      }\n    }).catch(err => {\n      console.log('async storage error!', err)\n    })\n\n    AsyncStorage.getItem('seenRules')\n    .then(bool => {\n      if(!bool || bool !== 'true') {\n        AsyncStorage.setItem('seenRules', 'true')\n        .catch(err => console.log('error setting seen rules', err))\n        props.navigation.navigate(AppRoute.RULES)\n      }\n    }).catch(err => console.log('error checking rules', err))\n\n    AsyncStorage.getItem('token')\n      .then(token => {\n        if(token && token !== \"\") {\n          props.getUser(token)\n        }\n      }).catch(err => console.log('error getting token', err))\n  }, []);\n  /**\n   * If the user is logged in, start a new game as a host\n   *\n   * if not redirect them to auth\n   */\n  const hostOrLogin = () => {\n    if (props.token && props.token !== '') {\n      props.hostGameAction({ username: props.name, token: props.token });\n      props.navigation.navigate(AppRoute.GAME);\n    } else props.navigation.navigate(AppRoute.AUTH);\n  };\n\n  const settingsIcon = (props: IconProps) => <Icon {...props} name=\"settings-2-outline\" />;\n  const questionIcon = (props: IconProps) => <Icon {...props} name=\"question-mark-outline\" />;\n\n  const renderSignoutAndCogContainer = () => {\n    if (props.token && props.token !== '')\n      return (\n        <View style={styles.signOutAndCogContainer}>\n          <SignoutScreen />\n          <Button style={styles.settingsCog} onPress={() => props.navigation.navigate(AppRoute.DEVINFO)} appearance='ghost' accessoryRight={settingsIcon}></Button>\n          <Button style={styles.settingsCog} onPress={() => props.navigation.navigate(AppRoute.RULES)} status=\"info\" accessoryRight={questionIcon}></Button>\n        </View>\n      );\n\n    return (\n      <View style={styles.signOutAndCogContainer}>\n        <Button style={styles.settingsCog} onPress={() => props.navigation.navigate(AppRoute.DEVINFO)} appearance='ghost' accessoryRight={settingsIcon}></Button>\n        <Button style={styles.settingsCog} onPress={() => props.navigation.navigate(AppRoute.RULES)} status=\"info\" accessoryRight={questionIcon}></Button>\n      </View>\n    );\n  };\n\n  const renderRejoin = () => {\n    if (canRejoin) {\n      console.log(canRejoin)\n      //Show the rejoin button\n      return (\n        <Button style={styles.formButtonAlternate} onPress={() => {\n            props.autoRejoinLobby(rejoinInfo).then(()=>{\n            //TODO make this conditional\n            props.navigation.navigate(AppRoute.GAME)\n          }).catch(e=>{\n            console.log(e)\n            setCanRejoin(false)\n          })\n        }}>\n          {'REJOIN GAME '+rejoinInfo.lobbyName}\n        </Button>\n      );\n    }\n\n    return <></>\n  };\n\n\n\n\n\n  return (\n    <Layout style={styles.container}>\n      {renderSignoutAndCogContainer()}\n      <Text style={styles.title}>WHO IS</Text>\n      <Text style={styles.titleRed}>MORE LIKELY</Text>\n      <Text style={styles.title}>TO</Text>\n\n      <View>\n        {/* {renderRejoin()} */}\n        <Button style={styles.formButton} onPress={() => hostOrLogin()}>\n          HOST\n        </Button>\n\n        <Button style={styles.formButton} onPress={() => props.navigation.navigate(AppRoute.GAME)}>\n          JOIN\n        </Button>\n      </View>\n    </Layout>\n  );\n};\n\nconst mapStateToProps = (state: IInitialState): IProps => {\n  const { token, name } = state.auth;\n  const { isHost } = state.game;\n\n  return { token, name, isHost };\n};\n\nfunction mapDispatchToProps(dispatch: any): any {\n  const {hostGameAction, autoRejoinLobby} = actions.gameActions\n  const {getUser} = actions.authActions\n\n  return {\n    hostGameAction: bindActionCreators(hostGameAction, dispatch),\n    autoRejoinLobby: bindActionCreators(autoRejoinLobby, dispatch),\n    getUser: bindActionCreators(getUser, dispatch)\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","/*\n * File: devinfo.component.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Saturday, 6th June 2020 9:13:05 pm\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Displaying info for developers\n * Last Modified: Saturday, 6th June 2020 9:13:09 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\nimport {\n  Layout,\n  List,\n  ListItem,\n  IconProps,\n  Icon,\n} from \"@ui-kitten/components\";\nimport Constants from \"expo-constants\";\nimport { Platform } from \"react-native\";\nimport { ModalHeader } from \"../../components/modal-header.component\";\nimport { AppRoute } from \"../../navigation/app-routes\";\nimport { DevInfoScreenProps } from \"../../navigation/main.navigator\";\n\n/**\n * Importing styles\n * @param theme path\n * @param App Module name\n */\nconst styles = require(\"../../themes\")(\"Game\");\n\nconst data = [\n  { field: \"Server URL\", value: Constants.manifest.extra.SERVER_URL },\n  { field: \"Build Mode\", value: __DEV__ ? \"Development\" : \"Production\" },\n  { field: \"Version\", value: Constants.manifest.version },\n  { field: \"Platform\", value: Platform.OS },\n];\n\nconst DevInfoScreen = (props: DevInfoScreenProps) => {\n  const renderItemIcon = (props: IconProps) => (\n    <Icon {...props} name=\"settings-2-outline\" />\n  );\n\n  const renderData = ({ item }: any) => (\n    <ListItem\n      title={`${item.field}: ${item.value}`}\n      accessoryLeft={renderItemIcon}\n    />\n  );\n\n  return (\n    <Layout style={styles.container}>\n      <ModalHeader\n        text=\"Developer Information\"\n        icon=\"close-outline\"\n        status=\"info\"\n        onPress={() => props.navigation.navigate(AppRoute.HOME)}\n      />\n      <List style={styles.listContainer} data={data} renderItem={renderData} />\n    </Layout>\n  );\n};\n\nexport default DevInfoScreen;\n","import React, { useState } from 'react';\nimport { ViewPager, Layout, Text, Button } from '@ui-kitten/components';\nimport Constants from 'expo-constants';\nimport { Image } from 'react-native'\nimport { ModalHeader } from '../../components/modal-header.component';\nimport { AppRoute } from '../../navigation/app-routes';\nimport { RulesScreenProps } from '../../navigation/main.navigator';\n\n/**\n * Importing styles\n * @param theme path\n * @param Rules Module name\n */\nconst styles = require('../../themes')('Rules');\n\nconst contentArr = [\n    {\n        imgSrc: require('../../../assets/Extra.png'),\n        title: 'WELCOME TO SHCOOP',\n        description: 'A \"not a drinking game\" game where you and your mates can be put up against each other to a \"Who is more likely to...\" deathmatch! Fun right? So, here are the rules...'\n    },\n    {\n        imgSrc: require('../../../assets/Hosting.png'),\n        title: 'HOSTING',\n        description: 'To host, either sign in via Google/Apple or sign up with us then login with your custom account. Once signed in, you will be shcooped into your own lobby with a code to send to your friends. The more the merrier! (By the way, only you, as the host, can start the game). '\n    },\n    {\n        imgSrc: require('../../../assets/Joining1.png'),\n        title: 'JOINING',\n        description: 'Simple. Enter the lobby code and your own username (can literally be anything) and hit join.'\n    },\n    {\n        imgSrc: require('../../../assets/ChosenorNotChosen.png'),\n        title: 'IN-GAME: CHOSEN',\n        description: 'So you got chosen? Poor bastard. Here is what you do: The non-chosen players will make up questions for you chosen players and once the time is up, you answer those questions by either tapping/clicking your avatar or your opponents.'\n    },\n    {\n        imgSrc: require('../../../assets/Hosting1.png'),\n        title: 'IN-GAME: NOT CHOSEN',\n        description: 'Ah yes, the lucky one. Your job is to make questions for the chosen players within a time limit. Cannot think of any? Do not worry, boo boo, we got you! Hit the randomise button on the bottom left, let us make the question for you. Questions good? Let em have it!'\n    },\n]\n\nconst Rules = (props: RulesScreenProps) => {\n    const [selectedIndex, setSelectedIndex] = React.useState(0);\n\n    const navigate = (i: number) => {\n        if (i >= contentArr.length - 1) return props.navigation.navigate(AppRoute.HOME)\n\n        setSelectedIndex(selectedIndex + 1)\n    }\n\n    return (\n        <ViewPager\n            style={styles.rulesContainer}\n            selectedIndex={selectedIndex}\n            onSelect={index => setSelectedIndex(index)}\n        >\n            {contentArr.map((page, i) => {\n                return (\n                    <Layout\n                        key={i}\n                        style={styles.tab}\n                        level='2'\n                    >\n                        <Text category='h1' style={styles.ruleHeading}>{page.title}</Text>\n                        <Text style={styles.ruleDescription}>{page.description}</Text>\n                        <Image resizeMode={'contain'} style={styles.rulesImage} source={page.imgSrc} />\n                        <Button status=\"success\" style={styles.rulesBtn} onPress={() => navigate(selectedIndex)}>{selectedIndex >= contentArr.length - 1 ? 'YEEHAW TIME' : 'NEXT'}</Button>\n                    </Layout>\n                )\n            })}\n\n        </ViewPager>\n    )\n}\n\nexport default Rules","/**\n * Import modules which can be accessed\n */\nimport Home from './home.component'\nimport DevInfoScreen from './devinfo.component'\nimport RulesScreen from './rules.component'\n\n/**\n * Export these modules to the rest of the application\n */\nexport default {\n    Home,\n    DevInfoScreen,\n    RulesScreen\n}\n","import React from 'react';\nimport { RouteProp } from '@react-navigation/core';\nimport { createStackNavigator, StackNavigationProp } from '@react-navigation/stack';\nimport { AppRoute } from './app-routes';\nimport { AppNavigatorParams } from './app.navigator';\nimport main from '../scenes/main';\n\ntype MainNavigatorParams = AppNavigatorParams & {\n  [AppRoute.HOME]: undefined;\n  [AppRoute.DEVINFO]: undefined;\n  [AppRoute.RULES]: undefined;\n}\n\nexport interface HomeScreenProps {\n  navigation: StackNavigationProp<MainNavigatorParams, AppRoute.HOME>;\n  route: RouteProp<MainNavigatorParams, AppRoute.HOME>;\n}\n\nexport interface DevInfoScreenProps {\n  navigation: StackNavigationProp<MainNavigatorParams, AppRoute.DEVINFO>;\n  route: RouteProp<MainNavigatorParams, AppRoute.DEVINFO>;\n}\n\nexport interface RulesScreenProps {\n  navigation: StackNavigationProp<MainNavigatorParams, AppRoute.RULES>;\n  route: RouteProp<MainNavigatorParams, AppRoute.RULES>;\n}\n\nconst Stack = createStackNavigator<MainNavigatorParams>();\n\nexport const MainNavigator = (props: MainNavigatorParams): React.ReactElement => (\n  <Stack.Navigator {...props} mode=\"modal\" headerMode='none' screenOptions={{animationEnabled: true}}>\n    <Stack.Screen name={AppRoute.HOME} component={main.Home}/>\n    <Stack.Screen name={AppRoute.DEVINFO} component={main.DevInfoScreen}/>\n    <Stack.Screen name={AppRoute.RULES} component={main.RulesScreen}/>\n  </Stack.Navigator>\n);\n","import React from 'react';\nimport { RouteProp } from '@react-navigation/core';\nimport { createStackNavigator, StackNavigationProp } from '@react-navigation/stack';\nimport { AppRoute } from './app-routes';\nimport { AppNavigatorParams } from './app.navigator';\nimport game from '../scenes/game'\nimport { IInitialState } from '../reducers/interfaces';\nimport { connect } from 'react-redux';\nimport * as actions from \"../actions/game\";\n\ntype GameNavigatorParams = AppNavigatorParams & {\n  [AppRoute.HOST]: undefined;\n  [AppRoute.JOIN]: undefined;\n  [AppRoute.LOBBY]: undefined;\n  [AppRoute.INGAME]: undefined;\n  [AppRoute.EDIT_USER]: undefined;\n}\n\nexport interface HostGameScreenProps {\n  navigation: StackNavigationProp<GameNavigatorParams, AppRoute.HOST>;\n  route: RouteProp<GameNavigatorParams, AppRoute.HOST>;\n}\n\nexport interface JoinGameScreenProps {\n    navigation: StackNavigationProp<GameNavigatorParams, AppRoute.JOIN>;\n    route: RouteProp<GameNavigatorParams, AppRoute.JOIN>;\n}\n\nexport interface LobbyScreenProps {\n  navigation: StackNavigationProp<GameNavigatorParams, AppRoute.LOBBY>;\n  route: RouteProp<GameNavigatorParams, AppRoute.LOBBY>;\n}\n\nexport interface EditUserScreenProps {\n  navigation: StackNavigationProp<GameNavigatorParams, AppRoute.EDIT_USER>;\n  route: RouteProp<GameNavigatorParams, AppRoute.EDIT_USER>;\n}\n\nexport interface GameScreenProps {\n  navigation: StackNavigationProp<GameNavigatorParams, AppRoute.INGAME>;\n  route: RouteProp<GameNavigatorParams, AppRoute.INGAME>;\n}\n\nconst Stack = createStackNavigator<GameNavigatorParams>();\n\ninterface IGameActions extends GameNavigatorParams {\n  initGameSock: () => void;\n}\n\ninterface IGameProps {\n  inLobby: boolean;\n  inGame: boolean;\n  init: boolean;\n}\n\nexport const Game = (props: IGameProps & IGameActions): React.ReactElement => {\n  if(!props.init) props.initGameSock()\n  return (\n  <Stack.Navigator {...props} headerMode='none' screenOptions={{animationEnabled: true}}>\n    {\n      !props.inLobby\n      ? (\n        <Stack.Screen name={AppRoute.JOIN} component={game.JoinScreen}/>\n      )\n      : (\n        !props.inGame\n        ? (\n          <React.Fragment>\n            <Stack.Screen name={AppRoute.LOBBY} component={game.LobbyScreen}/>\n            <Stack.Screen name={AppRoute.EDIT_USER} component={game.EditUserScreen}/>\n          </React.Fragment>)\n        : <Stack.Screen name={AppRoute.INGAME} component={game.GameScreen}/>\n      )\n    }\n  </Stack.Navigator>\n  )\n}\n\nconst mapStateToProps = (state: IInitialState): IGameProps => {\n  const { inLobby, inGame, init } = state.game;\n\n  return { inLobby, inGame, init };\n};\n\nconst GameNavigator = connect(mapStateToProps, actions)(Game);\n\nexport { GameNavigator };\n","import React from 'react';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { AuthNavigator } from './auth.navigator';\nimport { MainNavigator } from './main.navigator';\nimport { AppRoute } from './app-routes';\nimport { GameNavigator } from './game.navigator';\n\ntype StackNavigatorProps = React.ComponentProps<typeof Stack.Navigator>;\n\nexport type AppNavigatorParams = {\n  [AppRoute.AUTH]: undefined;\n  [AppRoute.HOME]: undefined;\n  [AppRoute.GAME]: undefined;\n}\n\nconst Stack = createStackNavigator<AppNavigatorParams>();\n\nexport const AppNavigator = (props: Partial<StackNavigatorProps>): React.ReactElement => (\n  <Stack.Navigator {...props} mode=\"modal\" headerMode='none' screenOptions={{animationEnabled: true}}>\n    <Stack.Screen name={AppRoute.HOME} component={MainNavigator}/>\n    <Stack.Screen name={AppRoute.AUTH} component={AuthNavigator}/>\n    <Stack.Screen name={AppRoute.GAME} component={GameNavigator}/>\n  </Stack.Navigator>\n);\n","/*\n * File: App.tsx\n * Project: frontend\n * Version: 1.0.0\n * File Created: Saturday, 26th October 1985 9:15:00 am\n * Author: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * File Description: Primary entrypoint for the application\n * Last Modified: Saturday, 16th May 2020 9:00:50 pm\n * Modified By: Eoan O'Dea - eoan@wspace.ie\n * ---------------\n * Copyright 2020 - WebSpace\n */\n\nimport React from \"react\";\n\n/**\n * Redux dependencies\n */\nimport thunk from \"redux-thunk\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reducers from \"./src/reducers\";\n\n/**\n * Navigation dependencies & modules\n */\nimport { NavigationContainer } from '@react-navigation/native';\nimport { AppNavigator } from \"./src/navigation/app.navigator\";\n\n/**\n * UI & Component Library dependencies\n */\nimport { ApplicationProvider, IconRegistry } from '@ui-kitten/components';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\nimport { EvaIconsPack } from '@ui-kitten/eva-icons';\nimport * as eva from '@eva-design/eva';\n\n/**\n * Custom UI Component theming\n */\nimport { default as theme } from './src/assets/custom-theme.json';\n\n/**\n * Initialise redux store\n * Along with the redux dev tools\n */\nconst store = createStore(\n  reducers,\n  compose(\n    //@ts-ignore\n    applyMiddleware(thunk), window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : (f) => f\n  )\n);\n\n/**\n * Entry point for the application\n */\nexport default function App() {\n  return (\n    <Provider store={store}>\n      <IconRegistry icons={EvaIconsPack} />\n      <ApplicationProvider {...eva} theme={{...eva.dark, ...theme}}>\n          <SafeAreaProvider>\n            <NavigationContainer>\n              <AppNavigator />\n            </NavigationContainer>\n          </SafeAreaProvider>\n      </ApplicationProvider>\n    </Provider>\n  );\n}\n\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","var map = {\n\t\"./\": 33,\n\t\"./index\": 33,\n\t\"./index.ts\": 33,\n\t\"./light\": 160,\n\t\"./light/\": 160,\n\t\"./light/App\": 172,\n\t\"./light/App.ts\": 172,\n\t\"./light/Form\": 173,\n\t\"./light/Form.ts\": 173,\n\t\"./light/Game\": 174,\n\t\"./light/Game.ts\": 174,\n\t\"./light/Header\": 175,\n\t\"./light/Header.ts\": 175,\n\t\"./light/Notification\": 176,\n\t\"./light/Notification.ts\": 176,\n\t\"./light/Rules\": 177,\n\t\"./light/Rules.ts\": 177,\n\t\"./light/index\": 160,\n\t\"./light/index.ts\": 160\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 493;","module.exports = __webpack_public_path__ + \"static/media/Extra.6b5f0cb8.png\";","module.exports = __webpack_public_path__ + \"static/media/Hosting.02713dfd.png\";","module.exports = __webpack_public_path__ + \"static/media/Joining1.15008588.png\";","module.exports = __webpack_public_path__ + \"static/media/ChosenorNotChosen.f77fd1fc.png\";","module.exports = __webpack_public_path__ + \"static/media/Hosting1.dd0c4ffc.png\";"],"sourceRoot":""}