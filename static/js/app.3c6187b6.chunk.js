(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{169:function(e,t,n){"use strict";n.r(t);var r=n(179),a=n(180),o=n(181),i=n(182),s=n(183),l=n(184);t.default={App:r.default,Form:a.default,Game:o.default,Header:i.default,Notification:s.default,Rules:l.default}},179:function(e,t,n){"use strict";n.r(t);var r=n(12);t.default=r.a.create({tab:{flex:1,justifyContent:"center",backgroundColor:"#D14688"},rulesContainer:{flex:1,justifyContent:"center",textAlign:"center",backgroundColor:"#D14688"},container:{flex:1,paddingVertical:16,paddingHorizontal:16,alignItems:"center",justifyContent:"center",backgroundColor:"#161F26"},scrollContainer:{paddingVertical:50,width:"100%"},scrollChildContainer:{flexGrow:1,justifyContent:"center",paddingBottom:50},title:{zIndex:20,color:"#D7D98B",fontSize:45,fontWeight:"400",textAlign:"center"},titleRed:{zIndex:20,paddingBottom:8,color:"#AD0D4B",fontSize:45,fontWeight:"900",textAlign:"center"},subTitle:{textAlign:"center"},itemContainer:{display:"flex",justifyContent:"center",alignItems:"center"},formButton:{marginVertical:10,paddingVertical:50,backgroundColor:"#AD0D4B",borderWidth:0,shadowColor:"black",shadowOpacity:.5,shadowRadius:5,shadowOffset:{width:2,height:2},borderRadius:5},formButtonAlternate:{marginVertical:10,paddingVertical:50,borderWidth:0,shadowColor:"black",shadowOpacity:.5,shadowRadius:5,shadowOffset:{width:2,height:2},borderRadius:5,backgroundColor:"#00B0FF"},signOutAndCogContainer:{position:"absolute",top:"-1%",width:"100%",margin:"auto",display:"flex",flexDirection:"row",justifyContent:"space-between"},signOutBtn:{backgroundColor:"#AD0D4B",borderWidth:0}})},180:function(e,t,n){"use strict";n.r(t);var r=n(12);t.default=r.a.create({formContainer:{flex:1,paddingVertical:16,paddingHorizontal:16,backgroundColor:"#AD0D4B",position:"relative"},scrollContainer:{marginBottom:50},formContainerReg:{flex:1,paddingVertical:16,paddingHorizontal:16,backgroundColor:"#D14688",position:"relative"},homeBtn:{flexDirection:"row",justifyContent:"flex-end"},resetPasswordContainer:{flexDirection:"row",justifyContent:"flex-end"},formControl:{marginVertical:4,backgroundColor:"#7B0D37",borderColor:"#ffffff00",fontSize:16},formControlReg:{marginVertical:4,backgroundColor:"#AB2364",borderColor:"#ffffff00",fontSize:16},submitButton:{marginVertical:24,paddingVertical:20,backgroundColor:"#00B0FF",borderWidth:0,shadowColor:"black",shadowOpacity:.5,shadowRadius:5,shadowOffset:{width:2,height:2},borderRadius:5},noAccountButton:{marginVertical:10,paddingVertical:20,backgroundColor:"#D14688",borderWidth:0,shadowColor:"black",shadowOpacity:.5,shadowRadius:5,shadowOffset:{width:2,height:2},borderRadius:5},haveAccountButton:{marginVertical:10,paddingVertical:20,backgroundColor:"#AD0D4B",borderWidth:0,shadowColor:"black",shadowOpacity:.5,shadowRadius:5,shadowOffset:{width:2,height:2},borderRadius:5},thirdPartyButtonContainer:{alignItems:"center",paddingVertical:20,borderWidth:0,shadowColor:"black",shadowOpacity:.5,shadowRadius:5,shadowOffset:{width:2,height:2},borderRadius:5},formButton:{marginVertical:12},customHrTag:{borderWidth:.5,borderColor:"#D14688",marginTop:25,marginBottom:50},customHrTagReg:{borderWidth:.5,borderColor:"#AD0D4B",marginTop:25,marginBottom:35}})},181:function(e,t,n){"use strict";n.r(t);var r=n(12);t.default=r.a.create({container:{flex:1,justifyContent:"space-between",paddingTop:16,backgroundColor:"#161F26",position:"relative"},gameTabContainer:{flexGrow:1,alignItems:"stretch"},gameLoadingSpinner:{flex:1,justifyContent:"center",alignItems:"center"},loadingSpinner:{marginVertical:20},listContainer:{paddingHorizontal:16,flex:1,backgroundColor:"#161F26",zIndex:0},listItem:{paddingVertical:20,fontSize:30,backgroundColor:"#161F26"},playerAvatar:{paddingVertical:8,borderRadius:1e3,justifyContent:"center",alignItems:"center",width:50,height:50,textAlign:"center",color:"#fff"},submitButton:{height:120,alignSelf:"stretch",borderTopStartRadius:25,borderTopEndRadius:25,borderRadius:.01,borderColor:"#ffffff00",zIndex:10,bottom:0,left:0,width:"100%"},submitButtonJoined:{alignSelf:"flex-end",position:"absolute",bottom:"10%",borderTopStartRadius:.001,borderBottomStartRadius:.001,borderRadius:.001,borderColor:"#ffffff00"},title:{paddingHorizontal:16,fontSize:28,fontWeight:"300",textAlign:"center",marginBottom:20},titleChosenYellow:{fontSize:36,fontWeight:"300",textAlign:"center",marginBottom:20,color:"#D7D98B"},titleChosenRed:{fontSize:36,fontWeight:"300",textAlign:"center",marginBottom:20,color:"#AD0D4B"},answerLeft:{position:"absolute",left:0,top:"20%",alignItems:"flex-start",justifyContent:"flex-start",fontSize:18,fontWeight:"300",textAlign:"left",marginVertical:30,alignSelf:"flex-start",padding:10,borderTopEndRadius:.001,borderBottomEndRadius:.001,borderRadius:.001,backgroundColor:"#AD0D4B",borderColor:"#ffffff00"},answerRight:{position:"absolute",right:0,top:"40%",alignItems:"flex-end",justifyContent:"flex-end",fontSize:18,fontWeight:"300",textAlign:"right",marginVertical:30,alignSelf:"flex-end",padding:10,borderTopStartRadius:.001,borderBottomStartRadius:.001,borderRadius:.001,backgroundColor:"#9F37DE",borderColor:"#ffffff00"},pleadTheFifth:{fontSize:24,fontWeight:"300",alignItems:"center",justifyContent:"center",position:"relative",marginVertical:30},pleadAlignLeft:{position:"absolute",left:0,top:"0%",alignSelf:"flex-start",padding:10,borderTopEndRadius:.001,borderBottomEndRadius:.001,borderRadius:.001,backgroundColor:"#AD0D4B",borderColor:"#ffffff00"},pleadAlignRight:{position:"absolute",right:0,bottom:"10%",alignSelf:"flex-end",padding:10,textAlign:"right",borderTopStartRadius:.001,borderBottomStartRadius:.001,borderRadius:.001,backgroundColor:"#9F37DE",borderColor:"#ffffff00"},question:{fontSize:28,fontWeight:"300",textAlign:"center",marginBottom:30},questInAnsPhase:{paddingHorizontal:16,paddingTop:110,fontSize:28,fontWeight:"300",textAlign:"center",marginBottom:30},pickedPlayerContainer:{flex:1,justifyContent:"space-between",position:"relative"},pickedPlayerRowContainer:{flex:1,flexDirection:"row",justifyContent:"space-between",borderRadius:.01},pickedPlayer:{width:"48%"},pickedPlayerCard:{alignItems:"center",minHeight:250,justifyContent:"center"},pickedPlayerCardDisabled:{color:"#ffffff80",alignItems:"center",minHeight:250,justifyContent:"center"},cardPink:{backgroundColor:"#AD0D4B"},cardPinkAnswer:{backgroundColor:"#ad0d4b80"},cardPurpleAnswer:{backgroundColor:"#9f37de80"},cardPurple:{backgroundColor:"#9F37DE"},belowCardText:{marginVertical:10,paddingHorizontal:16},alignLeft:{color:"#AD0D4B"},alignRight:{color:"#9F37DE",textAlign:"right"},titleNotChosen:{fontSize:18,textAlign:"center",fontWeight:"300",marginVertical:30,color:"#D7D98B"},inputTitle:{marginVertical:10},inputContainer:{padding:10,textAlign:"center",backgroundColor:"#161f26",borderTopLeftRadius:5,borderTopRightRadius:5,bottom:0,left:0,width:"100%"},questionInputContainer:{padding:10,flexDirection:"row",backgroundColor:"#ffffff00"},questionInput:{flex:2,height:"100%",overflow:"hidden",backgroundColor:"#7B0D37",borderColor:"#ffffff00"},questionInputButton:{borderRadius:50,marginHorizontal:10,height:50,width:50}})},182:function(e,t,n){"use strict";n.r(t);var r=n(12);t.default=r.a.create({container:{paddingTop:16,paddingBottom:16,flexDirection:"column",justifyContent:"space-between"},title:{paddingTop:32,color:"white",fontWeight:"200",textAlign:"center",fontSize:18},codeTitle:{fontWeight:"400",textAlign:"center",fontSize:45,color:"#D7D98B"},leaderboardTitle:{fontSize:36,fontWeight:"200",color:"#FFF"},button:{margin:10,alignSelf:"flex-end",justifyContent:"flex-start"}})},183:function(e,t,n){"use strict";n.r(t);var r=n(12);t.default=r.a.create({container:{alignSelf:"flex-end",position:"absolute",bottom:"20%"},notification:{borderTopStartRadius:.001,borderBottomStartRadius:.001,borderRadius:.001,marginVertical:8,borderColor:"#ffffff00"}})},184:function(e,t,n){"use strict";n.r(t);var r=n(12);t.default=r.a.create({tab:{flex:1,alignItems:"center",textAlign:"center",justifyContent:"space-around",backgroundColor:"#D14688",padding:40,position:"relative"},rulesImage:{width:"80%",height:"20%"},rulesContainer:{flex:1,justifyContent:"center",textAlign:"center",backgroundColor:"#D14688"},ruleHeading:{textAlign:"center"},ruleDescription:{fontSize:20,textAlign:"center"},rulesBtn:{width:"80%",position:"absolute",bottom:25}})},320:function(e,t,n){e.exports=n.p+"static/media/splash.e0997f35.gif"},34:function(e,t,n){var r=n(509)("./light").default;e.exports=function(e){return r[e]||{}}},355:function(e){e.exports=JSON.parse('{"color-primary-100":"#DFEFF4","color-primary-200":"#C2DEE9","color-primary-300":"#8DAEBD","color-primary-400":"#556D7C","color-primary-500":"#161F26","color-primary-600":"#101820","color-primary-700":"#0B121B","color-primary-800":"#070C16","color-primary-900":"#040812","color-primary-transparent-100":"rgba(22, 31, 38, 0.08)","color-primary-transparent-200":"rgba(22, 31, 38, 0.16)","color-primary-transparent-300":"rgba(22, 31, 38, 0.24)","color-primary-transparent-400":"rgba(22, 31, 38, 0.32)","color-primary-transparent-500":"rgba(22, 31, 38, 0.4)","color-primary-transparent-600":"rgba(22, 31, 38, 0.48)","color-success-100":"#CCFCFF","color-success-200":"#99F3FF","color-success-300":"#66E3FF","color-success-400":"#3FD0FF","color-success-500":"#00b0ff","color-success-600":"#0088DB","color-success-700":"#0066B7","color-success-800":"#004893","color-success-900":"#00347A","color-success-transparent-100":"rgba(0, 176, 255, 0.08)","color-success-transparent-200":"rgba(0, 176, 255, 0.16)","color-success-transparent-300":"rgba(0, 176, 255, 0.24)","color-success-transparent-400":"rgba(0, 176, 255, 0.32)","color-success-transparent-500":"rgba(0, 176, 255, 0.4)","color-success-transparent-600":"rgba(0, 176, 255, 0.48)","color-info-100":"#FCDBDD","color-info-200":"#FAB7C3","color-info-300":"#F190AB","color-info-400":"#E3719C","color-info-500":"#d14688","color-info-600":"#B3337D","color-info-700":"#962371","color-info-800":"#791662","color-info-900":"#640D59","color-info-transparent-100":"rgba(209, 70, 136, 0.08)","color-info-transparent-200":"rgba(209, 70, 136, 0.16)","color-info-transparent-300":"rgba(209, 70, 136, 0.24)","color-info-transparent-400":"rgba(209, 70, 136, 0.32)","color-info-transparent-500":"rgba(209, 70, 136, 0.4)","color-info-transparent-600":"rgba(209, 70, 136, 0.48)","color-warning-100":"#FCFDEA","color-warning-200":"#FAFBD7","color-warning-300":"#F2F3BF","color-warning-400":"#E6E8A9","color-warning-500":"#d7d98b","color-warning-600":"#B8BA65","color-warning-700":"#999C46","color-warning-800":"#7B7D2C","color-warning-900":"#65681A","color-warning-transparent-100":"rgba(215, 217, 139, 0.08)","color-warning-transparent-200":"rgba(215, 217, 139, 0.16)","color-warning-transparent-300":"rgba(215, 217, 139, 0.24)","color-warning-transparent-400":"rgba(215, 217, 139, 0.32)","color-warning-transparent-500":"rgba(215, 217, 139, 0.4)","color-warning-transparent-600":"rgba(215, 217, 139, 0.48)","color-danger-100":"#FFFFFF","color-danger-200":"#FFFFFF","color-danger-300":"#FFFFFF","color-danger-400":"#FFFFFF","color-danger-500":"#fff","color-danger-600":"#DBBABD","color-danger-700":"#B7808A","color-danger-800":"#935162","color-danger-900":"#7A304A","color-danger-transparent-100":"rgba(255, 255, 255, 0.08)","color-danger-transparent-200":"rgba(255, 255, 255, 0.16)","color-danger-transparent-300":"rgba(255, 255, 255, 0.24)","color-danger-transparent-400":"rgba(255, 255, 255, 0.32)","color-danger-transparent-500":"rgba(255, 255, 255, 0.4)","color-danger-transparent-600":"rgba(255, 255, 255, 0.48)"}')},358:function(e,t,n){"use strict";n.d(t,"a",(function(){return _n}));var r={};n.r(r),n.d(r,"setGameLoading",(function(){return $})),n.d(r,"setMessages",(function(){return Z})),n.d(r,"hideMessage",(function(){return ee})),n.d(r,"initGameSock",(function(){return te})),n.d(r,"hostGameAction",(function(){return ne})),n.d(r,"hostGame",(function(){return re})),n.d(r,"joinGame",(function(){return ae})),n.d(r,"autoRejoinLobby",(function(){return oe})),n.d(r,"startGame",(function(){return ie})),n.d(r,"startRound",(function(){return se})),n.d(r,"inputQuestion",(function(){return le})),n.d(r,"timerUpdate",(function(){return ce})),n.d(r,"startHotseat",(function(){return ue})),n.d(r,"onHotseatAnswer",(function(){return de})),n.d(r,"onNextQuestion",(function(){return me})),n.d(r,"playerListUpdate",(function(){return fe})),n.d(r,"playerUpdate",(function(){return pe})),n.d(r,"updateSinglePlayer",(function(){return ge})),n.d(r,"toggleRedirect",(function(){return ye})),n.d(r,"leaveGame",(function(){return he})),n.d(r,"endGame",(function(){return be})),n.d(r,"setPhase",(function(){return Ee})),n.d(r,"answerQuestion",(function(){return ve}));var a={};n.r(a),n.d(a,"setLoading",(function(){return Oe})),n.d(a,"formUpdate",(function(){return ke})),n.d(a,"create",(function(){return Ie})),n.d(a,"getUser",(function(){return Ae})),n.d(a,"login",(function(){return Re})),n.d(a,"loginWithThirdParty",(function(){return Te})),n.d(a,"logout",(function(){return Ce}));var o=n(1),i=n.n(o),s=n(25),l=n.n(s),c=n(4),u=n.n(c),d=n(5),m=n.n(d),f=n(6),p=n.n(f),g=n(7),y=n.n(g),h=n(3),b=n.n(h),E=n(11),v=n.n(E),w=n(0),S=n.n(w),O=n(58),k=n(8),I=n(43),A=n(120),R=n(15),T=n(254),C=n(1035),x=n(324),L=n(22),P=n(62);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={name:"",email:"",password:"",confirm_password:"",isLoading:!1,canSubmit:!1,token:"",actionSuccess:!1,error:"",authedWithGoogle:!1,accessToken:""},j=n(20),_=n.n(j),B=n(35);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q,H=["#972852","#96251C","#497BB6","#AF39B2","#A45EDC","#D49D6D"],M={lobbyName:"",user:{id:"",name:"",score:0,inHotseat:!1},inLobby:!1,inGame:!1,isHost:!1,players:[],isLoading:!1,error:"",messages:[],pickedPlayers:[],questionInput:"Who's more likely to",questions:[],roundOver:!1,round:0,phase:"",timer:0,hotseatOptions:void 0,currentQuestionId:0,roundOptions:void 0,numOfRounds:3,init:!1,canAnswer:!1,displayAnswer:!1,editUser:!1,userToEditIndex:0},W=Object(P.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOADING":return N(N({},e),{},{isLoading:!e.isLoading});case"FORM_UPDATE":return N(N({},e),{},v()({},t.payload.prop,t.payload.value));case"USER_REGISTERED":return N(N({},e),{},{toRegister:!1,email:t.payload.user.email,name:"",password:"",confirm_password:"",actionSuccess:!0,error:"",isLoading:!1});case"REQUEST_ERROR":return N(N({},e),{},{error:t.payload.error,isLoading:!1});case"USER_LOGGED_IN":return N(N({},e),{},{token:t.payload.token,name:t.payload.user.name,email:t.payload.user.email,_id:t.payload.user._id,password:"",error:"",isLoading:!1});case"USER_LOGGED_IN_GOOGLE":return N(N({},e),{},{token:t.payload.token,name:t.payload.user.name,email:t.payload.user.email,_id:t.payload.user._id,password:"",error:"",authedWithGoogle:!0,isLoading:!1});case"USER_LOGGED_IN_GOOGLE_MOBILE":return N(N({},e),{},{token:t.payload.token,name:t.payload.user.name,email:t.payload.user.email,_id:t.payload.user._id,accessToken:t.payload.user.accessToken,password:"",error:"",authedWithGoogle:!0,isLoading:!1});case"USER_LOGGED_OUT":return N(N({},e),{},{token:"",_id:"",name:"",email:"",accessToken:"",isLoading:!1});default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALISE_GAMESOCK":return U(U({},e),{},{init:!0});case"IS_LOADING_GAME":return U(U({},e),{},{isLoading:!e.isLoading});case"SET_MESSAGES":var n=e.messages,r=t.payload,a=e.players;if(r.includes("transport close")){var o=a.findIndex((function(e){return r.includes(e.id)}));-1!==o&&(r=r.replace(a[o].id,a[o].name),console.log("modified message",r),a.splice(o,1))}var i={hide:!1,message:r};n.push(i);var s=e.isLoading,l=e.error;return r.includes("Could not start game")&&(s=!1,l="Could not start game"),s&&t.payload.includes("does not exist")?(s=!1,l=t.payload):l="",U(U({},e),{},{messages:_()(n),isLoading:s,error:l,players:_()(a)});case"HIDE_MESSAGE":var c=e.messages,u=c.findIndex((function(e){return e.message===t.payload}));return c[u]&&c[u].hide&&(c[u].hide=!0),U(U({},e),{},{messages:_()(c)});case"HIDE_MESSAGE_INDEX":var d=e.messages;return d.splice(t.payload,1),U(U({},e),{},{messages:_()(d)});case"PLAYER_LIST_UPDATE":var m=t.payload;return m.map((function(e,t){return e.colour=t>H.length-1?H[t-H.length]:H[t]})),U(U({},e),{},{players:_()(m)});case"PLAYER_SINGLE_UPDATE":var f=e.players,p=e.players.findIndex((function(e){return e.id===t.payload.id}));return f[p]=U({score:f[p].score,colour:f[p].colour},t.payload),U(U({},e),{},{players:_()(f),isLoading:!1,editUser:!1});case"SINGLE_PLAYER_EDIT":var g=e.editUser;if(""!==t.payload){var y=e.players.findIndex((function(e){return e.id===t.payload}));return U(U({},e),{},{editUser:!g,userToEditIndex:y})}return U(U({},e),{},{editUser:!g});case"HOST_GAME":return U(U({},e),{},{lobbyName:t.payload.lobbyName,user:t.payload.user,inLobby:!0,isHost:!0,isLoading:!1,error:""});case"JOIN_GAME":var h=t.payload.players||e.players;return h.map((function(e,t){return e.colour=t>H.length-1?H[t-H.length]:H[t]})),U(U({},e),{},{lobbyName:t.payload.lobbyName,user:t.payload.user,players:_()(h),inLobby:!0,isLoading:!1,roundOver:!1,error:""});case"LEAVE_GAME":return U(U({},e),{},{lobbyName:"",roundOver:!1,inGame:!1,inLobby:!1,isHost:!1,isLoading:!1,questions:[],messages:[],error:""});case"START_GAME":return U(U({},e),{},{numOfRounds:t.payload});case"START_ROUND":var b=t.payload,E=e.user;return b.hotseatPlayers.some((function(e){return e.id===E.id}))?E.inHotseat=!0:E.inHotseat=!1,U(U({},e),{},{inGame:!0,isLoading:!1,questions:[],currentQuestionId:0,user:E,roundOptions:b});case"INPUT_QUESTION":var v=e.questions;return v.push(t.payload),U(U({},e),{},{questionInput:"Who's more likely to",questions:v,isLoading:!1});case"TIMER_UPDATE":if(t.payload>e.timer){if("Display Answer"===e.phase){var w=e.currentQuestionId+=1;return U(U({},e),{},{timer:t.payload,currentQuestionId:w,phase:"Hotseat",canAnswer:!0,displayAnswer:!1})}if("Hotseat ready"===e.phase)return U(U({},e),{},{timer:t.payload,currentQuestionId:0,phase:"Hotseat",canAnswer:!0,displayAnswer:!1});"Hotseat"===e.phase&&console.error("Hotseat probably out of sync")}return U(U({},e),{},{timer:t.payload});case"SET_PHASE":return"Round Ended"===t.payload?(e.isHost&&(Object(B.d)(e.lobbyName),console.log("Updating players for score")),U(U({},e),{},{phase:t.payload,roundOver:!0,inGame:!1})):U(U({},e),{},{phase:t.payload});case"START_HOTSEAT":return console.log("start hotseat reducer",t.payload),U(U({},e),{},{phase:"Hotseat ready",questions:_()(t.payload.questions),hotseatOptions:t.payload.hotseatOptions,canAnswer:!0});case"ON_HOTSEAT_ANSWER":var S=e.questions,O=t.payload.answers.length>0?t.payload.answers:[null,null];return console.log("finding question and inserting answers!",S,t.payload.questionIndex,O),S[t.payload.questionIndex].answers=_()(O),U(U({},e),{},{questions:_()(S),displayAnswer:!0,canAnswer:!1,phase:"Display Answer"});case"ON_NEXT_QUESTION":return U(U({},e),{},{displayAnswer:!1});case"ANSWER_QUESTION":return U(U({},e),{},{canAnswer:!1});case"END_GAME":return U(U({},e),{},{roundOver:!0,inGame:!1});default:return e}}}),z=n(47),V=n(322),Q=n(1034);!function(e){e.AUTH="Auth",e.SIGN_IN="Sign In",e.SIGN_UP="Sign Up",e.SIGN_OUT="Sign Out",e.HOME="Home",e.RULES="Rules",e.GAME="Game",e.HOST="Host",e.JOIN="Join",e.LOBBY="Lobby",e.EDIT_USER="Edit User",e.INGAME="In Game",e.END_GAME="End Game",e.SETTINGS="Settings",e.DEVINFO="Dev info"}(q||(q={}));var J=n(63),Y=n.n(J);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(){return{type:"IS_LOADING_GAME"}},Z=function(e,t){console.log("Socket message: ",e),t({type:"SET_MESSAGES",payload:e}),setTimeout((function(){t({type:"HIDE_MESSAGE",payload:e})}),8e3)},ee=function(e){return function(t){t({type:"HIDE_MESSAGE_INDEX",payload:e})}},te=function(){return function(e){console.log("initlising with ",z.a.manifest.extra.SERVER_URL),B.r(z.a.manifest.extra.SERVER_URL,z.a.manifest.extra.SERVER_URL+"/timesync"),B.m((function(t){console.log("starting game",t.rounds),ie(t.rounds,e)})),B.o((function(t){1===t.roundNum?Ee("Starting Game",e):Ee("Starting Round",e),console.log("starting round"),se(t,e),setTimeout((function(){Ee("Question Gathering",e)}),2e3)})),B.n((function(t,n){console.log("starting hotseat"),Ee("Hotseat",e),ue(t,n,e)})),B.k((function(){console.log("ending round"),Ee("Round Ended",e),be()})),B.l((function(t){console.log("single player update",t),pe(t,e)})),B.i((function(t){console.log("player list update",t),fe(t,e)})),B.g((function(t,n){de(t,n,e)})),B.p((function(t){ce(t,e)})),B.h((function(t){Z(t.msg,e)})),B.f((function(e){console.log("error check my structure!!",e)})),e({type:"INITIALISE_GAMESOCK"})}},ne=function(e){return function(t){var n=Math.random().toString(36).substr(2,4).toUpperCase();B.c(n,e.username,e.token).then((function(e){var r=Array.isArray(e)?e[0]:e;t({type:"HOST_GAME",payload:{lobbyName:n,user:r}})}))}},re=function(e,t){var n=Math.random().toString(36).substr(2,4).toUpperCase();B.c(n,e.username,e.token).then((function(e){var r=Array.isArray(e)?e[0]:e;t({type:"HOST_GAME",payload:{lobbyName:n,user:r}})}))},ae=function(e){return function(t){return B.e(e.lobbyName,e.username).then((function(n){var r=Array.isArray(n)?n[n.length-1]:n;Y.a.setItem("myId",JSON.stringify({id:r.id,expiry:Date.now()+18e5,lobby:e.lobbyName})).catch((function(e){return console.log(e)})),t({type:"JOIN_GAME",payload:{lobbyName:e.lobbyName,user:r}})}))}},oe=function(e){return function(t){return Y.a.getItem("myId").then((function(n){if(n){var r=JSON.parse(n);return console.log("Attempting to claim with token"+r.toString(),r.expiry>Date.now()),B.a(r.lobby,r.id).then((function(n){var r=n.players;console.log("CLAIMED!!",r);var a=Array.isArray(r)?r.find((function(e){return e.id===n.id})):r;if(!a)throw"Could not find user!";Y.a.setItem("myId",JSON.stringify({id:a.id,expiry:Date.now()+18e5,lobby:e.lobbyName})).catch((function(e){return console.error(e)})),console.log("TIME to dispatch"),t({type:"JOIN_GAME",payload:{lobbyName:e.lobbyName,user:X({},a),players:r}})})).catch((function(e){return console.error(e)}))}})).catch((function(e){return console.error(e)}))}},ie=function(e,t){t({type:"START_GAME",payload:e})},se=function(e,t){console.log("starting round!"),t({type:"START_ROUND",payload:e})},le=function(e){return{type:"INPUT_QUESTION",payload:e}},ce=function(e,t){t({type:"TIMER_UPDATE",payload:e})},ue=function(e,t,n){console.log("starting hotseat and setting questions!",e),n({type:"START_HOTSEAT",payload:{questions:e,hotseatOptions:t}})},de=function(e,t,n){console.log("receiving answers!",t,e),n({type:"ON_HOTSEAT_ANSWER",payload:{questionIndex:e,answers:t}})},me=function(e){return function(t){console.log("next question in ",e,"seconds"),setTimeout((function(){t({type:"ON_NEXT_QUESTION"})}),e)}},fe=function(e,t){t({type:"PLAYER_LIST_UPDATE",payload:e})},pe=function(e,t){t({type:"PLAYER_SINGLE_UPDATE",payload:e})},ge=function(e,t){return function(n){B.t(e,t),n({type:"SINGLE_PLAYER_REDIRECT"})}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:"SINGLE_PLAYER_EDIT",payload:e})}},he=function(){return function(e){e({type:"LEAVE_GAME"})}},be=function(){return{type:"END_GAME"}},Ee=function(e,t){t({type:"SET_PHASE",payload:e})},ve=function(e,t,n,r){return function(a){console.log("new answer!",t,n),B.q(e,t,n,r),a({type:"ANSWER_QUESTION"})}};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Se=z.a.manifest.extra.SERVER_URL,Oe=function(){return{type:"IS_LOADING"}},ke=function(e){return{type:"FORM_UPDATE",payload:{prop:e.prop,value:e.value}}},Ie=function(e){return function(t){fetch(Se+"/api/user",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(e.error)return t({type:"REQUEST_ERROR",payload:e});t({type:"USER_REGISTERED",payload:{user:e.data}})})).catch((function(e){return console.log(e),t({type:"REQUEST_ERROR",payload:{error:"Error: Could not connect to the server"}})}))}},Ae=function(e){return function(t){fetch(Se+"/api/auth/user",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()})).then((function(n){if(n.error)return t({type:"REQUEST_ERROR",payload:n});var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({token:e},n.data);t({type:"USER_LOGGED_IN",payload:r})}))}},Re=function(e){return function(t){fetch(Se+"/api/auth/signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(e.error)return t({type:"REQUEST_ERROR",payload:e});Y.a.setItem("token",e.data.token).catch((function(e){return console.log(e)})),t({type:"USER_LOGGED_IN",payload:e.data}),re({username:e.data.user.name,token:e.data.token},t)})).catch((function(e){return console.log(e),t({type:"REQUEST_ERROR",payload:{error:"Error: Could not connect to the server"}})}))}},Te=function(e){return function(t){fetch(Se+"/api/auth/signin/"+e.provider+"/"+e.type,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(console.log("response!",e),e.error||!0!==e.success)return t({type:"REQUEST_ERROR",payload:e});Y.a.setItem("token",e.data.token).catch((function(e){return console.log(e)})),e.data.user.accessToken?t({type:"USER_LOGGED_IN_GOOGLE_MOBILE",payload:e.data}):t({type:"USER_LOGGED_IN_GOOGLE",payload:e.data}),re({username:e.data.user.name,token:e.data.token},t)})).catch((function(e){return console.log(e),t({type:"REQUEST_ERROR",payload:{error:"Error: Could not connect to the server"}})}))}},Ce=function(e){var t=e.accessToken?"signout/"+e.accessToken:"signout";return function(n){fetch(Se+"/api/auth/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e.token}}).then((function(){Y.a.removeItem("token").catch((function(e){return console.log(e)})),n({type:"USER_LOGGED_OUT"})})).catch((function(e){console.log("Logout Error",e)}))}},xe=n(192),Le=n.n(xe);function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y()(this,n)}}var De=z.a.manifest.extra.WEB_GOOGLE_CLIENT_ID,Ne=function(e){p()(n,e);var t=Pe(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={error:""},e.responseGoogle=function(t){if(t.error)e.setState({error:t.error});else{var n=e.props.token;e.props.logout({token:n})}},e}return m()(n,[{key:"render",value:function(){return S.a.createElement(k.a,null,S.a.createElement(Le.a,{clientId:De,onSuccess:this.responseGoogle,onFailure:this.responseGoogle,buttonText:"Logout"}),""!==this.state.error&&S.a.createElement(I.a,null,"Error: ",this.state.error))}}]),n}(w.Component),Ge=Object(L.b)((function(e){return{token:e.auth.token}}),{logout:Ce})(Ne),je=n(14),_e=n.n(je),Be=n(10),Fe=function(e){var t=e.text,n=e.loading,r=e.icon,a=void 0===r?"":r,o=_e()(e,["text","loading","icon"]);return n?S.a.createElement(Be.Button,i()({},o,{accessoryRight:function(e){return S.a.createElement(k.a,null,S.a.createElement(Be.Spinner,{size:"small",status:"danger"}))},disabled:!0}),t):a&&""!==a?S.a.createElement(Be.Button,i()({},o,{accessoryRight:function(e){return S.a.createElement(Be.Icon,i()({},e,{name:a}))}}),t):S.a.createElement(Be.Button,o,t)},Ue=n(34)("App"),qe=Object(L.b)((function(e){var t=e.auth;return{name:t.name,token:t.token,authedWithGoogle:t.authedWithGoogle,isLoading:t.isLoading,isHost:e.game.isHost}}),{logout:Ce,setLoading:Oe})((function(e){var t=e.authedWithGoogle,n=e.isLoading;return S.a.createElement(A.a,null,t?S.a.createElement(Ge,null):S.a.createElement(Fe,{style:Ue.signOutBtn,onPress:function(){e.setLoading();var t=e.token;e.logout({token:t})},disabled:!1,loading:n,icon:"log-out-outline",text:""}))})),He=n(18),Me=n.n(He),We=n(16),ze=n(67),Ve=n(61),Qe=function(e){return S.a.createElement(Be.Icon,i()({},e,{name:"alert-triangle-outline"}))},Je=function(e){return S.a.createElement(Be.Icon,i()({},e,{name:"eye-outline"}))},Ye=function(e){return S.a.createElement(Be.Icon,i()({},e,{name:"eye-off-outline"}))},Ke=function(e){var t=e.id,n=_e()(e,["id"]),r=Object(ze.b)(),a=r.errors[t],o={status:a&&"danger",captionIcon:a&&Qe};return S.a.createElement(Be.Input,i()({},n,o,{caption:a,onChangeText:r.handleChange(t)}))};function Xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y()(this,n)}}var $e=n(34)("Form"),Ze=z.a.manifest.extra.WEB_GOOGLE_CLIENT_ID,et=function(e){p()(n,e);var t=Xe(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={error:""},e.responseGoogle=function(t){t.error?e.setState({error:t.error}):e.props.loginWithThirdParty({token:t.tokenId,provider:"google"})},e}return m()(n,[{key:"render",value:function(){return S.a.createElement(k.a,null,S.a.createElement(Le.a,{style:$e.thirdPartyButtonContainer,clientId:Ze,onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"}),""!==this.state.error&&S.a.createElement(I.a,null,"Error: ",this.state.error))}}]),n}(w.Component),tt=Object(L.b)(null,{loginWithThirdParty:Te})(et),nt=n(1036),rt=n(64),at=n(1037);function ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y()(this,n)}}var it=n(34)("Form"),st=function(e){p()(n,e);var t=ot(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={error:""},e.signInWithAppleMobile=function(){var t,n,r;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.a.awrap(nt.a({requestedScopes:[rt.d.FULL_NAME,rt.d.EMAIL]}));case 3:t=a.sent,n=t.fullName.givenName+" "+t.fullName.familyName,r={email:t.email,name:n,identityToken:t.identityToken},e.props.loginWithThirdParty({token:t.authorizationCode,type:We.a.OS,provider:"apple",user:r}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("error!",a.t0),e.setState({error:a.t0.message});case 13:case"end":return a.stop()}}),null,null,[[0,9]],Promise)},e}return m()(n,[{key:"render",value:function(){return S.a.createElement(k.a,{style:it.thirdPartyButtonContainer},S.a.createElement(at.a,{buttonType:rt.b.SIGN_IN,buttonStyle:rt.a.WHITE,cornerRadius:5,style:{width:200,height:44},onPress:this.signInWithAppleMobile}),""!==this.state.error&&S.a.createElement(I.a,{style:{textAlign:"center"}},"Error: ",this.state.error))}}]),n}(w.Component),lt=Object(L.b)(null,{loginWithThirdParty:Te})(st),ct=n(40),ut=(function(){function e(t,n){u()(this,e),this.email=t,this.password=n}m()(e,null,[{key:"empty",value:function(){return new e("","")}}])}(),ct.a().shape({email:ct.c().min(1,"Email cannot be blank").email("Invalid email").required("Email is required"),password:ct.c().min(8,"Password must be at least 8 characters").required("Password is required")})),dt=n(34)("Header"),mt=function(e){var t=e.text,n=e.icon,r=e.buttonText,a=e.loading,o=void 0!==a&&a,s=_e()(e,["text","icon","buttonText","loading"]);return S.a.createElement(k.a,{style:dt.container},S.a.createElement(Be.Button,i()({},s,{accessoryRight:function(e){return o?S.a.createElement(k.a,null,S.a.createElement(Be.Spinner,{size:"small",status:"danger"})):S.a.createElement(Be.Icon,i()({},e,{name:n,size:"large"}))},style:dt.button}),r),S.a.createElement(Be.Text,{style:dt.title,category:"h1"},t))},ft=n(34)("Form"),pt=Object(L.b)((function(e){var t=e.auth;return{email:t.email,password:t.password,error:t.error,isLoading:t.isLoading,token:t.token}}),a)((function(e){var t=S.a.useState(!1),n=Me()(t,2),r=n[0],a=n[1],o=function(){a(!r)},i=function(e){var t=r?Je:Ye;return S.a.createElement(Ve.b,{onPress:o},S.a.createElement(t,e))},s=e.email,l=e.password,c=e.error,u=e.isLoading;return S.a.createElement(Be.Layout,{style:ft.formContainer},S.a.createElement(mt,{style:ft.homeBtn,text:"",icon:"close-outline",status:"primary",onPress:function(){return e.navigation.navigate(q.HOME)}}),S.a.createElement(Ve.a,{style:ft.scrollContainer},S.a.createElement(ze.a,{initialValues:{email:s,password:l},validationSchema:ut,onSubmit:function(t){return function(t){e.setLoading();var n=t.email,r=t.password;e.login({email:n,password:r})}(t)}},(function(e){var t=u||e.isSubmitting;return!1===u&&!0===e.isSubmitting&&e.setSubmitting(!1),S.a.createElement(S.a.Fragment,null,S.a.createElement(Ke,{id:"email",style:ft.formControl,size:"large",placeholder:"Email",keyboardType:"email-address",autoCapitalize:"none",value:e.values.email,onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),S.a.createElement(Ke,{id:"password",style:ft.formControl,size:"large",placeholder:"Password",secureTextEntry:!r,accessoryRight:i,autoCapitalize:"none",value:e.values.password,onSubmitEditing:function(){return"web"!==We.a.OS?e.handleSubmit():function(){}},onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),""!==c&&S.a.createElement(Be.Text,null,c),S.a.createElement(Fe,{style:ft.submitButton,disabled:!e.isValid&&!e.isValidating,status:"danger",onPress:function(){return e.handleSubmit()},loading:t,text:"SIGN IN"}))})),"ios"===We.a.OS&&S.a.createElement(lt,null),S.a.createElement(k.a,{style:ft.customHrTag}),S.a.createElement(tt,null),S.a.createElement(Be.Button,{style:ft.noAccountButton,onPress:function(){return e.navigation.navigate(q.SIGN_UP)}},"SIGN UP")))})),gt=(function(){function e(t,n,r,a){u()(this,e),this.name=t,this.email=n,this.password=r,this.password_confirm=a}m()(e,null,[{key:"empty",value:function(){return new e("","","","")}}])}(),ct.a().shape({name:ct.c().min(4,"Name must be at least 4 characters").required(),email:ct.c().min(1,"Email cannot be blank").email("Invalid email").required("Email is required"),password:ct.c().min(8,"Password must be at least 8 characters").required("Password is required"),password_confirm:ct.c().when("password",{is:function(e){return!!(e&&e.length>0)},then:ct.c().oneOf([ct.b("password")],"Confirm Password must equal password")}).required("Confirm Password is required")})),yt=n(34)("Form"),ht=Object(L.b)((function(e){var t=e.auth;return{name:t.name,email:t.email,password:t.password,confirm_password:t.confirm_password,error:t.error,isLoading:t.isLoading,actionSuccess:t.actionSuccess}}),a)((function(e){var t=S.a.useState(!1),n=Me()(t,2),r=n[0],a=n[1],o=function(){a(!r)},i=function(e){var t=r?Je:Ye;return S.a.createElement(Ve.b,{onPress:o},S.a.createElement(t,e))},s=e.name,l=e.email,c=e.password,u=(e.confirm_password,e.error),d=e.isLoading;return e.actionSuccess&&e.navigation.navigate(q.SIGN_IN),S.a.createElement(Be.Layout,{style:yt.formContainerReg},S.a.createElement(mt,{text:"",icon:"close-outline",status:"info",onPress:function(){return e.navigation.navigate(q.HOME)}}),S.a.createElement(Ve.a,{style:yt.scrollContainer},S.a.createElement(ze.a,{initialValues:{name:s,email:l,password:c,password_confirm:""},validationSchema:gt,onSubmit:function(t){return function(t){e.setLoading();var n=t.name,r=t.email,a=t.password;e.create({name:n,email:r,password:a})}(t)}},(function(e){var t=d||e.isSubmitting;return!1===d&&!0===e.isSubmitting&&e.setSubmitting(!1),S.a.createElement(S.a.Fragment,null,S.a.createElement(Ke,{id:"name",style:yt.formControlReg,size:"large",placeholder:"Username",autoCorrect:!1,autoCapitalize:"none",value:e.values.name,onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),S.a.createElement(Ke,{id:"email",style:yt.formControlReg,size:"large",placeholder:"Email",keyboardType:"email-address",autoCapitalize:"none",value:e.values.email,onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),S.a.createElement(Ke,{id:"password",style:yt.formControlReg,size:"large",placeholder:"Password",secureTextEntry:!r,accessoryRight:i,value:e.values.password,onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),S.a.createElement(Ke,{id:"password_confirm",style:yt.formControlReg,size:"large",placeholder:"Confirm Password",secureTextEntry:!r,accessoryRight:i,onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),""!==u&&S.a.createElement(I.a,null,u),S.a.createElement(Fe,{style:yt.submitButton,disabled:!e.isValid&&!e.isValidating,onPress:function(){return e.handleSubmit()},loading:t,text:"SIGN UP"}))})),S.a.createElement(k.a,{style:yt.customHrTagReg}),S.a.createElement(Be.Button,{style:yt.haveAccountButton,onPress:function(){return e.navigation.navigate(q.SIGN_IN)}},"Already have an account?")))})),bt={SignoutScreen:qe,SignInScreen:pt,RegisterScreen:ht},Et=n(34)("Game"),vt=function(e){return S.a.createElement(Be.Layout,{style:Et.container},S.a.createElement(I.a,{style:Et.title},"Host"),S.a.createElement(Be.Button,{style:Et.submitButton,onPress:function(){return e.navigation.navigate(q.HOME)}},"Home"),S.a.createElement(Be.Button,{style:Et.submitButton,onPress:function(){return e.navigation.navigate(q.SIGN_OUT)}},"Sign out page"))},wt=(function(){function e(t,n){u()(this,e),this.lobbyName=t,this.username=n}m()(e,null,[{key:"empty",value:function(){return new e("","")}}])}(),ct.a().shape({lobbyName:ct.c().min(4,"Lobby code must be 4 characters").max(5,"Lobby code cannot be over 5 characters").required("Lobby Code is required"),username:ct.c().min(4,"Username must be at least 4 characters").required("Username is required")})),St=n(34)("Game"),Ot=function(e){var t=e.text,n=void 0===t?"":t;return S.a.createElement(Be.Layout,{style:St.gameLoadingSpinner},S.a.createElement(k.a,{style:St.loadingSpinner},S.a.createElement(Be.Spinner,{size:"giant",status:"info"})),S.a.createElement(Be.Text,{style:St.title},n))},kt=n(34)("Form"),It=Object(L.b)((function(e){var t=e.game,n=t.lobbyName,r=t.error,a=t.isLoading;return{lobbyName:n,isHost:t.isHost,error:r,isLoading:a,name:e.auth.name}}),r)((function(e){var t=e.lobbyName,n=e.error,r=e.isLoading;return e.isHost?S.a.createElement(Ot,{text:"Creating lobby..."}):S.a.createElement(Be.Layout,{style:kt.formContainer},S.a.createElement(mt,{text:"",icon:"close-outline",status:"primary",onPress:function(){return e.navigation.navigate(q.HOME)}}),S.a.createElement(k.a,{style:kt.formContainer},S.a.createElement(ze.a,{initialValues:{lobbyName:t,username:e.name},validationSchema:wt,onSubmit:function(t){return function(t){e.setGameLoading();var n=t.lobbyName,r=t.username;e.joinGame({lobbyName:n.toUpperCase(),username:r})}(t)}},(function(e){var t=r||e.isSubmitting;return!1===r&&!0===e.isSubmitting&&e.setSubmitting(!1),S.a.createElement(S.a.Fragment,null,S.a.createElement(Ke,{id:"lobbyName",style:kt.formControl,size:"large",value:e.values.lobbyName,placeholder:"Enter Join Code",autoCapitalize:"characters",onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),S.a.createElement(Ke,{id:"username",style:kt.formControl,size:"large",value:e.values.username,placeholder:"Create a Username",onSubmitEditing:function(){return"web"!==We.a.OS?e.handleSubmit():function(){}},onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),""!==n&&S.a.createElement(Be.Text,null,n),S.a.createElement(Fe,{style:kt.submitButton,disabled:!e.isValid&&!e.isValidating,onPress:function(){return e.handleSubmit()},loading:t,text:"JOIN"}))}))))})),At=n(34)("Header"),Rt=function(e){var t=e.text,n=e.icon,r=e.buttonText,a=e.loading,o=void 0!==a&&a,s=e.lobbyCode,l=e.isLeaderboard,c=void 0!==l&&l,u=e.loadingText,d=void 0===u?"":u,m=_e()(e,["text","icon","buttonText","loading","lobbyCode","isLeaderboard","loadingText"]);return S.a.createElement(k.a,{style:At.container},S.a.createElement(Be.Button,i()({},m,{accessoryRight:function(e){return o?S.a.createElement(k.a,null,S.a.createElement(Be.Spinner,{size:"small",status:"danger"})):S.a.createElement(Be.Icon,i()({},e,{name:n,size:"large"}))},style:At.button,size:"small"}),r),c?S.a.createElement(Be.Text,{style:[At.title,At.leaderboardTitle],category:"h1"},t):S.a.createElement(S.a.Fragment,null,S.a.createElement(Be.Text,{style:At.title,category:"h1"},""!==s?t:""!==d?d:"Loading lobby..."),S.a.createElement(Be.Text,{style:At.codeTitle},s)))},Tt=n(34)("Notification"),Ct=Object(L.b)((function(e){var t=e.game;return{messages:t.messages,players:t.players}}),r)((function(e){var t=e.messages,n=e.players,r=e.hideMessage;return t.some((function(e){return!e.hide}))?S.a.createElement(k.a,{style:Tt.container},t.filter((function(e){return!e.hide})).map((function(e,a){var o=e.message,i="#972852",s=n.findIndex((function(e){return o.includes(e.id)}));return s>=0&&(o=o.replace(n[s].id,n[s].name),i=n[s].colour?n[s].colour:"red"),function(e){setTimeout((function(){var n=t.findIndex((function(t){return t.message===e}));t[n]&&!1===t[n].hide&&(console.log("message here for too long go away"),r(n))}),1e4)}(e.message),S.a.createElement(Fe,{key:a,style:[Tt.notification,{backgroundColor:i}],status:"success",size:"small",disabled:!1,loading:!1,text:o})}))):S.a.createElement(S.a.Fragment,null)})),xt=n(34)("Game"),Lt=Object(L.b)((function(e){return{user:e.game.user}}))((function(e){var t=e.item,n=e.roundOver,r=e.editPage,a=e.user,o=function(e,t){return S.a.createElement(k.a,{style:[xt.playerAvatar,{backgroundColor:t.colour}]},t.icon?S.a.createElement(Be.Icon,i()({},e,{name:t.icon})):S.a.createElement(Be.Text,{category:"h4"},c(t.name)))},s=function(e){return S.a.createElement(Be.Icon,i()({},e,{name:"edit-outline"}))},l=function(){return t.id===a.id?S.a.createElement(Be.Button,{accessoryLeft:s,onPress:function(){return r(t.id)}}):S.a.createElement(S.a.Fragment,null)},c=function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()};return n?S.a.createElement(Be.ListItem,{style:xt.listItem,title:t.name,accessoryLeft:function(e){return o(e,t)},accessoryRight:function(){return e=t.score,S.a.createElement(S.a.Fragment,null,l(),S.a.createElement(Be.Text,null,e," points"));var e}}):S.a.createElement(Be.ListItem,{style:[xt.listItem,{color:"red"}],title:t.name,accessoryLeft:function(e){return o(e,t)},accessoryRight:function(){return l()}})})),Pt=n(34)("Game"),Dt=Object(L.b)((function(e){var t=e.game;return{players:t.players,roundOver:t.roundOver}}))((function(e){var t=e.players;if(t.length<4){var n=4-t.length;t=[].concat(_()(t),_()(new Array(n).fill({name:"Waiting for player...",colour:"#161f26",icon:"question-mark-outline"})))}return e.roundOver&&t.sort((function(e,t){return t.score-e.score})),S.a.createElement(Be.List,{style:Pt.listContainer,data:t,renderItem:function(t){var n=t.item;return S.a.createElement(Lt,{item:n,roundOver:e.roundOver,editPage:function(t){return e.editPage(t)}})}})})),Nt=n(34)("Game"),Gt=Object(L.b)((function(e){var t=e.game;return{players:t.players,questions:t.questions,roundOptions:t.roundOptions}}))((function(e){var t=S.a.useState(null),n=Me()(t,2),r=n[0],a=n[1],o=function(e,t){return S.a.createElement(Be.Icon,i()({},e,{name:t}))},s=function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()};return S.a.createElement(Be.Layout,null,e.questions.length>0?S.a.createElement(Be.List,{data:e.questions,renderItem:function(t){var n,l,c=t.item,u=e.players.find((function(e){return e.id===c.playerId})),d=2===(null==(n=c.answers)?void 0:n.length)&&c.answers[0]===c.answers[1]&&null!==c.answers[1];return S.a.createElement(Be.Drawer,{selectedIndex:r,onSelect:function(e){return a(e)},style:Nt.listContainer},S.a.createElement(Be.DrawerGroup,{title:c.question,style:Nt.listItem,accessoryLeft:function(e){return function(e,t){return t?S.a.createElement(k.a,{style:[Nt.playerAvatar,{backgroundColor:t.colour}]},S.a.createElement(Be.Text,{category:"h4"},s(t.name))):S.a.createElement(k.a,{style:[Nt.playerAvatar,{backgroundColor:"#d14688"}]},S.a.createElement(Be.Icon,i()({},e,{name:"shuffle-2-outline"})))}(e,u)}},S.a.createElement(Be.DrawerItem,{onPress:function(){},title:u?"Asked by: "+u.name:"Shuffled Question",accessoryLeft:function(e){return o(e,"question-mark-outline")}}),null==(l=e.roundOptions)?void 0:l.hotseatPlayers.map((function(t,n){var r,a=c.answers[n],i=a?"answered "+(a===n?"themself":null==(r=e.roundOptions)?void 0:r.hotseatPlayers[0===n?1:0].name):"Didn't answer";return S.a.createElement(Be.DrawerItem,{key:t.name,onPress:function(){},title:t.name+" "+i,accessoryLeft:function(e){return o(e,"edit-2-outline")}})})),S.a.createElement(Be.DrawerItem,{onPress:function(){},title:d?"Both players got points!":u?u.name+" got points!":"Nobody got points!",accessoryLeft:function(e){return o(e,"star-outline")}})))}}):S.a.createElement(Be.Text,null,"No Questions Found"))})),jt=n(12),_t=jt.a.create({tabTop:{backgroundColor:"#d14787",color:"#fff",borderRadius:8},tabContainer:{}}),Bt=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=S.a.useState(e),n=Me()(t,2),r=n[0],a=n[1];return{selectedIndex:r,onSelect:a}}(),n=function(e,t){return S.a.createElement(Be.Icon,i()({},e,{name:t}))};return e.showTabs?S.a.createElement(Be.Layout,{style:_t.tabTop},S.a.createElement(Be.TabView,i()({},t,{tabBarStyle:_t.tabTop,indicatorStyle:{backgroundColor:"#00b0ff"}}),S.a.createElement(Be.Tab,{title:"Score",icon:function(e){return n(e,"person-outline")},style:_t.tabContainer},S.a.createElement(Dt,{editPage:function(t){return e.editPage(t)}})),S.a.createElement(Be.Tab,{title:"Questions",icon:function(e){return n(e,"question-mark-outline")},style:_t.tabContainer},S.a.createElement(Gt,null)))):S.a.createElement(Dt,{editPage:function(t){return e.editPage(t)}})},Ft=n(219),Ut=n(34)("Game"),qt=Object(L.b)((function(e){var t=e.game;return{players:t.players,isLoading:t.isLoading,isHost:t.isHost,lobbyName:t.lobbyName,roundOver:t.roundOver,roundOptions:t.roundOptions,numOfRounds:t.numOfRounds,timer:t.timer}}),r)((function(e){Object(Ft.a)();var t=!!e.roundOptions&&e.roundOptions.roundNum===e.numOfRounds,n=e.players.length>3;return""===e.lobbyName?S.a.createElement(Ot,{text:"Loading Lobby..."}):S.a.createElement(Be.Layout,{style:Ut.container},S.a.createElement(Rt,{text:!t&&e.roundOver?e.timer<=0?"Starting next round...":"Next round starts in":t?"LEADERBOARD":"Send this code to your friends:",lobbyCode:!t&&e.roundOver?e.timer<=0?"0":""+e.timer:e.lobbyName,buttonText:e.isHost?"End Game":"Leave Lobby",loading:!1,disabled:e.isLoading,isLeaderboard:e.roundOver,icon:"close-outline",status:"info",onPress:function(){return e.setGameLoading(),e.leaveGame(),void e.navigation.navigate(q.HOME)}}),S.a.createElement(k.a,{style:Ut.gameTabContainer},S.a.createElement(Bt,{editPage:function(t){return function(t){e.toggleRedirect(t)}(t)},showTabs:e.roundOver})),e.isHost?S.a.createElement(Fe,{style:Ut.submitButton,status:"success",onPress:function(){e.setGameLoading(),!t&&e.roundOver?(B.b(e.lobbyName),console.log("Continuing")):(console.log("Strarting"),B.s(e.lobbyName)),e.navigation.navigate(q.GAME)},disabled:e.isLoading||!n||!e.roundOver&&t,loading:e.isLoading,text:n?e.roundOver?t?"START NEW GAME":"BUT WAIT, THERE'S MORE! ("+e.numOfRounds+" ROUNDS) \n START NEXT ROUND":"PLAY TIME!":"WAITING FOR "+(4-e.players.length)+" PLAYER"+(4-e.players.length>1?"S":"")}):S.a.createElement(Fe,{style:Ut.submitButtonJoined,status:"success",size:"small",disabled:e.isLoading||!n||!e.roundOver&&t,loading:e.isLoading,text:n?e.roundOver?t?"WAITING FOR HOST...":"HOLD UP! WAIT A MINUTE! ("+e.numOfRounds+" ROUNDS)":"WAITING FOR HOST...":"WAITING FOR "+(4-e.players.length)+" PLAYER"+(4-e.players.length>1?"S":"")}),S.a.createElement(Ct,null))})),Ht=n(34)("Game"),Mt=Object(L.b)((function(e){var t=e.game;return{questions:t.questions,roundOptions:t.roundOptions,currentQuestionId:t.currentQuestionId}}))((function(e){return S.a.createElement(S.a.Fragment,null,e.questions[e.currentQuestionId].answers.map((function(t,n){var r;return null!==t?S.a.createElement(Be.Text,{key:n,style:[0===n?Ht.answerLeft:Ht.answerRight]},"SELECTED "+(t===n?"THEMSELVES!":null==(r=e.roundOptions)?void 0:r.hotseatPlayers[0===n?1:0].name)):S.a.createElement(Be.Text,{key:n,style:[Ht.pleadTheFifth,0===n?Ht.pleadAlignLeft:Ht.pleadAlignRight]},"pleaded the 5th")})))})),Wt=n(34)("Game"),zt=function(e){var t,n,r=null==(t=e.players)?void 0:t.some((function(t){return t.id===e.user.id})),a=function(t){console.log("select player!!",t),r&&e.canAnswer&&e.answerQuestion&&e.answerQuestion(e.questionIndex,t)};return S.a.createElement(Be.Layout,{style:Wt.pickedPlayerContainer},function(){var t;return(null==(t=e.question)?void 0:t.question)?S.a.createElement(S.a.Fragment,null,S.a.createElement(Be.Text,{style:Wt.titleNotChosen},r?e.canAnswer?"":"Waiting for to show answer...":"Waiting for players to answer..."),S.a.createElement(Be.Text,{style:Wt.question},e.question.question)):S.a.createElement(Be.Text,{style:Wt.titleChosenYellow},"CHOSEN ",S.a.createElement(Be.Text,{style:Wt.titleChosenRed},"VICTIMS"))}(),S.a.createElement(k.a,{style:Wt.pickedPlayerRowContainer},null==(n=e.players)?void 0:n.map((function(t,n){var o=t.id===e.user.id;return r?S.a.createElement(k.a,{style:Wt.pickedPlayer,key:n},S.a.createElement(Be.Button,{style:[e.canAnswer?Wt.pickedPlayerCard:Wt.pickedPlayerCardDisabled,0===n?e.displayAnswer?Wt.cardPinkAnswer:Wt.cardPink:e.displayAnswer?Wt.cardPurpleAnswer:Wt.cardPurple],size:"giant",status:e.canAnswer?"danger":"ghost",onPress:function(){e.canAnswer&&a(n)}},t.name),S.a.createElement(Be.Text,{style:[Wt.belowCardText,0===n?Wt.alignLeft:Wt.alignRight],appearance:"hint"},t.name," ",o?"(You)":"")):S.a.createElement(k.a,{style:Wt.pickedPlayer,key:n},S.a.createElement(Be.Card,{style:[Wt.pickedPlayerCard,0===n?e.displayAnswer?Wt.cardPinkAnswer:Wt.cardPink:e.displayAnswer?Wt.cardPurpleAnswer:Wt.cardPurple],onPress:function(){return a(n)}},S.a.createElement(Be.Text,{style:Wt.title},t.name)),S.a.createElement(Be.Text,{style:[Wt.belowCardText,0===n?Wt.alignLeft:Wt.alignRight],appearance:"hint"},t.name," ",o?"(You)":""))})),e.displayAnswer?S.a.createElement(Mt,null):S.a.createElement(S.a.Fragment,null)))},Vt=(function(){function e(t){u()(this,e),this.questionInput=t}m()(e,null,[{key:"empty",value:function(){return new e("Who's more likely to")}}])}(),ct.a().shape({questionInput:ct.c().matches(/^Who's more likely.*$/,{message:'Question must start with "Whos\'s more likely"'}).required("Question is required")})),Qt=n(176),Jt=n(92),Yt=["Christmas ornament","bag of popcorn","bag of rubber bands","balloon","banana","bangle bracelet","bar of soap","beaded necklace","bed","bell","blowdryer","book of jokes","book of matches","bottle","bottle cap","bottle of glue","bottle of honey","bottle of nail polish","bottle of oil","bottle of paint","bottle of pills","bottle of soda","bottle of sunscreen","bottle of water","bouquet of flowers","bowl","box","box of baking soda","box of chalk","box of crayons","box of tissues","bread","broccoli","brush","butter knife","camera","can of beans","can of chili","can of peas","can of whipped cream","candle","candlestick","car","cars","carton of ice cream","cat","chain","chicken","children's book","chocolate","year tutor hat","clock","coffee pot","computer","container of pudding","cookie jar","cookie tin","cow","cowboy hat","craft book","credit card","crow","crowbar","dagger","dictionary","dog","domino set","door","drawer","drill press","feather","few batteries","fish","fishing hook","flag","flashlight","flyswatter","football","fork","fridge","frying pan","garden spade","giraffe","glass","glow stick","grocery list","hair brush","hair clip","hammer","hamster","hand bag","handful of change","hanger","harmonica","helmet","house","ipod","ipod charger","jar of jam","jar of peanut butter","jar of pickles","jigsaw puzzle","key","keyboard","keychain","kitchen knife","knife","lamp shade","laser pointer","lemon","letter opener","light bulb","lighter","lime","lion","magazine","magnet","marble","martini glass","microphone","milk","mirror","mobile phone","model car","money","mop","mouse pad","nail clippers","necktie","needle","notebook","notepad","novel","pack of cards","package of crisp and crunchy edibles","bag of spuddys","packet of seeds","paintbrush","pair of binoculars","pair of dice","pair of earrings","pair of glasses","pair of handcuffs","pair of knitting needles","pair of rubber gloves","pair of safety goggles","pair of scissors","pair of socks","pair of sunglasses","pair of water goggles","panda","pants","paper","pasta strainer","pearl necklace","pen","pencil holder","pepper shaker","perfume","phone","photo album","picture frame","piece of gum","pillow","pinecone","plastic fork","plush octopus","pocketknife","pocketwatch","pool stick","postage stamp","purse","purse/bag","quartz crystal","rabbit","radio","rat","remote","rhino","rock","roll of duct tape","roll of masking tape","roll of stickers","roll of toilet paper","rolling pin","rope","rubber band","rubber duck","rusty nail","safety pin","sailboat","salt shaker","sandal","sandglass","scarf","scotch tape","screw","screwdriver","seat belt","shark","sharpie","sheep","sheet of paper","shirt","shirt button","shoe lace","shoes","shopping bag","shovel","sidewalk","sketch pad","slipper","snail shell","snowglobe","soccer ball","socks","spatula","spice bottle","sponge","spoon","squirrel","squirt gun","steak knife","stick of incense","sticker book","sticky note","stockings","stop sign","straw","sun glasses","sword","tea cup","tea pot","television","tennis ball","tennis racket","thermometer","thimble","thread","tiger","tire swing","tissue box","toe ring","toilet","toilet paper tube","tomato","tooth pick","toothbrush","toothpaste","toothpick","towel","toy car","toy plane","toy soldier","toy top","trash bag","tree","trucks","tube of lip balm","tube of lipstick","turtle","tv","vase","wallet","washcloth","washing machine","watch","water bottle","wedding ring","whale","whistle","window","wine glass","wireless control","wooden spoon","word search","wrench","wristwatch","zebra","zipper"],Kt=["accept","add","admire","admit","advise","afford","agree","alert","allow","ask","attach","attack","attempt","attend","attract","avoid","back","bake","balance","ban","bang","bare","bat","bathe","battle","beam","beg","behave","belong","bleach","bless","blind","blink","blot","blush","boast","boil","bolt","bomb","book","bore","change","charge","chase","cheat","check","cheer","chew","choke","chop","claim","clap","clean","coil","collect","colour","comb","command","communicate","compare","compete","complain","complete","concentrate","concern","confess","confuse","connect","decay","deceive","decide","decorate","delay","delight","deliver","depend","describe","desert","dust","fear","fence","fetch","file","fill","film","fire","fit","fix","flap","flash","float","flood","flow","flower","fold","follow","fool","glue","grab","grate","grease","harass","harm","hate","haunt","head","heal","heap","heat","help","hook","hop","hope","hover","hug","hum","hunt","hurry","identify","ignore","imagine","impress","improve","include","increase","interest","interfere","interrupt","introduce","invent","invite","irritate","learn","level","license","lick","lie","lighten","like","list","manage","march","mark","marry","match","mate","matter","measure","meddle","melt","memorise","mend","mess up","milk","mine","miss","mix","mug","multiply","murder","nail","name","need","nest","nod","note","notice","number","obey","object","peck","pedal","peel","peep","perform","permit","phone","pick","pinch","pine","place","plan","plant","play","please","pour","practise","pray","preach","precede","prefer","prepare","present","preserve","press","pretend","prevent","prick","print","produce","program","promise","protect","provide","pull","pump","punch","race","radiate","rain","release","rely","remain","remember","remind","remove","repair","repeat","replace","reply","report","reproduce","request","rescue","retire","return","rhyme","rinse","risk","rob","rock","roll","rot","rub","satisfy","save","saw","scare","scatter","scold","scorch","scrape","scratch","scream","screw","scribble","scrub","seal","smell","smile","smoke","snatch","sneeze","sniff","snore","snow","soak","soothe","sound","spare","spark","sparkle","spell","spill","spoil","spot","spray","sprout","squash","squeak","squeal","squeeze","stain","stamp","stare","start","support","suppose","surprise","surround","suspect","suspend","switch","talk","tame","tap","taste","tease","transport","trap","travel","treat","tremble","trick","trip","trot","trouble","trust","try","tug","whistle","wack'm","wink","wipe","wish","wobble","wonder","work","worry","wrap","wreck","wrestle","wriggle","x-ray","zoom"],Xt=function(){var e=function(e){return e[Math.floor(Math.random()*e.length)]};return"Who's more likely to "+e(Kt)+" a "+e(Yt)+"?"},$t=n(34)("Game"),Zt=Object(L.b)((function(e){var t=e.game;return{isLoading:t.isLoading,questionInput:t.questionInput,questions:t.questions,user:t.user,roundOptions:t.roundOptions}}),r)((function(e){var t=function(e){return S.a.createElement(Be.Icon,i()({},e,{name:"shuffle-2-outline"}))},n=e.isLoading,r=e.questionInput,a=e.roundOptions,o=e.questions;return S.a.createElement(Qt.a,{behavior:"ios"==We.a.OS?"padding":"height",style:$t.inputContainer},S.a.createElement(Ve.b,{onPress:"web"!==We.a.OS?Jt.a.dismiss:function(){}},S.a.createElement(Be.Text,{style:{color:"#D7D98B"}},"No. of your ",S.a.createElement(Be.Text,{style:{color:"#AD0D4B"}},"Questions"),": ",e.questions.length," /"," ",e.roundOptions.numQuestions),S.a.createElement(ze.a,{initialValues:{questionInput:r},validationSchema:Vt,onSubmit:function(t,n){!function(t){console.log("submitting!!!"),e.setGameLoading();var n={playerId:e.user.id,question:t.questionInput};e.inputQuestion(n)}(t),n.setValues({questionInput:r})}},(function(e){Object(w.useEffect)((function(){e.values.questionInput.match(/^Who's more likely.*$/)||e.setValues({questionInput:"Who's more likely"})}),[e.values.questionInput]);var r=n||e.isSubmitting;return!1===n&&!0===e.isSubmitting&&e.setSubmitting(!1),a.numQuestions<=o.length?S.a.createElement(Be.Text,{style:$t.inputTitle},"Waiting for other players..."):S.a.createElement(k.a,{style:$t.questionInputContainer},S.a.createElement(Be.Button,{accessoryLeft:t,onPress:function(){e.setValues({questionInput:Xt()})},status:"info",disabled:r,style:$t.questionInputButton}),S.a.createElement(Ke,{id:"questionInput",style:$t.questionInput,size:"large",placeholder:"Insert your question",value:e.values.questionInput,onSubmitEditing:function(){return"web"!==We.a.OS?e.handleSubmit():function(){}},onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),S.a.createElement(Fe,{icon:"checkmark-outline",disabled:r,loading:r,text:"",onPress:function(){return e.handleSubmit()},status:"success",style:$t.questionInputButton}))}))))})),en=n(34)("Game"),tn=Object(L.b)((function(e){var t=e.game;return{timer:t.timer,user:t.user,phase:t.phase,currentQuestionId:t.currentQuestionId,questions:t.questions,roundOptions:t.roundOptions,lobbyName:t.lobbyName,canAnswer:t.canAnswer,displayAnswer:t.displayAnswer,hotseatOptions:t.hotseatOptions}}),r)((function(e){var t=Object(w.useState)(!1),n=Me()(t,2),r=(n[0],n[1]),a=Object(w.useState)(!1),o=Me()(a,2),i=o[0],s=o[1];Object(Ft.a)(),Object(w.useEffect)((function(){s((function(e){return!1})),Object(B.j)((function(){return console.log("requesting questions"),r((function(e){return!0})),e.questions.map((function(e){return e.question}))}))}));var l=function(t,n){var r;e.answerQuestion(e.lobbyName,t,n,null==(r=e.roundOptions)?void 0:r.roundNum)};return S.a.createElement(Be.Layout,{style:en.container},S.a.createElement(Rt,{text:e.phase,loadingText:e.phase,lobbyCode:0!==e.timer?""+e.timer:"",icon:"close-outline",status:"info",onPress:function(){return e.setGameLoading(),e.leaveGame(),void e.navigation.navigate(q.HOME)}}),function(){var t,n,r,a=null==(t=e.roundOptions)?void 0:t.hotseatPlayers.some((function(t){return t.id===e.user.id}));switch(e.phase){case"Question Gathering":return S.a.createElement(S.a.Fragment,null,S.a.createElement(Ve.a,{contentContainerStyle:{flex:1}},S.a.createElement(zt,{user:e.user,players:null==(n=e.roundOptions)?void 0:n.hotseatPlayers})),i?S.a.createElement(Be.Text,{style:en.title},"Can't think of questions? That's okay, we'll help you out!"):S.a.createElement(S.a.Fragment,null),a?S.a.createElement(Be.Text,{style:en.titleNotChosen},'Waiting to "destroy" your friendship...'):S.a.createElement(Zt,null));case"Display Answer":case"Hotseat":return S.a.createElement(Ve.a,{contentContainerStyle:{flex:1}},S.a.createElement(zt,{user:e.user,players:null==(r=e.roundOptions)?void 0:r.hotseatPlayers,question:e.questions[e.currentQuestionId],questionIndex:e.currentQuestionId,answerQuestion:l,canAnswer:e.canAnswer,displayAnswer:"Display Answer"===e.phase}));case"Disconnected":return S.a.createElement(Be.Text,null,"Disconnected \ud83d\ude22");default:return S.a.createElement(Ot,null)}}(),S.a.createElement(Ct,null))})),nn=(function(){function e(t){u()(this,e),this.username=t}m()(e,null,[{key:"empty",value:function(){return new e("")}}])}(),ct.a().shape({username:ct.c().min(4,"Username must be at least 4 characters").required("Username is required")})),rn=function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement(Be.Text,null,"Cough Cough"))},an=n(34)("Form"),on={HostScreen:vt,JoinScreen:It,LobbyScreen:qt,GameScreen:tn,EditUserScreen:Object(L.b)((function(e){var t=e.game;return{error:t.error,isLoading:t.isLoading,players:t.players,lobbyName:t.lobbyName,userToEditIndex:t.userToEditIndex,user:t.user}}),r)((function(e){var t=e.error,n=e.isLoading,r=S.a.useState(!1),a=Me()(r,2),o=a[0];a[1];return S.a.createElement(Be.Layout,{style:an.formContainer},S.a.createElement(mt,{text:"",icon:"close-outline",status:"primary",onPress:function(){return e.toggleRedirect()}}),e.players[e.userToEditIndex].id===e.user.id||o?S.a.createElement(k.a,{style:an.formContainer},S.a.createElement(ze.a,{initialValues:{username:e.players[e.userToEditIndex].name||""},validationSchema:nn,onSubmit:function(t){return function(t){e.setGameLoading();var n=e.lobbyName,r=e.players[e.userToEditIndex],a=t.username;r.name=a,console.log("sending update!",{lobbyName:n,user:r}),e.updateSinglePlayer(n,r)}(t)}},(function(e){var r=n||e.isSubmitting;return S.a.createElement(S.a.Fragment,null,S.a.createElement(Ke,{id:"username",style:an.formControl,size:"large",value:e.values.username,placeholder:"Enter a Username",onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.handleSubmit()}}),""!==t&&S.a.createElement(Be.Text,null,t),S.a.createElement(Fe,{style:an.submitButton,disabled:!e.isValid&&!e.isValidating,onPress:function(){e.handleSubmit()},loading:r,text:"SAVE"}))}))):S.a.createElement(S.a.Fragment,null,S.a.createElement(Be.Text,null,"Time to Cough it up"),S.a.createElement(rn,null)))}))},sn=Object(Q.a)(),ln=Object(L.b)((function(e){var t=e.game;return{inGame:t.inGame,editUser:t.editUser}}),r)((function(e){return S.a.createElement(sn.Navigator,i()({mode:"modal"},e,{headerMode:"none",screenOptions:{animationEnabled:!0}}),e.inGame?S.a.createElement(sn.Screen,{name:q.INGAME,component:on.GameScreen}):!1===e.editUser?S.a.createElement(sn.Screen,{name:q.LOBBY,component:on.LobbyScreen}):S.a.createElement(sn.Screen,{name:q.EDIT_USER,component:on.EditUserScreen}))})),cn=Object(Q.a)(),un=Object(L.b)((function(e){return{token:e.auth.token,init:e.game.init}}),r)((function(e){return e.init||e.initGameSock(),S.a.createElement(cn.Navigator,{headerMode:"none",screenOptions:{animationEnabled:!0}},e.token&&""!=e.token?S.a.createElement(cn.Screen,{name:q.HOST,component:ln}):S.a.createElement(S.a.Fragment,null,S.a.createElement(cn.Screen,{name:q.SIGN_IN,component:bt.SignInScreen}),S.a.createElement(cn.Screen,{name:q.SIGN_UP,component:bt.RegisterScreen})))})),dn=n(34)("App"),mn=z.a.manifest.extra.SERVER_URL;var fn=Object(L.b)((function(e){var t=e.auth;return{token:t.token,name:t.name,isHost:e.game.isHost}}),(function(e){var t=r.hostGameAction,n=r.autoRejoinLobby,o=r.initGameSock,i=a.getUser;return{hostGameAction:Object(P.b)(t,e),autoRejoinLobby:Object(P.b)(n,e),getUser:Object(P.b)(i,e),initGameSock:Object(P.b)(o,e)}}))((function(e){var t=Object(w.useState)(!1),n=Me()(t,2),r=n[0],a=n[1],o=Object(w.useState)({id:"",lobbyName:""}),s=Me()(o,2),l=s[0],c=s[1],u=Object(w.useState)(!1),d=Me()(u,2),m=d[0],f=d[1];Object(w.useEffect)((function(){Y.a.getItem("myId").then((function(e){if(e){var t=JSON.parse(e);t&&t.expiry&&t.expiry>Date.now()&&fetch(mn+"/api/gameActive",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:t.id,lobbyName:t.lobby})}).then((function(e){return e.json()})).then((function(e){e&&e.active&&(console.log("Shes sound let her go",e.active),c({id:t,lobbyName:t.lobby}),a(!0))}))}})).catch((function(e){console.log("async storage error!",e)})),Y.a.getItem("seenRules").then((function(t){t&&"true"===t||(Y.a.setItem("seenRules","true").catch((function(e){return console.log("error setting seen rules",e)})),e.navigation.navigate(q.RULES))})).catch((function(e){return console.log("error checking rules",e)})),Y.a.getItem("token").then((function(t){t&&""!==t?e.getUser(t):f(!0)})).catch((function(e){console.log("error getting token",e),f(!0)}))}),[]);var p=function(e){return S.a.createElement(Be.Icon,i()({},e,{name:"settings-2-outline"}))},g=function(e){return S.a.createElement(Be.Icon,i()({},e,{name:"question-mark-outline"}))};return S.a.createElement(Be.Layout,{style:dn.container},S.a.createElement(Ve.a,{style:dn.scrollContainer,contentContainerStyle:dn.scrollChildContainer},e.token&&""!==e.token?S.a.createElement(k.a,{style:dn.signOutAndCogContainer},S.a.createElement(qe,null),S.a.createElement(Be.Button,{style:dn.settingsCog,onPress:function(){return e.navigation.navigate(q.DEVINFO)},appearance:"ghost",accessoryRight:p}),S.a.createElement(Be.Button,{style:dn.settingsCog,onPress:function(){return e.navigation.navigate(q.RULES)},status:"info",accessoryRight:g})):S.a.createElement(k.a,{style:dn.signOutAndCogContainer},S.a.createElement(Be.Button,{style:dn.settingsCog,onPress:function(){return e.navigation.navigate(q.DEVINFO)},appearance:"ghost",accessoryRight:p}),S.a.createElement(Be.Button,{style:dn.settingsCog,onPress:function(){return e.navigation.navigate(q.RULES)},status:"info",accessoryRight:g})),S.a.createElement(Be.Text,{style:dn.title},"WHO IS"),S.a.createElement(Be.Text,{style:dn.titleRed},"MORE LIKELY"),S.a.createElement(Be.Text,{style:dn.title},"TO"),S.a.createElement(k.a,null,r?(console.log(r),S.a.createElement(Be.Button,{style:dn.formButtonAlternate,onPress:function(){e.initGameSock(),e.autoRejoinLobby(l).then((function(){e.navigation.navigate(q.GAME)})).catch((function(e){console.log(e),a(!1)}))}},"REJOIN GAME "+l.lobbyName)):S.a.createElement(S.a.Fragment,null),S.a.createElement(Be.Button,{disabled:!m&&""===e.token,style:dn.formButton,onPress:function(){e.token&&""!==e.token?(e.initGameSock(),e.hostGameAction({username:e.name,token:e.token}),e.navigation.navigate(q.AUTH)):e.navigation.navigate(q.AUTH)}},"HOST"),S.a.createElement(Be.Button,{disabled:!m&&""===e.token,style:dn.formButton,onPress:function(){return e.navigation.navigate(q.GAME)}},"JOIN"))))})),pn=n(34)("Game"),gn=[{field:"Server URL",value:z.a.manifest.extra.SERVER_URL},{field:"Build Mode",value:"Production"},{field:"Version",value:z.a.manifest.version},{field:"Platform",value:We.a.OS}],yn=function(e){var t=function(e){return S.a.createElement(Be.Icon,i()({},e,{name:"settings-2-outline"}))};return S.a.createElement(Be.Layout,{style:pn.container},S.a.createElement(mt,{text:"Developer Information",icon:"close-outline",status:"info",onPress:function(){return e.navigation.navigate(q.HOME)}}),S.a.createElement(Be.List,{style:pn.listContainer,data:gn,renderItem:function(e){var n=e.item;return S.a.createElement(Be.ListItem,{title:n.field+": "+n.value,accessoryLeft:t})}}))},hn=n(34)("Rules"),bn=[{imgSrc:n(526),title:"WELCOME TO SHCOOP",description:'A competitive party game where you and your mates can be put up against each other to a "Who is more likely to..." deathmatch! Fun right? So, here are the rules...'},{imgSrc:n(527),title:"HOSTING",description:"To host, either sign in via Google/Apple or sign up with us then login with your custom account. Once signed in, you will be shcooped into your own lobby with a code to send to your friends. The more the merrier! (By the way, only you, as the host, can start the game). "},{imgSrc:n(528),title:"JOINING",description:"Simple. Enter the lobby code and your own username (can literally be anything) and hit join."},{imgSrc:n(529),title:"IN-GAME: CHOSEN",description:"So you got chosen? Here is what you do: The non-chosen players will make up questions for you chosen players and once the time is up, you answer those questions by either tapping/clicking your avatar or your opponents."},{imgSrc:n(530),title:"IN-GAME: NOT CHOSEN",description:"Ah yes, the lucky one. Your job is to make questions for the chosen players within a time limit. Cannot think of any? Do not worry, boo boo, we got you! Hit the randomise button on the bottom left, let us make the question for you. Questions good? Let em have it!"}],En={Home:fn,DevInfoScreen:yn,RulesScreen:function(e){var t=S.a.useState(0),n=Me()(t,2),r=n[0],a=n[1];return S.a.createElement(Be.ViewPager,{style:hn.rulesContainer,selectedIndex:r,onSelect:function(e){return a(e)}},bn.map((function(t,n){return S.a.createElement(Be.Layout,{key:n,style:hn.tab,level:"2"},S.a.createElement(Be.Text,{category:"h1",style:hn.ruleHeading},t.title),S.a.createElement(Be.Text,{style:hn.ruleDescription},t.description),S.a.createElement(O.a,{resizeMode:"contain",style:hn.rulesImage,source:t.imgSrc}),S.a.createElement(Be.Button,{status:"success",style:hn.rulesBtn,onPress:function(){return function(t){if(t>=bn.length-1)return e.navigation.navigate(q.HOME);a(r+1)}(r)}},r>=bn.length-1?"YEEHAW TIME":"NEXT"))})))}},vn=Object(Q.a)(),wn=function(e){return S.a.createElement(vn.Navigator,i()({},e,{mode:"modal",headerMode:"none",screenOptions:{animationEnabled:!0}}),S.a.createElement(vn.Screen,{name:q.HOME,component:En.Home}),S.a.createElement(vn.Screen,{name:q.DEVINFO,component:En.DevInfoScreen}),S.a.createElement(vn.Screen,{name:q.RULES,component:En.RulesScreen}))},Sn=Object(Q.a)(),On=Object(L.b)((function(e){var t=e.game;return{isHost:t.isHost,inLobby:t.inLobby,inGame:t.inGame,init:t.init,editUser:t.editUser}}),r)((function(e){return e.init||e.initGameSock(),S.a.createElement(Sn.Navigator,i()({},e,{headerMode:"none",screenOptions:{animationEnabled:!0}}),e.inLobby?S.a.createElement(Sn.Screen,{name:q.JOIN,component:ln}):S.a.createElement(Sn.Screen,{name:q.JOIN,component:on.JoinScreen}))})),kn=Object(Q.a)(),In=function(e){return S.a.createElement(kn.Navigator,i()({},e,{mode:"modal",headerMode:"none",screenOptions:{animationEnabled:!0}}),S.a.createElement(kn.Screen,{name:q.HOME,component:wn}),S.a.createElement(kn.Screen,{name:q.AUTH,component:un}),S.a.createElement(kn.Screen,{name:q.GAME,component:On}))},An=n(113),Rn=n(357),Tn=n(252),Cn=n(143),xn=n.n(Cn),Ln=n(355);function Pn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y()(this,n)}}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gn=Object(P.e)(W,Object(P.d)(Object(P.a)(x.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),jn=function(e){var t=Object(w.useRef)(new R.a.Value(0)).current;return S.a.useEffect((function(){R.a.timing(t,{toValue:1,duration:e.duration,delay:e.delay}).start()}),[]),S.a.createElement(R.a.View,{style:Nn(Nn({},e.style),{},{opacity:t})},e.children)},_n=function(e){p()(r,e);var t=Pn(r);function r(){var e;u()(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={showApp:!1},e._cacheResourcesAsync=function(){var t;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return T.a(),r.next=3,l.a.awrap(n(320));case 3:return t=r.sent,r.next=6,l.a.awrap(C.a.fromModule(t).downloadAsync());case 6:setTimeout((function(){e.setState({showApp:!0})}),3500);case 7:case"end":return r.stop()}}),null,null,null,Promise)},e}return m()(r,[{key:"componentDidMount",value:function(){xn()("enableCrashReporting",!0),xn()("apiKey","bFCdvDJJcwGct6nwxT3EQ"),xn()("withTags",["React-Native",z.a.manifest.extra.SERVER_URL]),xn()("setVersion",z.a.manifest.version),xn()("options",{ignore3rdPartyErrors:!0}),T.b()}},{key:"render",value:function(){return this.state.showApp?S.a.createElement(L.a,{store:Gn},S.a.createElement(Be.IconRegistry,{icons:Rn.EvaIconsPack}),S.a.createElement(Be.ApplicationProvider,i()({},Tn,{theme:Nn(Nn({},Tn.dark),Ln)}),S.a.createElement(An.b,null,S.a.createElement(V.a,null,S.a.createElement(In,null))))):S.a.createElement(A.a,{style:{flex:1,justifyContent:"space-between",alignItems:"center"}},S.a.createElement(k.a,{style:{marginTop:50}},S.a.createElement(jn,{delay:500,duration:500,style:{width:"100%",height:60,alignItems:"center"}},S.a.createElement(I.a,{style:{color:"#EA3462",fontSize:50,fontWeight:"bold"}},"Shcoop App.")),S.a.createElement(jn,{delay:800,duration:500,style:{width:"100%",height:60,alignItems:"center"}},S.a.createElement(I.a,{style:{fontWeight:"500",textAlign:"center"}},"Competative party game."))),S.a.createElement(jn,{delay:200,duration:500,style:{width:"100%",height:400,alignItems:"center"}},S.a.createElement(O.a,{style:{width:"100%",height:"100%",maxHeight:400,maxWidth:400},source:n(320),onLoad:this._cacheResourcesAsync})))}}]),r}(S.a.Component)},368:function(e,t,n){n(369),e.exports=n(1029)},369:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},408:function(e,t){},509:function(e,t,n){var r={"./":34,"./index":34,"./index.ts":34,"./light":169,"./light/":169,"./light/App":179,"./light/App.ts":179,"./light/Form":180,"./light/Form.ts":180,"./light/Game":181,"./light/Game.ts":181,"./light/Header":182,"./light/Header.ts":182,"./light/Notification":183,"./light/Notification.ts":183,"./light/Rules":184,"./light/Rules.ts":184,"./light/index":169,"./light/index.ts":169};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=509},526:function(e,t,n){e.exports=n.p+"static/media/Extra.6b5f0cb8.png"},527:function(e,t,n){e.exports=n.p+"static/media/Hosting.02713dfd.png"},528:function(e,t,n){e.exports=n.p+"static/media/Joining1.15008588.png"},529:function(e,t,n){e.exports=n.p+"static/media/Hosting1.dd0c4ffc.png"},530:function(e,t,n){e.exports=n.p+"static/media/ChosenorNotChosen.f77fd1fc.png"}},[[368,1,2]]]);
//# sourceMappingURL=app.3c6187b6.chunk.js.map